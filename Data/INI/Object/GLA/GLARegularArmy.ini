;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
Object GLAVehicleBRDM1

; *** ART Parameters ***
SelectPortrait         = SUBRDM1
ButtonImage            = SUBRDM1

Draw = W3DTruckDraw ModuleTag_01

OkToChangeModelColor = Yes
ProjectileBoneFeedbackEnabledSlots = PRIMARY

ConditionState = NONE
Model = UVBRDM1
Turret = TURRET
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
End

ConditionState = REALLYDAMAGED
Model = UVBRDM1_D
Turret = TURRET
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
End

ConditionState = RUBBLE
Model = UVBRDM1_D
Turret = TURRET
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
End

;;;Salvage Upgrade 1

ConditionState = WEAPONSET_CRATEUPGRADE_ONE
Model = UVBRDM1_S
Turret = TURRET02
WeaponFireFXBone = PRIMARY WeaponB
WeaponLaunchBone = PRIMARY WeaponB
End

ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model = UVBRDM1_SD
Turret = TURRET02
WeaponFireFXBone = PRIMARY WeaponB
WeaponLaunchBone = PRIMARY WeaponB
End

ConditionState = WEAPONSET_CRATEUPGRADE_ONE RUBBLE
Model = UVBRDM1_SD
Turret = TURRET02
WeaponFireFXBone = PRIMARY WeaponB
WeaponLaunchBone = PRIMARY WeaponB
End

;;;Salvage Upgrade 2

ConditionState = WEAPONSET_CRATEUPGRADE_TWO
Model = UVBRDM1_S1
Turret = TURRET02
ShowSubObject = TNT01 TNT02 TNT03 TNT04 TNT05 TNT06
WeaponFireFXBone = PRIMARY WeaponB
WeaponLaunchBone = PRIMARY WeaponB
End

ConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model = UVBRDM1_S1D
Turret = TURRET02
ShowSubObject = TNT01 TNT02 TNT03 TNT04 TNT05 TNT06
WeaponFireFXBone = PRIMARY WeaponB
WeaponLaunchBone = PRIMARY WeaponB
End

ConditionState = WEAPONSET_CRATEUPGRADE_TWO RUBBLE
Model = UVBRDM1_S1D
Turret = TURRET02
ShowSubObject = TNT01 TNT02 TNT03 TNT04 TNT05 TNT06
WeaponFireFXBone = PRIMARY WeaponB
WeaponLaunchBone = PRIMARY WeaponB
End


TrackMarks = EXTireTrack.tga

Dust                        = RocketBuggyDust
DirtSpray                   = RocketBuggyDirtSpray
PowerslideSpray             = RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension = Yes.
LeftFrontTireBone           = Wheel01
RightFrontTireBone          = Wheel02
LeftRearTireBone            = Wheel03
RightRearTireBone           = Wheel04
TireRotationMultiplier      = 0.2   ; this * speed = rotation.
End

Draw = W3DModelDraw ModuleMod_OverWater
DefaultConditionState
Model = NVTCrawler_W
End
AliasConditionState  = MOVING
ConditionState       = OVER_WATER
ParticleSysBone    = TreadFX01 AmphibWaveRest
ParticleSysBone    = TreadFX02 AmphibWaveRest
End
ConditionState       = OVER_WATER MOVING
ParticleSysBone    = TreadFX01 AmphibWave
ParticleSysBone    = TreadFX02 AmphibWave
End
End

; ***DESIGN parameters ***
DisplayName         = OBJECT:BRDM1
Side                = GLA
EditorSorting       = VEHICLE
TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions = None
Weapon = PRIMARY BRDM1MissileWeapon
;Weapon = TERTIARY TerroristSuicideNotARealWeapon
;AutoChooseSources = TERTIARY NONE
End
WeaponSet
Conditions = CRATEUPGRADE_ONE
Weapon = PRIMARY BRDM1MissileWeaponUpgradedOne
;Weapon = TERTIARY TerroristSuicideNotARealWeapon
; AutoChooseSources = TERTIARY NONE
End
WeaponSet
Conditions = CRATEUPGRADE_TWO
Weapon = PRIMARY BRDM1MissileWeaponUpgradedTwo
;Weapon = TERTIARY TerroristSuicideNotARealWeapon
;AutoChooseSources = TERTIARY NONE
End

ArmorSet
Conditions      = None
Armor           = TruckArmor
DamageFX        = TankDamageFX
End
BuildCost       = 1200
BuildTime       = 15.0          ;in seconds
VisionRange     = 250
ShroudClearingRange = 300
Prerequisites
Object GLAArmsDealer
Object GLAPalace
;Science = SCIENCE_BRDM1
End

ExperienceValue       = 50 50 100 150    ;Experience point value at each level
ExperienceRequired    = 0 200 400 800  ;Experience points needed to gain each level
IsTrainable           = Yes             ;Can gain experience
CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet            = GLAVehicleBRDM1CommandSet

; *** AUDIO Parameters ***
VoiceSelect           = GLASniperSelect
VoiceMove             = GLASniperVoiceMove
VoiceAttack           = GLASniperVoiceAttack
SoundMoveStart        = BMRD1MoveStart
SoundMoveStartDamaged = BMRD1MoveStart
VoiceGuard            = GLASniperVoiceMove

UnitSpecificSounds
VoiceCreate       = GLASniperVoiceReady
TruckLandingSound = RocketBuggyLand
VoiceCrush        = GLASniperVoiceMove
VoiceEnter        = GLASniperVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

Body = ActiveBody ModuleTag_02
MaxHealth       = 330
InitialHealth   = 330

SubdualDamageCap = 660
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End
Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate = 90
MinIdleScanAngle      = 10
MaxIdleScanAngle      = 40
MinIdleScanInterval   = 5000
MaxIdleScanInterval   = 10000
ControlledWeaponSlots = PRIMARY
End
AutoAcquireEnemiesWhenIdle = Yes
End

Locomotor = SET_NORMAL BRDM1Locomotor TroopCrawlerWaterLocomotor


Behavior = PhysicsBehavior ModuleTag_04
Mass = 50.0
End

; The pop up AirDeath
Behavior = SlowDeathBehavior ModuleTag_05
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier = 5
ModifierBonusPerOverkillPercent = 20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay = 0
FX = INITIAL FX_BuggyNewDeathExplosion
OCL = FINAL OCL_BRDM1DeathExplosion
End

Behavior = AutoHealBehavior ModuleTag_08
HealingAmount = 2
HealingDelay = 1000 ; msec
TriggeredBy = Upgrade_GLAJunkRepair
End

Behavior = WeaponSetUpgrade ModuleTag_09
TriggeredBy = Upgrade_GLABuggyAmmo
End

Behavior = DestroyDie ModuleTag_11
DeathTypes = NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior = FXListDie ModuleTag_12
DeathTypes = NONE +CRUSHED +SPLATTED
DeathFX = FX_CarCrush
End
Behavior = CreateObjectDie ModuleTag_13
DeathTypes = NONE +CRUSHED +SPLATTED
CreationList = OCL_RocketBuggy_CrushEffect
End
Behavior = CreateCrateDie ModuleTag_14
CrateData = SalvageCrateData
End

Behavior                 = TransitionDamageFX ModuleTag_15
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_George
;    DeathWeapon   = Demo_SuicideDynamitePackPlusFire
;    StartsActive  = No
;    TriggeredBy   = Demo_Upgrade_SuicideBomb
;  End

;  Behavior = CommandSetUpgrade ModuleTag_19
;    CommandSet  = Demo_GLAVehicleBRDM1CommandSetUpgrade
;    TriggeredBy = Demo_Upgrade_SuicideBomb
;  End

Behavior = EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes = ALL -CRUSHED -SPLATTED
RequiredStatus = HIJACKED
VeterancyLevels =  ALL
GroundCreationList = OCL_HijackerEmerge
AirCreationList = OCL_HijackerEmergeViaParachute
End

Behavior = FXListDie ModuleTag_HijackerEmerge02
RequiredStatus = HIJACKED
DeathTypes = ALL -CRUSHED -SPLATTED
DeathFX = FX_HijackerEmerge
End

Geometry = BOX
GeometryMajorRadius = 13.0
GeometryMinorRadius = 9.0
GeometryHeight = 7.5
GeometryIsSmall = Yes

Shadow = SHADOW_VOLUME
ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;---------------------------------------------------------------------------
Object GLASuperWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                America
EditorSorting       SYSTEM
CommandSet   GLASuperPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End

Object GLASupportWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                America
EditorSorting       SYSTEM
CommandSet GLASupportPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End
;------------------------------------------------------------------------------
Object GLAJetVultureBomber

; *** ART Parameters ***
SelectPortrait          SUVulture_L
ButtonImage             SUVulture

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model                UVVulture
HideSubObject        BurnerFX
WeaponLaunchBone     PRIMARY WeaponA
End

ConditionState         JETEXHAUST
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
ShowSubObject        BurnerFX
ParticleSysBone      Exhaust01 JetLenzflare
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED
Model                UVVulture_D
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Exhaust01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                UVVulture_D
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Exhaust01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                UVVulture_D
ShowSubObject        BurnerFX BurnerFX02
ParticleSysBone      Exhaust01 JetLenzflare
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Exhaust01 JetEngineDamagedSmoke
End
AliasConditionState    RUBBLE

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:Vulture
EditorSorting            VEHICLE
Side                     GLA
TransportSlotCount       0 ; how many "slots" we take in a transport (0 == not transportable)

VisionRange              400.0
ShroudClearingRange      400.0

WeaponSet
Conditions             NONE
Weapon                 PRIMARY   VultureBombWeapon
End

ArmorSet
Conditions             None
Armor                  AirplaneArmor
DamageFX               None
End

BuildCost                1600
BuildTime                14.0

Prerequisites
Object  GLAPalace
End

ExperienceValue          50 50 100 150   ;Experience point value at each level
ExperienceRequired       0 100 200 400   ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAJetBomberCommandSet

; *** AUDIO Parameters ***
VoiceSelect             VultureVoiceSelect
VoiceMove               VultureVoiceMove
VoiceAttack             VultureVoiceAttack
VoiceGuard              VultureVoiceGuard
SoundAmbient            InterceptorAmbientLoop

UnitSpecificSounds
VoiceCreate           VultureVoiceCreate
Afterburner           InterceptorAfterburner
VoiceGarrison         VultureVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

Body                    ActiveBody ModuleTag_02
MaxHealth             160.0
InitialHealth         160.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_RaptorDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_VultureDeathInitial
OCLInitialDeath                  OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_RaptorDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_VultureDeathFinalBlowUp
End

Behavior                PhysicsBehavior ModuleTag_07
Mass                  500.0
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior  JetAIUpdate ModuleTag_09

Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY
End

OutOfAmmoDamagePerSecond   10%  ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause               500
MinHeight                  5
ParkingOffset              2             ; scooch it a little forward so the tail doesn't hit the doors
ReturnToBaseIdleTime       10000         ; if idle for this long, return to base, even if not out of ammo
End
Locomotor  SET_NORMAL  InterceptorJetLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  AutoHealBehavior ModuleTag_Repair06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;---------------------------------------------------------------------------
Object GLAVehicleGazelle

; *** ART Parameters ***
SelectPortrait          SUGazelle_L
ButtonImage             SUGazelle

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVPDstr
Animation                        UVPDstr.UVPDstr
AnimationMode                    LOOP
Turret                           CHASSIS
WeaponLaunchBone                 PRIMARY WeaponA
WeaponFireFXBone                 PRIMARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponB
WeaponFireFXBone                 SECONDARY WeaponB
HideSubObject                    UPGRADE01
End

ConditionState  MOVING
ParticleSysBone                  Exhaust01 HelixExhaust
ParticleSysBone                  Exhaust02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model                            UVPDstr_D
Animation                        UVPDstr_D.UVPDstr_D
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model                            UVPDstr_D
Animation                        UVPDstr_D.UVPDstr_D
ParticleSysBone                  Exhaust01 HelixExhaust
ParticleSysBone                  Exhaust02 HelixExhaust
End


ConditionState  RUBBLE SPECIAL_DAMAGED
Model                            UVPDstr_D
AnimationMode                    MANUAL
HideSubObject                    PROP01 PROP02
End
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Gazelle
EditorSorting        VEHICLE
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               PRIMARY     GazelleRocketPodWeapon
Weapon               SECONDARY   GazelleAntiAirMissileWeapon
End

ArmorSet
Conditions       None
Armor            ComancheArmor
DamageFX         None
End

Prerequisites
Object GLAAirstrip
End

BuildCost            800
BuildTime            13.0            ; in seconds
ExperienceValue      50 50 100 200   ; Experience point value at each level
ExperienceRequired   0 100 200 300    ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           GLAVehicleGazelleCommandSet

; *** AUDIO Parameters ***
VoiceSelect            PlagueDusterVoiceSelect
VoiceMove              PlagueDusterVoiceMove
VoiceGuard             PlagueDusterVoiceMove
VoiceAttack            PlagueDusterVoiceAttack
VoiceAttackAir         PlagueDusterVoiceAttackAir
SoundAmbient           GazelleAmbientLoop

UnitSpecificSounds
VoiceCreate          PlagueDusterVoiceCreate
VoiceGarrison        PlagueDusterVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD SALVAGER


Body  ActiveBody ModuleTag_04
MaxHealth        180.0
InitialHealth    180.0

SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  30
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_PlagueDusterStartDeath
End


Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate         120
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
MoodAttackCheckRate         33
End

Locomotor  SET_NORMAL  GazelleLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             10             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      1
FinalRubbleObject                GazelleRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_reallyimportant
End

Behavior  AutoHealBehavior ModuleTag_Repair06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior            OCLSpecialPower ModuleTag_ToxinSprayer03
SpecialPowerTemplate  SpecialAbilityGLAGazzelToxinSprinkler
OCL                   OCL_GazelleToxinSprayerEffect
CreateLocation        USE_OWNER_OBJECT
End

Behavior  CommandSetUpgrade ModuleTag_ToxinSprayer04
CommandSet  GLAVehicleGazelleUpgradedCommandSet
TriggeredBy   Upgrade_GLAAnthraxBeta
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  6.0
GeometryHeight  12.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object GLAJetInterceptor

; *** ART Parameters ***
SelectPortrait          SUInterceptor_L
ButtonImage             SUInterceptor

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model                UVFitter
Animation            UVFitter.UVFitter
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BURNERFX BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End
AliasConditionState  MOVING
AliasConditionState  ATTACKING

ConditionState         JETEXHAUST JETAFTERBURNER
Model                UVFitter
Animation            UVFitter.UVFitter
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject        BURNERFX
HideSubObject        BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Engine01 JetLenzflare
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End

ConditionState         JETEXHAUST MOVING
Model                UVFitter
Animation            UVFitter.UVFitter
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BURNERFX BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End
AliasConditionState  JETEXHAUST ATTACKING

ConditionState         JETEXHAUST
Model                UVFitter
Animation            UVFitter.UVFitter
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BURNERFX BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End

ConditionState  REALLYDAMAGED
Model                UVFitter_D
Animation            UVFitter_D.UVFitter_D
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BURNERFX BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  RUBBLE

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                UVFitter_D
Animation            UVFitter_D.UVFitter_D
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject        BURNERFX
HideSubObject        BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Engine01 JetLenzflare
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End

ConditionState         REALLYDAMAGED JETEXHAUST MOVING
Model                UVFitter_D
Animation            UVFitter_D.UVFitter_D
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BURNERFX BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End
AliasConditionState  REALLYDAMAGED JETEXHAUST ATTACKING
AliasConditionState  RUBBLE JETEXHAUST JETAFTERBURNER

ConditionState         REALLYDAMAGED JETEXHAUST
Model                UVFitter_D
Animation            UVFitter_D.UVFitter_D
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BURNERFX BOMBS ROCKETPODS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
;WeaponFireFXBone     PRIMARY Muzzle
;WeaponLaunchBone     PRIMARY Muzzle
;WeaponMuzzleFlash    PRIMARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle2
WeaponLaunchBone     TERTIARY Muzzle2
WeaponMuzzleFlash    TERTIARY Muzzle2
End

End

Draw  W3DModelDraw ModuleTag_Weapons01
OkToChangeModelColor  Yes

ConditionState  NONE
Model                UVFitter
HideSubObject        CHASSIS BOMBS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ShowSubObject        ROCKETPODS
WeaponFireFXBone     PRIMARY WeaponA
WeaponLaunchBone     PRIMARY WeaponA
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
End

;Reallydamaged
ConditionState  REALLYDAMAGED
Model                UVFitter_D
HideSubObject        CHASSIS BOMBS MISSILE01 MISSILE02 Muzzle02 Muzzle01
ShowSubObject        ROCKETPODS
WeaponFireFXBone     PRIMARY WeaponA
WeaponLaunchBone     PRIMARY WeaponA
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:Interceptor
EditorSorting            VEHICLE
Side                     GLA
TransportSlotCount       0 ; how many "slots" we take in a transport (0 == not transportable)

VisionRange              400.0
ShroudClearingRange      400.0

WeaponSet
Conditions             NONE
Weapon                 PRIMARY   InterceptorRocketWeapon32Ammo_I
Weapon                 SECONDARY InterceptorRocketWeapon32Ammo_II
Weapon                 TERTIARY  InterceptorMachineGunWeaponAir
End

ArmorSet
Conditions             None
Armor                  AirplaneArmor
DamageFX               None
End

Prerequisites
Object GLAAirstrip
End

BuildCost                1000
BuildTime                12.0

ExperienceValue          50 50 100 150   ;Experience point value at each level
ExperienceRequired       0 100 200 400   ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAJetInterceptorCommandSet

; *** AUDIO Parameters ***
VoiceSelect             InterceptorVoiceSelect
VoiceMove               InterceptorVoiceMove
VoiceAttack             InterceptorVoiceAttack
VoiceAttackAir          InterceptorVoiceAttackAir
VoiceGuard              InterceptorVoiceGuard
SoundAmbient            InterceptorAmbientLoop

UnitSpecificSounds
VoiceCreate           InterceptorVoiceCreate
Afterburner           InterceptorAfterburner
VoiceGarrison         InterceptorVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

Body                    ActiveBody ModuleTag_02
MaxHealth             160.0
InitialHealth         160.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_RaptorDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_InterceptorDeathInitial
OCLInitialDeath                  OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_RaptorDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_InterceptorDeathFinalBlowUp
End

Behavior                PhysicsBehavior ModuleTag_07
Mass                  500.0
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior  JetAIUpdate ModuleTag_09

Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
;TurretsLinked  Yes

OutOfAmmoDamagePerSecond   10%  ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause               500
MinHeight                  5
ParkingOffset              2             ; scooch it a little forward so the tail doesn't hit the doors
ReturnToBaseIdleTime       10000         ; if idle for this long, return to base, even if not out of ammo
End
Locomotor  SET_NORMAL  InterceptorJetLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  AutoHealBehavior ModuleTag_Repair06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;------------------------------------------------------------------------------
Object GLAVehicleHook
; *** ART Parameters ***
SelectPortrait          SUHook_L
ButtonImage             SUHook

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVHookG
End
End

Side                 GLA
EditorSorting        VEHICLE
BuildCost            2500
BuildTime            35.0

Prerequisites
Object  GLAPalace
End

BuildVariations  GLAVehicleHook_Var01 GLAVehicleHook_Var02 GLAVehicleHook_Var03 GLAVehicleHook_Var04 GLAVehicleHook_Var05 GLAVehicleHook_Var06 GLAVehicleHook_Var07 GLAVehicleHook_Var08
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

End

;------------------------------------------------------------------------------
Object GLAVehicleHook_Var01

; *** ART Parameters ***
SelectPortrait          SUHook_L
ButtonImage             SUHook

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U1
Animation                       UVHookG_U1.UVHookG_U1
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD04 POD05 POD06
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
WeaponFireFXBone                TERTIARY WeaponA
WeaponLaunchBone                TERTIARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Hook
EditorSorting        SYSTEM
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object  GLAPalace
;Science  SCIENCE_GLAAirforce3
End

WeaponSet
Conditions           NONE
Weapon               PRIMARY     Hook30mmAutoCannonWeapon
PreferredAgainst     PRIMARY     INFANTRY
Weapon               SECONDARY   HookRocketPodWeapon
End

ArmorSet
Conditions       None
Armor            HeavyGunShipArmor
DamageFX         None
End

BuildCost            2500

BuildTime            35.0            ; in seconds
ExperienceValue      150 200 300 400 ; Experience point value at each level
ExperienceRequired   0   150 300 500 ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           GLAVehicleHookCommandSet

; *** AUDIO Parameters ***
VoiceSelect            HookVoiceSelect
VoiceMove              HookVoiceMove
VoiceGuard             HookVoiceMove
VoiceAttack            HookVoiceAttack
SoundAmbient           HookCargoHelicopterAmbientLoop
SoundEnter             HumveeEnter
SoundExit              HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          HookVoiceCreate
VoiceUnload          HookVoiceUnload
VoiceGarrison        HookVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD TRANSPORT

Body  ActiveBody ModuleTag_04
MaxHealth        380.0
InitialHealth    380.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate  0     ; this "turret" does not turn
TurretPitchRate  180
MinPhysicalPitch  -43 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch  -5.0
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate  0     ; this "turret" does not turn
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
RotorWashParticleSystem     HelixRotorWashRing
End
Locomotor  SET_NORMAL  HookLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HookStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                GLACargoHelicopterRubbleHull
End

Behavior  HelixContain ModuleTag_09
Slots                  6
DamagePercentToUnits   100%
AllowInsideKindOf      INFANTRY VEHICLE
ForbidInsideKindOf     AIRCRAFT IGNORE_DOCKING_BONES
ExitDelay              100
NumberOfExitPaths      1
BurnedDeathToUnits     No
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  AutoHealBehavior ModuleTag_Repair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  WeaponBonusUpgrade ModuleTag_122
TriggeredBy  Upgrade_GLAAPBullets
End

Geometry  BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleHook_Var02 GLAVehicleHook_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U1
Animation                       UVHookG_U1.UVHookG_U1
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD01 POD02 POD03
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleHook_Var03 GLAVehicleHook_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U1
Animation                       UVHookG_U1.UVHookG_U1
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD04 POD02 POD06
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NADA
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  REALLYDAMAGED

ConditionState         SNOW
Model                NADA
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NADA
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleHook_Var04 GLAVehicleHook_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U1
Animation                       UVHookG_U1.UVHookG_U1
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD01 POD05 POD03
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U1D
Animation                       UVHookG_U1D.UVHookG_U1D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NADA
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  REALLYDAMAGED

ConditionState         SNOW
Model                NADA
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NADA
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleHook_Var05 GLAVehicleHook_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U2
Animation                       UVHookG_U2.UVHookG_U2
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD04 POD05 POD06
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NADA
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  REALLYDAMAGED

ConditionState         SNOW
Model                NADA
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NADA
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleHook_Var06 GLAVehicleHook_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U2
Animation                       UVHookG_U2.UVHookG_U2
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD01 POD02 POD03
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NADA
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  REALLYDAMAGED

ConditionState         SNOW
Model                NADA
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NADA
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleHook_Var07 GLAVehicleHook_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U2
Animation                       UVHookG_U2.UVHookG_U2
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD04 POD02 POD06
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NADA
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  REALLYDAMAGED

ConditionState         SNOW
Model                NADA
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NADA
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleHook_Var08 GLAVehicleHook_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            UVHookG
Animation                        UVHookG.UVHookG
AnimationMode                    LOOP
End

ConditionState                     MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            UVHookG_d
Animation                        UVHookG_d.UVHookG_d
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2.5
RecoilSettleSpeed     12

DefaultConditionState
Model                           UVHookG_U2
Animation                       UVHookG_U2.UVHookG_U2
AnimationMode                   ONCE
Flags                           MAINTAIN_FRAME_ACROSS_STATES
HideSubObject                   POD01 POD05 POD03
TurretPitch                     TURRETEL01
AltTurretPitch                  TURRETEL02
WeaponFireFXBone                PRIMARY Muzzle
WeaponLaunchBone                PRIMARY Muzzle
WeaponRecoilBone                PRIMARY Barrel
WeaponMuzzleFlash               PRIMARY MuzzleFX
WeaponFireFXBone                SECONDARY WeaponA
WeaponLaunchBone                SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                   LOOP
End

ConditionState  REALLYDAMAGED
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                           UVHookG_U2D
Animation                       UVHookG_U2D.UVHookG_U2D
AnimationMode                   LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

End
; -----------------------------------------------------------------------------
Object GLATunnelNetwork

; *** ART Parameters ***
SelectPortrait          SUTunnel_L
ButtonImage             SUTunnel

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model              UBUndTunn
HideSubObject      Turret01 HouseColor02
End
ConditionState       DAMAGED
Model              UBUndTunn_D
End
ConditionState       REALLYDAMAGED RUBBLE
Model              UBUndTunn_E
ParticleSysBone    Steam01 SteamVent
End

ConditionState       SNOW
Model              UBUndTunn_S
End
ConditionState       DAMAGED SNOW
Model              UBUndTunn_DS
End
ConditionState       REALLYDAMAGED RUBBLE SNOW
Model              UBUndTunn_ES
ParticleSysBone    Steam01 SteamVent
End

ConditionState       NIGHT
Model              UBUndTunn_N
End
ConditionState       DAMAGED NIGHT
Model              UBUndTunn_DN
End
ConditionState       REALLYDAMAGED RUBBLE NIGHT
Model              UBUndTunn_EN
ParticleSysBone    Steam01 SteamVent
End

ConditionState       SNOW NIGHT
Model              UBUndTunn_NS
End
ConditionState       DAMAGED SNOW NIGHT
Model              UBUndTunn_DNS
End
ConditionState       REALLYDAMAGED RUBBLE SNOW NIGHT
Model              UBUndTunn_ENS
ParticleSysBone    Steam01 SteamVent
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               UBUndTunn
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               UBUndTunn_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               UBUndTunn_E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               UBUndTunn_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               UBUndTunn_DN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               UBUndTunn_EN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               UBUndTunn_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               UBUndTunn_DS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               UBUndTunn_ES
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               UBUndTunn_NS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               UBUndTunn_DNS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               UBUndTunn_ENS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBUndTunn_A4
Animation        UBUndTunn_A4.UBUndTunn_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBUndTunn_A4N
Animation        UBUndTunn_A4N.UBUndTunn_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBUndTunn_A4S
Animation        UBUndTunn_A4S.UBUndTunn_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBUndTunn_A4SN
Animation        UBUndTunn_A4SN.UBUndTunn_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBUndTunn_A4
Animation        UBUndTunn_A4.UBUndTunn_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBUndTunn_A4N
Animation        UBUndTunn_A4N.UBUndTunn_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBUndTunn_A4S
Animation        UBUndTunn_A4S.UBUndTunn_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBUndTunn_A4SN
Animation        UBUndTunn_A4SN.UBUndTunn_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBUndTunn_A4
Animation        UBUndTunn_A4.UBUndTunn_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBUndTunn_A4N
Animation        UBUndTunn_A4N.UBUndTunn_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBUndTunn_A4S
Animation        UBUndTunn_A4S.UBUndTunn_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBUndTunn_A4SN
Animation        UBUndTunn_A4SN.UBUndTunn_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState      PARTIALLY_CONSTRUCTED
Model            UBUndTunn_A6
Animation        UBUndTunn_A6.UBUndTunn_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT  PARTIALLY_CONSTRUCTED
Model            UBUndTunn_A6N
Animation        UBUndTunn_A6N.UBUndTunn_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW  PARTIALLY_CONSTRUCTED
Model            UBUndTunn_A6S
Animation        UBUndTunn_A6S.UBUndTunn_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT  PARTIALLY_CONSTRUCTED
Model            UBUndTunn_A6SN
Animation        UBUndTunn_A6SN.UBUndTunn_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBUndTunn_A6
Animation        UBUndTunn_A6.UBUndTunn_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBUndTunn_A6N
Animation        UBUndTunn_A6N.UBUndTunn_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBUndTunn_A6S
Animation        UBUndTunn_A6S.UBUndTunn_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBUndTunn_A6SN
Animation        UBUndTunn_A6SN.UBUndTunn_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBUndTunn_A6
Animation        UBUndTunn_A6.UBUndTunn_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBUndTunn_A6N
Animation        UBUndTunn_A6N.UBUndTunn_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBUndTunn_A6S
Animation        UBUndTunn_A6S.UBUndTunn_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBUndTunn_A6SN
Animation        UBUndTunn_A6SN.UBUndTunn_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_Fortifications01

OkToChangeModelColor  Yes

DefaultConditionState
Model               NONE
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState       GARRISONED
Model              UBUndTunF
End
ConditionState       GARRISONED DAMAGED
Model              UBUndTunF_D
End
ConditionState       GARRISONED REALLYDAMAGED RUBBLE
Model              UBUndTunF_E
End
ConditionState       GARRISONED SNOW
Model              UBUndTunF_S
End
ConditionState       GARRISONED DAMAGED SNOW
Model              UBUndTunF_DS
End
ConditionState       GARRISONED REALLYDAMAGED RUBBLE SNOW
Model              UBUndTunF_ES
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   GARRISONED SOLD
AliasConditionState   GARRISONED SOLD DAMAGED
AliasConditionState   GARRISONED SOLD REALLYDAMAGED
AliasConditionState   GARRISONED SOLD SNOW
AliasConditionState   GARRISONED SOLD SNOW DAMAGED
AliasConditionState   GARRISONED SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_Cannon01

OkToChangeModelColor  Yes

DefaultConditionState
Model              NVDeva_U2
Turret             TURRET
WeaponRecoilBone   PRIMARY Barrel
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState       WEAPONSET_PLAYER_UPGRADE
Model              UBTNCnn
End

ConditionState       WEAPONSET_PLAYER_UPGRADE DAMAGED
Model              UBTNCnn_D
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED SNOW

ConditionState       WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
Model              UBTNCnn_E
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE SNOW

ConditionState       WEAPONSET_PLAYER_UPGRADE SNOW
Model              UBTNCnn_S
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_Camonet01
OkToChangeModelColor  Yes

DefaultConditionState
Model               NVDeva_U2
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState       USER_1
Model              UBUndTunn_C
End
ConditionState       USER_1 DAMAGED
Model              UBUndTunn_CD
End
ConditionState       USER_1 REALLYDAMAGED RUBBLE
Model              UBUndTunn_CD
End
ConditionState       USER_1 SNOW
Model              UBUndTunn_CS
End
ConditionState       USER_1 DAMAGED SNOW
Model              UBUndTunn_CSD
End
ConditionState       USER_1 REALLYDAMAGED RUBBLE SNOW
Model              UBUndTunn_CSD
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:TunnelNetwork
Side  GLA
EditorSorting     STRUCTURE

WeaponSet
Conditions  NONE
Weapon  SECONDARY TunnelNetworkRevealDummyWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY TunnelNetworkCannonWeapon
End

Prerequisites
;Object  GLABlackMarket
End

BuildCost         400
RefundValue       100 ; With nothing (or zero) listed, we sell for half price.
BuildTime         10.0           ; in seconds
EnergyProduction  0
VisionRange      260.0           ; Shroud clearing distance
ShroudClearingRange  285

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

CommandSet        GLATunnelNetworkCommandSet
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  TunnelNetworkSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter  GarrisonEnter
SoundExit  GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
TurretMoveLoop         NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE CAN_SEE_THROUGH_STRUCTURE SCORE_CREATE AUTO_RALLYPOINT
Body             StructureBody ModuleTag_04
MaxHealth        1250.0
InitialHealth    1250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI01
Turret
TurretTurnRate         50
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate         360
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed; defensive weapon
End

Behavior  TunnelContain ModuleTag_05
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior              RebuildHoleExposeDie ModuleTag_09
HoleName       GLAHoleTunnelNetwork
HoleMaxHealth  500.0
End

Behavior  DestroyDie ModuleTag_10
End

Behavior              CreateObjectDie ModuleTag_11
CreationList   OCL_ABTunnelNetworkDebris
End

Behavior              FXListDie ModuleTag_12
DeathFX        FX_StructureSmallDeath
End

Behavior  FlammableUpdate ModuleTag_15
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ProductionUpdate ModuleTag_19
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
CommandSet     GLATunnelNetworkGunUpgradedCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
CommandSet     GLATunnelNetworkUpgradedCommandSet
End

;;;;;;Camo Netting
Behavior  StealthUpdate ModuleTag_Camonet02
StealthDelay                 2500 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Camonet03
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
End

Behavior         ModelConditionUpgrade ModuleTag_Camonet04
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
End

;;;;;;Fortified Structure
Behavior         ModelConditionUpgrade ModuleTag_Fortified01
ConditionFlag  GARRISONED
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
End

Behavior  MaxHealthUpgrade ModuleTag_Fortified02
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
AddMaxHealth   500.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  WeaponSetUpgrade ModuleTag_Fortified03
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
End

Behavior  TransitionDamageFX ModuleTag_20
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Geometry  CYLINDER
GeometryMajorRadius  25.0
GeometryHeight  20.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object GLAStingerSite

; *** ART Parameters ***
SelectPortrait          SUStinger_L
ButtonImage             SUStinger

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day ************************************
ConditionState  NONE
Model  UBStingerS
End

ConditionState  DAMAGED
Model  UBStingerS_D
End

ConditionState  REALLYDAMAGED RUBBLE
Model  UBStingerS_E
End

; day snow ************************************
ConditionState  SNOW
Model  UBStingerS_S
End

ConditionState  DAMAGED SNOW
Model  UBStingerS_DS
End

ConditionState  REALLYDAMAGED SNOW RUBBLE
Model  UBStingerS_ES
End

; night  **********************************
ConditionState        NIGHT
Model               UBStingerS_N
End

ConditionState        DAMAGED NIGHT
Model               UBStingerS_DN
End

ConditionState        REALLYDAMAGED NIGHT  RUBBLE
Model               UBStingerS_EN
End

; night snow **********************************
ConditionState        NIGHT SNOW
Model               UBStingerS_NS
End

ConditionState        DAMAGED NIGHT SNOW
Model               UBStingerS_DNS
End

ConditionState        REALLYDAMAGED NIGHT SNOW RUBBLE
Model               UBStingerS_ENS
End


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               UBStingerS
; Animation           UBStingerS.UBStingerS
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               UBStingerS_D
; Animation           UBStingerS_D.UBStingerS_D
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               UBStingerS_E
; Animation           UBStingerS_E.UBStingerS_E
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               UBStingerS_N
; Animation           UBStingerS_N.UBStingerS_N
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               UBStingerS_DN
; Animation           UBStingerS_DN.UBStingerS_DN
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               UBStingerS_EN
; Animation           UBStingerS_EN.UBStingerS_EN
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               UBStingerS_S
; Animation           UBStingerS_S.UBStingerS_S
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               UBStingerS_DS
; Animation           UBStingerS_DS.UBStingerS_DS
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               UBStingerS_ES
; Animation           UBStingerS_ES.UBStingerS_ES
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               UBStingerS_NS
; Animation           UBStingerS_NS.UBStingerS_NS
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               UBStingerS_DNS
; Animation           UBStingerS_DNS.UBStingerS_DNS
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               UBStingerS_ENS
; Animation           UBStingerS_ENS.UBStingerS_ENS
; AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End
; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4
Animation        UBStingerS_A4.UBStingerS_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4N
Animation        UBStingerS_A4N.UBStingerS_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4S
Animation        UBStingerS_A4S.UBStingerS_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4SN
Animation        UBStingerS_A4SN.UBStingerS_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBStingerS_A4
Animation        UBStingerS_A4.UBStingerS_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBStingerS_A4N
Animation        UBStingerS_A4N.UBStingerS_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBStingerS_A4S
Animation        UBStingerS_A4S.UBStingerS_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBStingerS_A4SN
Animation        UBStingerS_A4SN.UBStingerS_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBStingerS_A4
Animation        UBStingerS_A4.UBStingerS_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBStingerS_A4N
Animation        UBStingerS_A4N.UBStingerS_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBStingerS_A4S
Animation        UBStingerS_A4S.UBStingerS_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBStingerS_A4SN
Animation        UBStingerS_A4SN.UBStingerS_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6
Animation        UBStingerS_A6.UBStingerS_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6N
Animation        UBStingerS_A6N.UBStingerS_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6S
Animation        UBStingerS_A6S.UBStingerS_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6SN
Animation        UBStingerS_A6SN.UBStingerS_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBStingerS_A6
Animation        UBStingerS_A6.UBStingerS_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBStingerS_A6N
Animation        UBStingerS_A6N.UBStingerS_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBStingerS_A6S
Animation        UBStingerS_A6S.UBStingerS_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBStingerS_A6SN
Animation        UBStingerS_A6SN.UBStingerS_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBStingerS_A6
Animation        UBStingerS_A6.UBStingerS_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBStingerS_A6N
Animation        UBStingerS_A6N.UBStingerS_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBStingerS_A6S
Animation        UBStingerS_A6S.UBStingerS_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBStingerS_A6SN
Animation        UBStingerS_A6SN.UBStingerS_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_Fortified01

OkToChangeModelColor  Yes

DefaultConditionState
Model               NVDeva_U2
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState       GARRISONED
Model              UBStngrSF
End
ConditionState       GARRISONED DAMAGED
Model              UBStngrSF_D
End
ConditionState       GARRISONED REALLYDAMAGED RUBBLE
Model              UBStngrSF_E
End
ConditionState       GARRISONED SNOW
Model              UBStngrSF_S
End
ConditionState       GARRISONED DAMAGED SNOW
Model              UBStngrSF_DS
End
ConditionState       GARRISONED REALLYDAMAGED RUBBLE SNOW
Model              UBStngrSF_ES
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   GARRISONED SOLD
AliasConditionState   GARRISONED SOLD DAMAGED
AliasConditionState   GARRISONED SOLD REALLYDAMAGED
AliasConditionState   GARRISONED SOLD SNOW
AliasConditionState   GARRISONED SOLD SNOW DAMAGED
AliasConditionState   GARRISONED SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_Camonet01

OkToChangeModelColor  Yes

DefaultConditionState
Model               NVDeva_U2
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState       USER_1
Model              UBStingerS_C
End
ConditionState       USER_1 DAMAGED
Model              UBStingerS_CD
End
ConditionState       USER_1 REALLYDAMAGED RUBBLE
Model              UBStingerS_CE
End
ConditionState       USER_1 SNOW
Model              UBStingerS_CS
End
ConditionState       USER_1 DAMAGED SNOW
Model              UBStingerS_CSD
End
ConditionState       USER_1 REALLYDAMAGED RUBBLE SNOW
Model              UBStingerS_CSE
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:StingerSite
Side                 GLA
EditorSorting        STRUCTURE
BuildCost            900
BuildTime            20.0           ; in seconds
EnergyProduction     0
VisionRange          600.0           ; Shroud clearing distance
ShroudClearingRange  200

WeaponSet
Conditions           None
Weapon               SECONDARY StingerSiteRevealDummyWeapon
End

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

ArmorSet
Conditions         PLAYER_UPGRADE
Armor              StingerSiteArmor
DamageFX           StructureDamageFXNoShake
End

Prerequisites
Object GLABarracks
End

CommandSet           GLAStingerSiteCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect          StingerSiteSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority         STRUCTURE
KindOf                PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SPAWNS_ARE_THE_WEAPONS SCORE_CREATE CAN_SEE_THROUGH_STRUCTURE ATTACK_NEEDS_LINE_OF_SIGHT

Body                  HiveStructureBody ModuleTag_04 ;Requires SpawnBehavior!
MaxHealth           1500.0
InitialHealth       1500.0
;**Careful with these damage types -- because area damage types will already
;**damage slaves.
PropagateDamageTypesToSlavesWhenExisting  NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER +LASER
SwallowDamageTypesIfSlavesNotExisting  NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI01
Turret
TurretTurnRate         360
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed; defensive weapon
End

Behavior  SpawnPointProductionExitUpdate ModuleTag_05
SpawnPointBoneName  SpawnPoint
End

Behavior                 SpawnBehavior ModuleTag_06
SpawnNumber            3
SpawnReplaceDelay      20000 ;msec
SpawnTemplateName      GLAInfantryStingerSiteSoldier
CanReclaimOrphans      No
SpawnedRequireSpawner  Yes
SlavesHaveFreeWill  No
End

Behavior         RebuildHoleExposeDie ModuleTag_08
HoleName       GLAHoleStingerSite
HoleMaxHealth  500.0
End

Behavior         DestroyDie ModuleTag_09
End

Behavior         CreateObjectDie ModuleTag_10
CreationList   OCL_ABStingerSiteDebris
End

Behavior         FXListDie ModuleTag_11
DeathFX        FX_StructureSmallDeath
End

;This ensure that tbe barracks always has collision active
Behavior  FireWeaponUpdate ModuleTag_KillSpawnsWhenSold01
Weapon  GenericBuildingCollisionDummyWeapon
End

;This kills the soldiers when sold
Behavior  FireWeaponCollide ModuleTag_RemoveGunner01
CollideWeapon  StingerSiteDeathConcussion
RequiredStatus  SOLD
End

Behavior    FireWeaponWhenDeadBehavior ModuleTag_RemoveGunner02
DeathWeapon    StingerSiteDeathConcussion
StartsActive   Yes
End

Behavior  ProductionUpdate ModuleTag_15
MaxQueueEntries  1
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
CommandSet     GLAStingerSiteUpgradedCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
CommandSet     GLAStingerSiteUpgradedCommandSet
End

;;;;;;Camo Netting
Behavior  StealthUpdate ModuleTag_Camonet02
StealthDelay                 2500 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Camonet03
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
End

Behavior         ModelConditionUpgrade ModuleTag_Camonet04
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
End

;;;;;;Fortified Structure
Behavior         ModelConditionUpgrade ModuleTag_Fortified02
ConditionFlag  GARRISONED
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
End

Behavior  MaxHealthUpgrade ModuleTag_Fortified03
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
AddMaxHealth   500.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  AutoHealBehavior ModuleTag_Fortified04
TriggeredBy  Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
HealingAmount  20.0
HealingDelay  1.0
Radius  20.0
StartsActive  No
KindOf  INFANTRY
SkipSelfForHealing  Yes
End

Behavior                 FlammableUpdate ModuleTag_16
AflameDuration         5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount     5       ; taking this much damage...
AflameDamageDelay      500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_17
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  ArmorUpgrade ModuleTag_ArmorUpgrade01
TriggeredBy  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_ArmorUpgrade02
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus  UNDER_CONSTRUCTION
End

Geometry             CYLINDER
GeometryMajorRadius  34.0
GeometryHeight       9.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;GLA Command Tunnel
Object GLASneakAttackCommandCenter

; *** ART Parameters ***
SelectPortrait          SUSneakAttack_L
ButtonImage             SUSneakAttack

Draw  W3DModelDraw ModuleTag_TunnelArt01 ;This art module is the same for every tunnel based structure
OkToChangeModelColor  Yes

ConditionState       NONE
Model              UBSnkAtck
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              UBSnkAtck_D
End
AliasConditionState  DAMAGED NIGHT

ConditionState       REALLYDAMAGED
Model              UBSnkAtck_E
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState       SNOW
Model              UBSnkAtck_S
End
AliasConditionState  SNOW NIGHT

ConditionState       SNOW DAMAGED
Model              UBSnkAtck_SD
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState       SNOW REALLYDAMAGED
Model              UBSnkAtck_SE
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck_A1
Animation          UBSnkAtck_A1.UBSnkAtck_A1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDust
ParticleSysBone    DIRT SneakAttackCrackDust1
ParticleSysBone    DIRT SneakAttackDebris
ParticleSysBone    DIRT SneakAttackDebris0
ParticleSysBone    DIRT SneakAttackDebris1
ParticleSysBone    DIRT SneakAttackCrackDust0
ParticleSysBone    DIRT SneakAttackSteamVent
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED


ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBSnkAtck_SA1
Animation          UBSnkAtck_SA1.UBSnkAtck_SA1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDustSnow
ParticleSysBone    DIRT SneakAttackDirtSnow
ParticleSysBone    DIRT SneakAttackCrackDust1Snow
ParticleSysBone    DIRT SneakAttackDebrisSnow
ParticleSysBone    DIRT SneakAttackDebris0Snow
ParticleSysBone    DIRT SneakAttackDebris1Snow
ParticleSysBone    DIRT SneakAttackCrackDust0Snow
ParticleSysBone    DIRT SneakAttackSteamVent
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED SNOW


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

;After construction states
;These make sure the tunnel properly sinks into the ground with the rest of the structure when beeing sold


ConditionState       USER_1
Model              UBSnkAtck
End
AliasConditionState  USER_1 NIGHT

ConditionState       USER_1 DAMAGED
Model              UBSnkAtck_D
End
AliasConditionState  USER_1 DAMAGED NIGHT

ConditionState       USER_1 REALLYDAMAGED
Model              UBSnkAtck_E
End
AliasConditionState  USER_1 REALLYDAMAGED NIGHT

ConditionState       USER_1 SNOW
Model              UBSnkAtck_S
End
AliasConditionState  USER_1 SNOW NIGHT

ConditionState       USER_1 SNOW DAMAGED
Model              UBSnkAtck_SD
End
AliasConditionState  USER_1 SNOW DAMAGED NIGHT

ConditionState       USER_1 SNOW REALLYDAMAGED
Model              UBSnkAtck_SE
End
AliasConditionState  USER_1 SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBSnkAtck_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBSnkAtck_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED


ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBSnkAtck_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model              UBSnkAtck_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED SNOW

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model              UBSnkAtck_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED SNOW


ConditionState        USER_1 AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT
AliasConditionState   USER_1 SOLD NIGHT DAMAGED
AliasConditionState   USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW
AliasConditionState   USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Tunnel exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_TunnelBones
DefaultConditionState
Model              UBSnkAtck_B
End
End

Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model               UBSnkAtck_N
End
AliasConditionState  SNOW

ConditionState  DAMAGED
Model               UBSnkAtck_ND
End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model               NONE
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBSnkAtck_ND
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              NONE
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End



; ------------ This art module contains the parts for the actual structure -----------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBCmndTnl
Animation        UBCmndTnl.UBCmndTnl
AnimationMode    LOOP
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBCmndTnl_D
Animation        UBCmndTnl_D.UBCmndTnl_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBCmndTnl_D
Animation        UBCmndTnl_D.UBCmndTnl_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBCmndTnl_S
Animation        UBCmndTnl_S.UBCmndTnl_S
AnimationMode    LOOP
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmndTnl
Animation        UBCmndTnl.UBCmndTnl
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBCmndTnl_D
Animation        UBCmndTnl_D.UBCmndTnl_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBCmndTnl_D
Animation        UBCmndTnl_D.UBCmndTnl_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBCmndTnl_S
Animation        UBCmndTnl_S.UBCmndTnl_S
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBCmndTnl_N
Animation           UBCmndTnl_N.UBCmndTnl_N
AnimationMode       LOOP
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBCmndTnl_N
Animation          UBCmndTnl_N.UBCmndTnl_N
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          Object:Hideout
Side                 GLA
EditorSorting        STRUCTURE
BuildCost            1000
RefundValue          1 ; With nothing (or zero) listed, we sell for no money at all
BuildTime            35.0           ; in seconds

VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmorTough
DamageFX           StructureDamageFXNoShake
End

Prerequisites
Object  FactionGLA
End

ExperienceValue      150 150 150 150  ; Experience point value at each level
CommandSet           GLACommandCenterCommandSet

; *** AUDIO Parameters ***
VoiceSelect            CommandCenterGLASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End


; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE IGNORE_DOCKING_BONES
Body                 StructureBody ModuleTag_04
MaxHealth          2000.0
InitialHealth      2000.0

SubdualDamageCap         3000
SubdualDamageHealRate    500
SubdualDamageHealAmount  100
End

Behavior  PreorderCreate ModuleTag_PreorderCreate
End

Behavior  TunnelContain ModuleTag_05
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior  ProductionUpdate ModuleTag_0523
End

Behavior  DefaultProductionExitUpdate ModuleTag_06
UnitCreatePoint    X: 5.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior  RebuildHoleExposeDie ModuleTag_07
HoleName       GLAGenericTunnelBuilding
HoleMaxHealth  500.0
End

Behavior  FlammableUpdate ModuleTag_19
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_20
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior             SpawnBehavior ModuleTag_FreeWorker01
SpawnNumber         1
SpawnReplaceDelay   9999
SpawnTemplateName   GLAInfantryWorker
OneShot             Yes
CanReclaimOrphans   No
SlavesHaveFreeWill  Yes
End

Behavior  GrantUpgradeCreate ModuleTag_ArtUpdate01
UpgradeToGrant     Upgrade_ChinaOverlordGattlingCannon
ExemptStatus       UNDER_CONSTRUCTION
End

Behavior         ModelConditionUpgrade ModuleTag_ArtUpdate02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAGenericTunnelBuildingCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
CommandSet       GLACommandCenterCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  55.0
GeometryMinorRadius  60.0
GeometryHeight       40.0
FactoryExitWidth     15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;GLA Barracks
Object GLASneakAttackBarracks

; *** ART Parameters ***
SelectPortrait          SUSneakAttack_L
ButtonImage             SUSneakAttack

Draw  W3DModelDraw ModuleTag_TunnelArt01 ;This art module is the same for every tunnel based structure
OkToChangeModelColor  Yes

ConditionState       NONE
Model              UBSnkAtck
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              UBSnkAtck_D
End
AliasConditionState  DAMAGED NIGHT

ConditionState       REALLYDAMAGED
Model              UBSnkAtck_E
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState       SNOW
Model              UBSnkAtck_S
End
AliasConditionState  SNOW NIGHT

ConditionState       SNOW DAMAGED
Model              UBSnkAtck_SD
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState       SNOW REALLYDAMAGED
Model              UBSnkAtck_SE
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck_A1
Animation          UBSnkAtck_A1.UBSnkAtck_A1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDust
ParticleSysBone    DIRT SneakAttackCrackDust1
ParticleSysBone    DIRT SneakAttackDebris
ParticleSysBone    DIRT SneakAttackDebris0
ParticleSysBone    DIRT SneakAttackDebris1
ParticleSysBone    DIRT SneakAttackCrackDust0
ParticleSysBone    DIRT SneakAttackSteamVent
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED


ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBSnkAtck_SA1
Animation          UBSnkAtck_SA1.UBSnkAtck_SA1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDustSnow
ParticleSysBone    DIRT SneakAttackDirtSnow
ParticleSysBone    DIRT SneakAttackCrackDust1Snow
ParticleSysBone    DIRT SneakAttackDebrisSnow
ParticleSysBone    DIRT SneakAttackDebris0Snow
ParticleSysBone    DIRT SneakAttackDebris1Snow
ParticleSysBone    DIRT SneakAttackCrackDust0Snow
ParticleSysBone    DIRT SneakAttackSteamVent
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED SNOW


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

;After construction states
;These make sure the tunnel properly sinks into the ground with the rest of the structure when beeing sold


ConditionState       USER_1
Model              UBSnkAtck
End
AliasConditionState  USER_1 NIGHT

ConditionState       USER_1 DAMAGED
Model              UBSnkAtck_D
End
AliasConditionState  USER_1 DAMAGED NIGHT

ConditionState       USER_1 REALLYDAMAGED
Model              UBSnkAtck_E
End
AliasConditionState  USER_1 REALLYDAMAGED NIGHT

ConditionState       USER_1 SNOW
Model              UBSnkAtck_S
End
AliasConditionState  USER_1 SNOW NIGHT

ConditionState       USER_1 SNOW DAMAGED
Model              UBSnkAtck_SD
End
AliasConditionState  USER_1 SNOW DAMAGED NIGHT

ConditionState       USER_1 SNOW REALLYDAMAGED
Model              UBSnkAtck_SE
End
AliasConditionState  USER_1 SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBSnkAtck_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBSnkAtck_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED


ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBSnkAtck_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model              UBSnkAtck_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED SNOW

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model              UBSnkAtck_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED SNOW


ConditionState        USER_1 AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT
AliasConditionState   USER_1 SOLD NIGHT DAMAGED
AliasConditionState   USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW
AliasConditionState   USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Tunnel exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_TunnelBones
DefaultConditionState
Model              UBSnkAtck_B
End
End

Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model               UBSnkAtck_N
End
AliasConditionState  SNOW

ConditionState  DAMAGED
Model               UBSnkAtck_ND
End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model               NONE
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBSnkAtck_ND
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              NONE
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

; ------------ This art module contains the parts for the actual structure -----------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBBrckTnl
Animation        UBBrckTnl.UBBrckTnl
AnimationMode    LOOP
ParticleSysBone  RECTANGLE04 SmolderingFire
ParticleSysBone  RECTANGLE04 SmolderingSmoke
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBBrckTnl_D
Animation        UBBrckTnl_D.UBBrckTnl_D
AnimationMode    LOOP
ParticleSysBone  RECTANGLE04 SmolderingFire
ParticleSysBone  RECTANGLE04 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBBrckTnl_D
Animation        UBBrckTnl_D.UBBrckTnl_D
AnimationMode    LOOP
ParticleSysBone  RECTANGLE04 SmolderingFire
ParticleSysBone  RECTANGLE04 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBBrckTnl_S
Animation        UBBrckTnl_S.UBBrckTnl_S
AnimationMode    LOOP
ParticleSysBone  RECTANGLE04 SmolderingFire
ParticleSysBone  RECTANGLE04 SmolderingSmoke
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBBrckTnl
Animation        UBBrckTnl.UBBrckTnl
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBBrckTnl_D
Animation        UBBrckTnl_D.UBBrckTnl_D
AnimationMode    LOOP
ParticleSysBone  RECTANGLE04 SmolderingFire
ParticleSysBone  RECTANGLE04 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBBrckTnl_D
Animation        UBBrckTnl_D.UBBrckTnl_D
AnimationMode    LOOP
ParticleSysBone  RECTANGLE04 SmolderingFire
ParticleSysBone  RECTANGLE04 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBBrckTnl_S
Animation        UBBrckTnl_S.UBBrckTnl_S
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBBrckTnl_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBBrckTnl_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Barracks
Side              GLA
EditorSorting     STRUCTURE
BuildCost         500
BuildTime         15.0           ; in seconds
EnergyProduction  0
CommandSet        GLABarracksCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmorTough
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      100 100 100 100  ; Experience point value at each level

Prerequisites
;    Object  GLASupplyStash
End


; *** AUDIO Parameters ***
VoiceSelect  BarracksGLASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE FS_BARRACKS IGNORE_DOCKING_BONES
Body             StructureBody ModuleTag_04
MaxHealth          1500.0
InitialHealth      1500.0

SubdualDamageCap         3000
SubdualDamageHealRate    500
SubdualDamageHealAmount  100
End

Behavior         RebuildHoleExposeDie ModuleTag_06
HoleName       GLAGenericTunnelBuilding
HoleMaxHealth  500.0
End
Behavior  ProductionUpdate ModuleTag_10
; nothing
End
Behavior  DefaultProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 5.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_16
;-------------DESIGNED FOR SMALL MEDIUM FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  TunnelContain ModuleTag_05232
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior  GrantUpgradeCreate ModuleTag_ArtUpdate01
UpgradeToGrant     Upgrade_ChinaOverlordGattlingCannon
ExemptStatus       UNDER_CONSTRUCTION
End

Behavior         ModelConditionUpgrade ModuleTag_ArtUpdate02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAGenericTunnelBuildingCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
CommandSet       GLABarracksCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  55.0
GeometryMinorRadius  70.0
GeometryHeight       40.0
FactoryExitWidth     10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;GLA Arms Dealer
Object GLASneakAttackArmsDealer

; *** ART Parameters ***
SelectPortrait          SUSneakAttack_L
ButtonImage             SUSneakAttack

Draw  W3DModelDraw ModuleTag_TunnelArt01 ;This art module is the same for every tunnel based structure
OkToChangeModelColor  Yes

ConditionState       NONE
Model              UBSnkAtck
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              UBSnkAtck_D
End
AliasConditionState  DAMAGED NIGHT

ConditionState       REALLYDAMAGED
Model              UBSnkAtck_E
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState       SNOW
Model              UBSnkAtck_S
End
AliasConditionState  SNOW NIGHT

ConditionState       SNOW DAMAGED
Model              UBSnkAtck_SD
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState       SNOW REALLYDAMAGED
Model              UBSnkAtck_SE
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck_A1
Animation          UBSnkAtck_A1.UBSnkAtck_A1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDust
ParticleSysBone    DIRT SneakAttackCrackDust1
ParticleSysBone    DIRT SneakAttackDebris
ParticleSysBone    DIRT SneakAttackDebris0
ParticleSysBone    DIRT SneakAttackDebris1
ParticleSysBone    DIRT SneakAttackCrackDust0
ParticleSysBone    DIRT SneakAttackSteamVent
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED


ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBSnkAtck_SA1
Animation          UBSnkAtck_SA1.UBSnkAtck_SA1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDustSnow
ParticleSysBone    DIRT SneakAttackDirtSnow
ParticleSysBone    DIRT SneakAttackCrackDust1Snow
ParticleSysBone    DIRT SneakAttackDebrisSnow
ParticleSysBone    DIRT SneakAttackDebris0Snow
ParticleSysBone    DIRT SneakAttackDebris1Snow
ParticleSysBone    DIRT SneakAttackCrackDust0Snow
ParticleSysBone    DIRT SneakAttackSteamVent
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED SNOW


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

;After construction states
;These make sure the tunnel properly sinks into the ground with the rest of the structure when beeing sold


ConditionState       USER_1
Model              UBSnkAtck
End
AliasConditionState  USER_1 NIGHT

ConditionState       USER_1 DAMAGED
Model              UBSnkAtck_D
End
AliasConditionState  USER_1 DAMAGED NIGHT

ConditionState       USER_1 REALLYDAMAGED
Model              UBSnkAtck_E
End
AliasConditionState  USER_1 REALLYDAMAGED NIGHT

ConditionState       USER_1 SNOW
Model              UBSnkAtck_S
End
AliasConditionState  USER_1 SNOW NIGHT

ConditionState       USER_1 SNOW DAMAGED
Model              UBSnkAtck_SD
End
AliasConditionState  USER_1 SNOW DAMAGED NIGHT

ConditionState       USER_1 SNOW REALLYDAMAGED
Model              UBSnkAtck_SE
End
AliasConditionState  USER_1 SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBSnkAtck_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBSnkAtck_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED


ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBSnkAtck_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model              UBSnkAtck_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED SNOW

ConditionState       USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model              UBSnkAtck_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  USER_1 PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED SNOW


ConditionState        USER_1 AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT
AliasConditionState   USER_1 SOLD NIGHT DAMAGED
AliasConditionState   USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW
AliasConditionState   USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Tunnel exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_TunnelBones
DefaultConditionState
Model              UBSnkAtck_B
End
End

Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model               UBSnkAtck_N
End
AliasConditionState  SNOW

ConditionState  DAMAGED
Model               UBSnkAtck_ND
End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model               NONE
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBSnkAtck_ND
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              NONE
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

; ------------ This art module contains the parts for the actual structure -----------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBWarfctTnl
Animation        UBWarfctTnl.UBWarfctTnl
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBWarfctTnl_D
Animation        UBWarfctTnl_D.UBWarfctTnl_D
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBWarfctTnl_D
Animation        UBWarfctTnl_D.UBWarfctTnl_D
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBWarfctTnl_S
Animation        UBWarfctTnl_S.UBWarfctTnl_S
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBWarfctTnl
Animation        UBWarfctTnl.UBWarfctTnl
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBWarfctTnl_D
Animation        UBWarfctTnl_D.UBWarfctTnl_D
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBWarfctTnl_D
Animation        UBWarfctTnl_D.UBWarfctTnl_D
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBWarfctTnl_S
Animation        UBWarfctTnl_S.UBWarfctTnl_S
AnimationMode    LOOP
ParticleSysBone  METALBITS01 SmolderingSmoke
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBWarfctTnl_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBWarfctTnl_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ArmsDealer
Side              GLA
EditorSorting     STRUCTURE

Prerequisites
Object  GLASupplyStash
End

BuildCost         2000
BuildTime         15.0           ; in seconds
EnergyProduction  0
CommandSet        GLAArmsDealerCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmorTough
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  WarFactoryGLASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE FS_FACTORY FS_WARFACTORY IGNORE_DOCKING_BONES

Body             StructureBody ModuleTag_04
MaxHealth          2000.0
InitialHealth      2000.0

SubdualDamageCap         3000
SubdualDamageHealRate    500
SubdualDamageHealAmount  100
End

Behavior                RebuildHoleExposeDie ModuleTag_06
HoleName         GLAGenericTunnelBuilding
HoleMaxHealth    500.0
End

Behavior  ProductionUpdate ModuleTag_10
; nothing
End
Behavior  DefaultProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 5.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_31
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  TunnelContain ModuleTag_05232
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior  GrantUpgradeCreate ModuleTag_ArtUpdate01
UpgradeToGrant     Upgrade_ChinaOverlordGattlingCannon
ExemptStatus       UNDER_CONSTRUCTION
End

Behavior         ModelConditionUpgrade ModuleTag_ArtUpdate02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAGenericTunnelBuildingCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAArmsDealerCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  55.0
GeometryMinorRadius  70.0
GeometryHeight       40.0
FactoryExitWidth     25.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
; -----------------------------------------------------------------------------
Object GLASneakAttackTunnelNetworkStart

; *** ART Parameters ***
SelectPortrait          SUSneakAttack_L
ButtonImage             SUSneakAttack

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;***NONE

ConditionState      NONE
Model              UBSnkAtck_A1
Animation          UBSnkAtck_A1.UBSnkAtck_A1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDust
ParticleSysBone    DIRT SneakAttackCrackDust1
ParticleSysBone    DIRT SneakAttackDebris
ParticleSysBone    DIRT SneakAttackDebris0
ParticleSysBone    DIRT SneakAttackDebris1
ParticleSysBone    DIRT SneakAttackCrackDust0
ParticleSysBone    DIRT SneakAttackSteamVent
End
ConditionState       DAMAGED
Model              UBSnkAtck_D
ParticleSysBone    DIRT SneakAttackCrackDust
ParticleSysBone    DIRT SneakAttackDirt
ParticleSysBone    DIRT SneakAttackCrackDust1
ParticleSysBone    DIRT SneakAttackDebris
ParticleSysBone    DIRT SneakAttackDebris0
ParticleSysBone    DIRT SneakAttackDebris1
ParticleSysBone    DIRT SneakAttackCrackDust0
ParticleSysBone    DIRT SneakAttackSteamVent
End
ConditionState       REALLYDAMAGED
Model              UBSnkAtck_E
ParticleSysBone    DIRT SneakAttackCrackDust
ParticleSysBone    DIRT SneakAttackDirt
ParticleSysBone    DIRT SneakAttackCrackDust1
ParticleSysBone    DIRT SneakAttackDebris
ParticleSysBone    DIRT SneakAttackDebris0
ParticleSysBone    DIRT SneakAttackDebris1
ParticleSysBone    DIRT SneakAttackCrackDust0
ParticleSysBone    DIRT SneakAttackSteamVent
End
ConditionState       RUBBLE
Model              UBSnkAtck_R
End

ConditionState       SNOW
Model              UBSnkAtck_SA1
Animation          UBSnkAtck_SA1.UBSnkAtck_SA1
AnimationMode      ONCE
ParticleSysBone    DIRT SneakAttackCrackDustSnow
ParticleSysBone    DIRT SneakAttackDirtSnow
ParticleSysBone    DIRT SneakAttackCrackDust1Snow
ParticleSysBone    DIRT SneakAttackDebrisSnow
ParticleSysBone    DIRT SneakAttackDebris0Snow
ParticleSysBone    DIRT SneakAttackDebris1Snow
ParticleSysBone    DIRT SneakAttackCrackDust0Snow
ParticleSysBone    DIRT SneakAttackSteamVent
End
ConditionState       SNOW DAMAGED
Model              UBSnkAtck_SE
ParticleSysBone    DIRT SneakAttackCrackDustSnow
ParticleSysBone    DIRT SneakAttackDirtSnow
ParticleSysBone    DIRT SneakAttackCrackDust1Snow
ParticleSysBone    DIRT SneakAttackDebrisSnow
ParticleSysBone    DIRT SneakAttackDebris0Snow
ParticleSysBone    DIRT SneakAttackDebris1Snow
ParticleSysBone    DIRT SneakAttackCrackDust0Snow
ParticleSysBone    DIRT SneakAttackSteamVent
End
ConditionState       SNOW REALLYDAMAGED
Model              UBSnkAtck_SR
ParticleSysBone    DIRT SneakAttackCrackDustSnow
ParticleSysBone    DIRT SneakAttackDirtSnow
ParticleSysBone    DIRT SneakAttackCrackDust1Snow
ParticleSysBone    DIRT SneakAttackDebrisSnow
ParticleSysBone    DIRT SneakAttackDebris0Snow
ParticleSysBone    DIRT SneakAttackDebris1Snow
ParticleSysBone    DIRT SneakAttackCrackDust0Snow
ParticleSysBone    DIRT SneakAttackSteamVent
End
ConditionState       SNOW RUBBLE
Model              UBSnkAtck_SR
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:TunnelNetwork
Side  GLA
EditorSorting     SYSTEM
Prerequisites
;None
End
EnergyProduction  0
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         DamageFX_Empty
End

ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  TunnelNetworkSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter  GarrisonEnter
SoundExit  GarrisonExit

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           NO_SELECT PRELOAD PORTABLE_STRUCTURE IMMOBILE IMMUNE_TO_CAPTURE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SCORE_CREATE ;SELECTABLE
Body             StructureBody ModuleTag_04
MaxHealth        1500.0
InitialHealth    1500.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  DestroyDie ModuleTag_10
End

Behavior              CreateObjectDie ModuleTag_11
CreationList            OCL_CreateSneakAttackTunnel
TransferPreviousHealth  Yes
End

Behavior  FlammableUpdate ModuleTag_15

AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  LifetimeUpdate ModuleTag_16
MinLifetime  5000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Behavior  FireWeaponUpdate ModuleTag_17
Weapon  SneakAttackShockwaveWeaponSmall
InitialDelay  10;
End

Behavior  FireWeaponUpdate ModuleTag_18
Weapon  SneakAttackShockwaveWeaponMedium
InitialDelay  800;
End

Behavior  FireWeaponUpdate ModuleTag_19
Weapon  SneakAttackShockwaveWeaponMedium
InitialDelay  1600;
End

Behavior  FireWeaponUpdate ModuleTag_20
Weapon  SneakAttackShockwaveWeaponBig
InitialDelay  2500;
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponSneakAttack
End

Geometry             BOX
GeometryMajorRadius  55.0
GeometryMinorRadius  55.0
GeometryHeight       30.0
FactoryExitWidth     10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End


; -----------------------------------------------------------------------------
Object GLASneakAttackTunnelNetwork

; *** ART Parameters ***
SelectPortrait          SUSneakAttack_L
ButtonImage             SUSneakAttack

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState
Model              UBSnkAtck
End

ConditionState       DAMAGED
Model              UBSnkAtck_D
End

ConditionState       REALLYDAMAGED
Model              UBSnkAtck_E
End

ConditionState       RUBBLE
Model              UBSnkAtck_R
End

ConditionState       SNOW
Model              UBSnkAtck_S
End
ConditionState       SNOW DAMAGED
Model              UBSnkAtck_SD
End

ConditionState       SNOW REALLYDAMAGED
Model              UBSnkAtck_SE
End

ConditionState       SNOW RUBBLE
Model              UBSnkAtck_SR
End

End

; ------------ Tunnel exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_TunnelBones
DefaultConditionState
Model              UBSnkAtck_B
End
End

; ------------ These animations are used for when upgrading the tunnel into a production tunnel -----------------
Draw  W3DModelDraw ModuleTag_BuildAnimation01
OkToChangeModelColor  Yes

DefaultConditionState
Model              NONE
HideSubObject      BOX734 BOX733 BOX732 BOX731 OBJECT05
TransitionKey      DOWN_DEFAULT
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  SNOW
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW RUBBLE
AliasConditionState  ACTIVELY_CONSTRUCTING  RUBBLE
AliasConditionState  ACTIVELY_CONSTRUCTING SNOW RUBBLE

ConditionState     ACTIVELY_CONSTRUCTING
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
TransitionKey    UP_DEFAULT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
AliasConditionState  ACTIVELY_CONSTRUCTING DAMAGED
AliasConditionState  ACTIVELY_CONSTRUCTING REALLYDAMAGED

ConditionState     ACTIVELY_CONSTRUCTING  SNOW
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
AliasConditionState  ACTIVELY_CONSTRUCTING SNOW DAMAGED
AliasConditionState  ACTIVELY_CONSTRUCTING SNOW REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_BuildAnimation02
OkToChangeModelColor  Yes

DefaultConditionState
Model              NONE
TransitionKey      DOWN_DEFAULT
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  SNOW
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW RUBBLE

ConditionState     ACTIVELY_CONSTRUCTING
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
AliasConditionState  ACTIVELY_CONSTRUCTING DAMAGED
AliasConditionState  ACTIVELY_CONSTRUCTING REALLYDAMAGED
AliasConditionState  ACTIVELY_CONSTRUCTING RUBBLE

ConditionState     ACTIVELY_CONSTRUCTING SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
AliasConditionState  ACTIVELY_CONSTRUCTING SNOW DAMAGED
AliasConditionState  ACTIVELY_CONSTRUCTING SNOW REALLYDAMAGED
AliasConditionState  ACTIVELY_CONSTRUCTING SNOW RUBBLE

End

Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model               UBSnkAtck_N
End

ConditionState  DAMAGED
Model               NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSnkAtck_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End


PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:TunnelNetwork
Side  GLA
EditorSorting     STRUCTURE
Prerequisites
;None
End
EnergyProduction  0
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200
WeaponSet
Conditions  None
Weapon  PRIMARY SneakAttackDummyWeapon ;So AI can attack from it in guard mode.
End
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet        GLASneakAttackTunnelCommandSet
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  TunnelNetworkSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter  GarrisonEnter
SoundExit  GarrisonExit

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD SELECTABLE IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SCORE_CREATE AUTO_RALLYPOINT STRUCTURE
Body             StructureBody ModuleTag_04
MaxHealth        1500.0
InitialHealth    1500.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  TunnelContain ModuleTag_05
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior  AIUpdateInterface ModuleTag_AI
Turret
TurretTurnRate         180   // turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed; defensive weapon
End

Behavior  SlowDeathBehavior ModuleTag_05232
DeathTypes           ALL -SUICIDED
SinkDelay            3000
SinkRate             2.5     ; in Dist/Sec
DestructionDelay     12000
FX  INITIAL FX_StructureSmallDeath
OCL  INITIAL OCL_ABTunnelNetworkDebris
End

Behavior  FlammableUpdate ModuleTag_15

AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End


Behavior  TransitionDamageFX ModuleTag_17
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  ProductionUpdate ModuleTag_10232
End

;-------------VERY SPECIAL UPGRADE CODE START-------------------

Behavior                  FireWeaponUpdate ModuleTag_Upgrade01
Weapon                  GLACommandTruckRadarCollisionDummyWeapon
End

;Upgrade to Hideout
Behavior  FireWeaponCollide ModuleTag_Upgrade02
CollideWeapon           SuicideWeapon
RequiredStatus          IS_BRAKING
End

Behavior                  CreateObjectDie ModuleTag_Upgrade03
DeathTypes              NONE +SUICIDED
RequiredStatus          IS_BRAKING
CreationList            OCL_GLASneakAttackHideOutUpgrading
TransferPreviousHealth  Yes
End

Behavior  ProductionUpdate ModuleTag_Upgrade10
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_Upgrade11
UnitCreatePoint    X:  0.0   Y:0.0  Z:0.0
NaturalRallyPoint  X:  80.0  Y:0.0  Z:0.0
End

Behavior  SlowDeathBehavior ModuleTag_Upgrade12
DestructionDelay   100
DeathTypes         NONE +SUICIDED
End

;-------------VERY SPECIAL UPGRADE CODE END-------------------

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  55.0
GeometryMinorRadius  55.0
GeometryHeight       30.0
FactoryExitWidth     10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object GLAScramblerStation

; *** ART Parameters ***
SelectPortrait          SUScramblerStation_L
ButtonImage             SUScramblerStation

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState        NONE
Model               UBGPSScrblr
Animation           UBGPSScrblr.UBGPSScrblr
AnimationMode       LOOP
Turret              GAPGEN03
Flags               MAINTAIN_FRAME_ACROSS_STATES
;ParticleSysBone     GPSFX01 GPSScramberlStationMarkerParticle
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               UBGPSScrblr_D
Animation           UBGPSScrblr_D.UBGPSScrblr_D
AnimationMode       LOOP
Turret              GAPGEN03
Flags               MAINTAIN_FRAME_ACROSS_STATES
;ParticleSysBone     GPSFX01 GPSScramberlStationMarkerParticle
ParticleSysBone     SMOKE01 SmolderingSmoke
ParticleSysBone     SMOKE03 SmolderingSmoke
ParticleSysBone     FIRE03 SmolderingFire
ParticleSysBone     STEAM01 SteamMedium
ParticleSysBone     STEAM02 SteamMedium
ParticleSysBone     SPARK01 SparksSmall
ParticleSysBone     SPARK02 SparksSmall
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState        REALLYDAMAGED RUBBLE
Model               UBGPSScrblr_E
Animation           UBGPSScrblr_E.UBGPSScrblr_E
AnimationMode       LOOP
Turret              GAPGEN03
Flags               MAINTAIN_FRAME_ACROSS_STATES
;ParticleSysBone     GPSFX01 GPSScramberlStationMarkerParticle
ParticleSysBone     SMOKE01 SmolderingSmoke
ParticleSysBone     SMOKE02 SmolderingSmoke
ParticleSysBone     SMOKE03 SmolderingSmoke
ParticleSysBone     SMOKE04 SmolderingSmoke
ParticleSysBone     FIRE01 SmolderingFire
ParticleSysBone     FIRE02 SmolderingFire
ParticleSysBone     FIRE03 SmolderingFire
ParticleSysBone     FIRE04 SmolderingFire
ParticleSysBone     STEAM01 SteamMedium
ParticleSysBone     STEAM02 SteamLarge
ParticleSysBone     STEAM03 SteamMedium
ParticleSysBone     STEAM04 SteamLarge
ParticleSysBone     SPARK01 SparksSmall
ParticleSysBone     SPARK02 SparksMedium
ParticleSysBone     SPARK03 SparksSmall
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState        SNOW
Model               UBGPSScrblr_S
Animation           UBGPSScrblr_S.UBGPSScrblr_S
AnimationMode       LOOP
Turret              GAPGEN03
Flags               MAINTAIN_FRAME_ACROSS_STATES
;ParticleSysBone     GPSFX01 GPSScramberlStationMarkerParticle
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBGPSScrblr
Turret             GAPGEN03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBGPSScrblr_D
Turret             GAPGEN03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBGPSScrblr_E
Turret             GAPGEN03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBGPSScrblr_S
Turret             GAPGEN03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBSupply_A4
Animation        UBSupply_A4.UBSupply_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBSupply_A4N
Animation        UBSupply_A4N.UBSupply_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBSupply_A4S
Animation        UBSupply_A4S.UBSupply_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBSupply_A4SN
Animation        UBSupply_A4SN.UBSupply_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBSupply_A4
Animation        UBSupply_A4.UBSupply_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBSupply_A4N
Animation        UBSupply_A4N.UBSupply_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBSupply_A4S
Animation        UBSupply_A4S.UBSupply_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBSupply_A4SN
Animation        UBSupply_A4SN.UBSupply_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBSupply_A4
Animation        UBSupply_A4.UBSupply_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBSupply_A4N
Animation        UBSupply_A4N.UBSupply_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBSupply_A4S
Animation        UBSupply_A4S.UBSupply_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBSupply_A4SN
Animation        UBSupply_A4SN.UBSupply_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBGPSScrblr_A2
Animation        UBGPSScrblr_A2.UBGPSScrblr_A2
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBGPSScrblr_A2
Animation        UBGPSScrblr_A2.UBGPSScrblr_A2
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBGPSScrblr_SA2
Animation        UBGPSScrblr_SA2.UBGPSScrblr_SA2
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBGPSScrblr_SA2
Animation        UBGPSScrblr_SA2.UBGPSScrblr_SA2
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBGPSScrblr_A2
Animation        UBGPSScrblr_A2.UBGPSScrblr_A2
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBGPSScrblr_A2
Animation        UBGPSScrblr_A2.UBGPSScrblr_A2
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBGPSScrblr_SA2
Animation        UBGPSScrblr_SA2.UBGPSScrblr_SA2
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBGPSScrblr_SA2
Animation        UBGPSScrblr_SA2.UBGPSScrblr_SA2
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBGPSScrblr_A2
Animation        UBGPSScrblr_A2.UBGPSScrblr_A2
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBGPSScrblr_A2
Animation        UBGPSScrblr_A2.UBGPSScrblr_A2
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBGPSScrblr_SA2
Animation        UBGPSScrblr_SA2.UBGPSScrblr_SA2
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBGPSScrblr_SA2
Animation        UBGPSScrblr_SA2.UBGPSScrblr_SA2
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction dirt patch -----------------
Draw                 W3DModelDraw ModuleTag_034312
AnimationsRequirePower  No

DefaultConditionState
Model            None
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBGPSScrblr_A1
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBGPSScrblr_SA1
End
AliasConditionState SNOW NIGHT PARTIALLY_CONSTRUCTED

End


PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:ScramblerStation
Side                 GLA
EditorSorting        STRUCTURE

BuildCost            1000
BuildTime            15.0           ; in seconds
EnergyProduction     0
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

Prerequisites
Object             GLAPalace
Science            SCIENCE_GPSScrambler
End

ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            GPSScramblerStationSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

CommandSet           GLAScramblerStationCommandSet

; *** ENGINEERING Parameters ***
RadarPriority         STRUCTURE
KindOf                PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_BASE_DEFENSE SCORE_CREATE

Body                  StructureBody ModuleTag_04
MaxHealth           2000.0
InitialHealth       2000.0

SubdualDamageCap  2500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI
Turret
ControlledWeaponSlots  PRIMARY
TurretTurnRate         260
FiresWhileTurning      No
MinIdleScanInterval    0
MaxIdleScanInterval    0
RecenterTime           0
MinIdleScanAngle       180
MaxIdleScanAngle       180
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior         RebuildHoleExposeDie ModuleTag_08
HoleName       GLAHolScramblerStation
HoleMaxHealth  500.0
End

Behavior         DestroyDie ModuleTag_09
End

Behavior         CreateObjectDie ModuleTag_10
CreationList   OCL_ABStingerSiteDebris
End

Behavior         FXListDie ModuleTag_11
DeathFX        FX_StructureSmallDeath
End

Behavior  FireWeaponUpdate ModuleTag_StealthField01
Weapon  GPSScramblerStationWeapon
End

Behavior  FireWeaponUpdate ModuleTag_StealthField02
Weapon  GPSScramblerStationFieldDecalWeapon
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
InnateStealth                Yes
RequiredStatus               DEPLOYED
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior                 FlammableUpdate ModuleTag_16
AflameDuration         5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount     5       ; taking this much damage...
AflameDamageDelay      500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_17
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Geometry             BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  38.0
GeometryHeight       45.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object GLADuskaNest

; *** ART Parameters ***
SelectPortrait          SUDushka_L
ButtonImage             SUDushka

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       Tripod01

ConditionState        NONE
Model               UBDushka
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               UBDushka_D
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               UBDushka_S
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBDushka
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBDushka_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBDushka_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBDushka_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4
Animation        UBStingerS_A4.UBStingerS_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4N
Animation        UBStingerS_A4N.UBStingerS_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4S
Animation        UBStingerS_A4S.UBStingerS_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBStingerS_A4SN
Animation        UBStingerS_A4SN.UBStingerS_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBStingerS_A4
Animation        UBStingerS_A4.UBStingerS_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBStingerS_A4N
Animation        UBStingerS_A4N.UBStingerS_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBStingerS_A4S
Animation        UBStingerS_A4S.UBStingerS_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBStingerS_A4SN
Animation        UBStingerS_A4SN.UBStingerS_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBStingerS_A4
Animation        UBStingerS_A4.UBStingerS_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBStingerS_A4N
Animation        UBStingerS_A4N.UBStingerS_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBStingerS_A4S
Animation        UBStingerS_A4S.UBStingerS_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBStingerS_A4SN
Animation        UBStingerS_A4SN.UBStingerS_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6
Animation        UBStingerS_A6.UBStingerS_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6N
Animation        UBStingerS_A6N.UBStingerS_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6S
Animation        UBStingerS_A6S.UBStingerS_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBStingerS_A6SN
Animation        UBStingerS_A6SN.UBStingerS_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBStingerS_A6
Animation        UBStingerS_A6.UBStingerS_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBStingerS_A6N
Animation        UBStingerS_A6N.UBStingerS_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBStingerS_A6S
Animation        UBStingerS_A6S.UBStingerS_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBStingerS_A6SN
Animation        UBStingerS_A6SN.UBStingerS_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBStingerS_A6
Animation        UBStingerS_A6.UBStingerS_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBStingerS_A6N
Animation        UBStingerS_A6N.UBStingerS_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBStingerS_A6S
Animation        UBStingerS_A6S.UBStingerS_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBStingerS_A6SN
Animation        UBStingerS_A6SN.UBStingerS_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_Fortified01

OkToChangeModelColor  Yes

DefaultConditionState
Model               NVDeva_U2
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState       GARRISONED
Model              UBDushka_F
End
ConditionState       GARRISONED DAMAGED
Model              UBDushka_FD
End
AliasConditionState  GARRISONED REALLYDAMAGED RUBBLE
AliasConditionState  GARRISONED DAMAGED SNOW
AliasConditionState  GARRISONED REALLYDAMAGED RUBBLE SNOW

ConditionState       GARRISONED SNOW
Model              UBDushka_FS
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   GARRISONED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   GARRISONED SOLD
AliasConditionState   GARRISONED SOLD DAMAGED
AliasConditionState   GARRISONED SOLD REALLYDAMAGED
AliasConditionState   GARRISONED SOLD SNOW
AliasConditionState   GARRISONED SOLD SNOW DAMAGED
AliasConditionState   GARRISONED SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_Camonet01
OkToChangeModelColor  Yes

DefaultConditionState
Model               NVDeva_U2
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState       USER_1
Model              UBDushka_C
End
ConditionState       USER_1 DAMAGED
Model              UBDushka_CD
End
AliasConditionState  USER_1 REALLYDAMAGED RUBBLE
AliasConditionState  USER_1 DAMAGED SNOW
AliasConditionState  USER_1 REALLYDAMAGED RUBBLE SNOW

ConditionState       USER_1 SNOW
Model              UBDushka_CS
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:DushkaNest
Side                 GLA
EditorSorting        STRUCTURE
Prerequisites
Object             GLABarracks
End
BuildCost            700
BuildTime            20.0           ; in seconds
EnergyProduction     0
VisionRange          600.0           ; Shroud clearing distance
ShroudClearingRange  200

WeaponSet
Conditions           None
Weapon               SECONDARY StingerSiteRevealDummyWeapon
End

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

ArmorSet
Conditions         PLAYER_UPGRADE
Armor              StingerSiteArmor
DamageFX           StructureDamageFXNoShake
End

CommandSet           GLAStingerSiteCommandSet
ExperienceValue      150 150 150 150  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            DushkaMachineGunSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority         STRUCTURE
KindOf                PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SPAWNS_ARE_THE_WEAPONS SCORE_CREATE CAN_SEE_THROUGH_STRUCTURE ATTACK_NEEDS_LINE_OF_SIGHT

Body                  HiveStructureBody ModuleTag_04 ;Requires SpawnBehavior!
MaxHealth           1500.0
InitialHealth       1500.0
;**Careful with these damage types -- because area damage types will already
;**damage slaves.
PropagateDamageTypesToSlavesWhenExisting  NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER +LASER
SwallowDamageTypesIfSlavesNotExisting  NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI01
Turret
TurretTurnRate         360
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed; defensive weapon
End

Behavior  SpawnPointProductionExitUpdate ModuleTag_05
SpawnPointBoneName  Tripod
End

Behavior                 SpawnBehavior ModuleTag_06
SpawnNumber            1
SpawnReplaceDelay      19500 ;msec
SpawnTemplateName      GLAInfantryDushkaGunner
CanReclaimOrphans      No
SpawnedRequireSpawner  Yes
SlavesHaveFreeWill     No
End

Behavior         RebuildHoleExposeDie ModuleTag_08
HoleName       GLAHoleStingerSite
HoleMaxHealth  500.0
End

Behavior         DestroyDie ModuleTag_09
End

Behavior         CreateObjectDie ModuleTag_10
CreationList   OCL_ABDuhskaDebris
End

Behavior         FXListDie ModuleTag_11
DeathFX        FX_StructureSmallDeath
End

;This ensure that tbe barracks always has collision active
Behavior  FireWeaponUpdate ModuleTag_KillSpawnsWhenSold01
Weapon  GenericBuildingCollisionDummyWeapon
End

;This kills the gunner when sold
Behavior  FireWeaponCollide ModuleTag_RemoveGunner01
CollideWeapon  StingerSiteDeathConcussion
RequiredStatus  SOLD
End

Behavior    FireWeaponWhenDeadBehavior ModuleTag_RemoveGunner02
DeathWeapon    StingerSiteDeathConcussion
StartsActive   Yes
End

Behavior  ProductionUpdate ModuleTag_15
MaxQueueEntries  1
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
CommandSet     GLAStingerSiteUpgradedCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
CommandSet     GLAStingerSiteUpgradedCommandSet
End

;;;;;;Camo Netting
Behavior  StealthUpdate ModuleTag_Camonet02
StealthDelay                 2500 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Camonet03
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
End

Behavior         ModelConditionUpgrade ModuleTag_Camonet04
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLACamoNetting
ConflictsWith  Upgrade_GLAFortifiedStructure
End

;;;;;;Fortified Structure
Behavior         ModelConditionUpgrade ModuleTag_Fortified02
ConditionFlag  GARRISONED
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
End

Behavior  MaxHealthUpgrade ModuleTag_Fortified03
TriggeredBy    Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
AddMaxHealth   500.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  AutoHealBehavior ModuleTag_Fortified04
TriggeredBy  Upgrade_GLAFortifiedStructure
ConflictsWith  Upgrade_GLACamoNetting
HealingAmount  10.0
HealingDelay  1.0
Radius  15.0
StartsActive  No
KindOf  VEHICLE
SkipSelfForHealing  Yes
End

Behavior                 FlammableUpdate ModuleTag_16
AflameDuration         5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount     5       ; taking this much damage...
AflameDamageDelay      500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_17
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  ArmorUpgrade ModuleTag_ArmorUpgrade01
TriggeredBy  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_ArmorUpgrade02
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus  UNDER_CONSTRUCTION
End

Geometry             CYLINDER
GeometryMajorRadius  26.0
GeometryHeight       12.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object GLADemoTrap_DemoTruck

; *** ART Parameters ***
SelectPortrait          SSHideBomb_L
ButtonImage             SSHideBomb
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          UVDmTrck_M
Animation      UVDmTrck_M.UVDmTrck_M
AnimationMode  ONCE
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               UVDmTrck_M
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               UVDmTrck_M
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               UVDmTrck_M
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_056
AnimationsRequirePower  No
DefaultConditionState
Model            None
HideSubObject    CYLINDER01
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBDmTrp_AB
Animation        UBDmTrp_AB.UBDmTrp_AB
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBDmTrp_ABS
Animation        UBDmTrp_ABS.UBDmTrp_ABS
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            UBDmTrp_AB
Animation        UBDmTrp_AB.UBDmTrp_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBDmTrp_ABS
Animation        UBDmTrp_ABS.UBDmTrp_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBDmTrp_AB
Animation        UBDmTrp_AB.UBDmTrp_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBDmTrp_ABS
Animation        UBDmTrp_ABS.UBDmTrp_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_066
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBDmTrp_SC
Animation        UBDmTrp_SC.UBDmTrp_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBDmTrp_SCS
Animation        UBDmTrp_SCS.UBDmTrp_SCS
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            UBDmTrp_SC
Animation        UBDmTrp_SC.UBDmTrp_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBDmTrp_SCS
Animation        UBDmTrp_SCS.UBDmTrp_SCS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBDmTrp_SC
Animation        UBDmTrp_SC.UBDmTrp_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBDmTrp_SCS
Animation        UBDmTrp_SCS.UBDmTrp_SCS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_PickBox01

DefaultConditionState
Model          UBDmTrpPB
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:DemoTrap
Side  GLA
EditorSorting  STRUCTURE
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
;The weapon set is used to determine detonation mode
Conditions  None
Weapon  PRIMARY    DummyWeapon ;Used for mode matching only (when to detonate)
Weapon  SECONDARY  DummyWeapon ;Used for mode matching only (when to detonate)
Weapon  TERTIARY   DummyWeapon ;Used for mode matching only (when to detonate)
AutoChooseSources  PRIMARY   NONE
AutoChooseSources  SECONDARY NONE
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            DemoTruckTrapStructureArmor
DamageFX         DefaultDamageFX ; Too small for normal building FX, but if we do make dedicated one it should be silent
End

VisionRange  50.0
ShroudClearingRange  50.0

BuildCost  200
BuildTime  4.0          ;in seconds
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     GLADemoTrapNoSellCommandSet


; *** AUDIO Parameters ***
VoiceSelect  UndergroundGeneratorSelect
SoundOnDamaged         NoSound
SoundOnReallyDamaged   NoSound
SoundStealthOn         NoSound
SoundStealthOff        NoSound

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS IMMOBILE DEMOTRAP SCORE CAN_SEE_THROUGH_STRUCTURE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

ExperienceValue      20 20 20 20  ; Experience point value at each level

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  30.0
End

Behavior  StealthUpdate ModuleTag_043
StealthDelay  500 ; msec
StealthForbiddenConditions  NONE
FriendlyOpacityMin  100.0%
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  DemoTrapUpdate ModuleTag_044
DefaultProximityMode       Yes       ;If yes, defaults to proximity mode, otherwise defaults to manual.
DetonationWeaponSlot       PRIMARY   ;The slot the weapon is in when it detonates.
ProximityModeWeaponSlot    SECONDARY ;The slot proximity mode is determined by (bogus weapon)
ManualModeWeaponSlot       TERTIARY  ;The slot manual mode is determined by (bogus weapon)
TriggerDetonationRange     30.0      ;Detonation range when in proximity mode (and must be on ground)
IgnoreTargetTypes          PROJECTILE UNATTACKABLE NO_COLLIDE
AutoDetonationWithFriendsInvolved  Yes ;GLA are low tech
End

Behavior  SlowDeathBehavior ModuleTag_045
DeathTypes  ALL
DestructionDelay  1000
FX  INITIAL FX_GLADemoTrapWarning
OCL  FINAL OCL_CreateExplodedDemoTrap
Weapon  FINAL DemoTruckDemoTrapDetonationWeapon
End

Behavior  FireWeaponUpdate ModuleTag_20231
Weapon  DemoTruckDemoTrapGroundImpactEffect
InitialDelay  363
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Behavior  FlammableUpdate ModuleTag_047
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

BuildCompletion  PLACED_BY_PLAYER
Shadow           SHADOW_VOLUME
Geometry  CYLINDER
GeometryMajorRadius  4.0
GeometryHeight  9
GeometryIsSmall  Yes

End
;------------------------------------------------------------------------------
Object GLADemoTrap

; *** ART Parameters ***
SelectPortrait          SSHideBomb_L
ButtonImage             SSHideBomb

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model          EXHideBomb
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               EXHideBomb
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_056
AnimationsRequirePower  No
DefaultConditionState
Model            None
HideSubObject    CYLINDER01
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBDmTrp_AB
Animation        UBDmTrp_AB.UBDmTrp_AB
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBDmTrp_ABS
Animation        UBDmTrp_ABS.UBDmTrp_ABS
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            UBDmTrp_AB
Animation        UBDmTrp_AB.UBDmTrp_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBDmTrp_ABS
Animation        UBDmTrp_ABS.UBDmTrp_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBDmTrp_AB
Animation        UBDmTrp_AB.UBDmTrp_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBDmTrp_ABS
Animation        UBDmTrp_ABS.UBDmTrp_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_066
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBDmTrp_SC
Animation        UBDmTrp_SC.UBDmTrp_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBDmTrp_SCS
Animation        UBDmTrp_SCS.UBDmTrp_SCS
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            UBDmTrp_SC
Animation        UBDmTrp_SC.UBDmTrp_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBDmTrp_SCS
Animation        UBDmTrp_SCS.UBDmTrp_SCS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBDmTrp_SC
Animation        UBDmTrp_SC.UBDmTrp_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBDmTrp_SCS
Animation        UBDmTrp_SCS.UBDmTrp_SCS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_PickBox01

DefaultConditionState
Model          UBDmTrpPB
End

End

Draw  W3DModelDraw ModuleTag_ChinaTier1
OkToChangeModelColor  Yes

DefaultConditionState
Model          DmTrpNpl
HideSubObject  NAPALM
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               EXHideBomb
HideSubObject       NAPALM
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

Draw  W3DModelDraw ModuleTag_ECATier2
OkToChangeModelColor  Yes

DefaultConditionState
Model          DmTrpCBmb
HideSubObject  CLUSTER
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               DmTrpCBmb
HideSubObject       CLUSTER
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:DemoTrap
Side              GLA
EditorSorting     STRUCTURE

Prerequisites
Object    GLAArmsDealer
End

BuildCost         300
BuildTime         5.0           ; in seconds
EnergyProduction  0
VisionRange      50.0           ; Shroud clearing distance
ShroudClearingRange      50.0           ; Shroud clearing distance
ExperienceValue      50 50 50 50  ; Experience point value at each level

WeaponSet
;The weapon set is used to determine detonation mode
Conditions  None
Weapon  PRIMARY    DummyWeapon ;Used for mode matching only (when to detonate)
Weapon  SECONDARY  DummyWeapon ;Used for mode matching only (when to detonate)
Weapon  TERTIARY   DummyWeapon ;Used for mode matching only (when to detonate)
AutoChooseSources  PRIMARY   NONE
AutoChooseSources  SECONDARY NONE
AutoChooseSources  TERTIARY  NONE
End
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         DefaultDamageFX ; Too small for normal building FX, but if we do make dedicated one it should be silent
End

CommandSet  GLADemoTrapCommandSet

; *** AUDIO Parameters ***
VoiceSelect  UndergroundGeneratorSelect
SoundOnDamaged         NoSound
SoundOnReallyDamaged   NoSound
SoundStealthOn         NoSound
SoundStealthOff        NoSound

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD SELECTABLE IMMOBILE IMMUNE_TO_CAPTURE DEMOTRAP CAN_SEE_THROUGH_STRUCTURE SALVAGER STRUCTURE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Napalm Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ShowSubObjects  NAPALM
HideSubObjects  NONE
ConflictsWith   Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_RecyclerUpgrade02
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
StatusToSet     PARACHUTING
ConflictsWith   Upgrade_GLAWorkerRealCommandSet
End

Behavior  SlowDeathBehavior ModuleTag_RecyclerUpgrade03
ExemptStatus  UNDER_CONSTRUCTION HIJACKED
RequiredStatus  PARACHUTING
DestructionDelay  1000
FX  INITIAL FX_GLADemoTrapWarning
OCL  FINAL OCL_CreateExplodedDemoTrap
Weapon  FINAL DemoTrapDetonationNapalmWeapon
End

;Cluster Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade04
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
ShowSubObjects  CLUSTER
HideSubObjects  NONE
ConflictsWith   Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_RecyclerUpgrade05
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     HIJACKED
ConflictsWith   Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  SlowDeathBehavior ModuleTag_RecyclerUpgrade06
ExemptStatus  UNDER_CONSTRUCTION PARACHUTING
RequiredStatus  HIJACKED
DestructionDelay  1000
FX  INITIAL FX_GLADemoTrapWarning
OCL  FINAL OCL_CreateExplodedDemoTrap
Weapon  FINAL DemoTrapClusterBombDetonationWeapon
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  StealthUpdate ModuleTag_03
StealthDelay  0 ; msec
StealthForbiddenConditions  NONE
FriendlyOpacityMin  100.0%
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  DemoTrapUpdate ModuleTag_04
DefaultProximityMode       Yes       ;If yes, defaults to proximity mode, otherwise defaults to manual.
DetonationWeaponSlot       PRIMARY   ;The slot the weapon is in when it detonates.
ProximityModeWeaponSlot    SECONDARY ;The slot proximity mode is determined by (bogus weapon)
ManualModeWeaponSlot       TERTIARY  ;The slot manual mode is determined by (bogus weapon)
TriggerDetonationRange     40.0      ;Detonation range when in proximity mode (and must be on ground)
IgnoreTargetTypes          PROJECTILE UNATTACKABLE NO_COLLIDE
AutoDetonationWithFriendsInvolved  Yes ;GLA are low tech
;    DetonationWeapon           DemoTrapDetonationWeapon
DetonateWhenKilled         Yes
End

Behavior  SlowDeathBehavior ModuleTag_05
ExemptStatus  UNDER_CONSTRUCTION PARACHUTING HIJACKED
DestructionDelay  1000
FX  INITIAL FX_GLADemoTrapWarning
OCL  FINAL OCL_CreateExplodedDemoTrap
Weapon  FINAL DemoTrapDetonationWeapon
End

Behavior  FlammableUpdate ModuleTag_07
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  InstantDeathBehavior ModuleTag_08
; if we are under construction, use this death instead
RequiredStatus  UNDER_CONSTRUCTION
; no effect
End

BuildCompletion  PLACED_BY_PLAYER

Shadow           SHADOW_VOLUME
Geometry  CYLINDER
GeometryMajorRadius  4.0
GeometryHeight  9
GeometryIsSmall  Yes

End
;------------------------------------------------------------------------------
Object GLASupplyStash

; *** ART Parameters ***
SelectPortrait          SUSupplyCenter_L
ButtonImage             SUSupplyCenter

; -----------------------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBSplyStsh
Animation        UBSplyStsh.UBSplyStsh
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBSplyStsh_D
Animation        UBSplyStsh_D.UBSplyStsh_D
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT

ConditionState  REALLYDAMAGED
Model            UBSplyStsh_E
Animation        UBSplyStsh_E.UBSplyStsh_E
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState  SNOW
Model            UBSplyStsh_S
Animation        UBSplyStsh_S.UBSplyStsh_S
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
End
AliasConditionState  SNOW NIGHT

ConditionState  SNOW DAMAGED
Model            UBSplyStsh_SD
Animation        UBSplyStsh_SD.UBSplyStsh_SD
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState  SNOW REALLYDAMAGED
Model            UBSplyStsh_SE
Animation        UBSplyStsh_SE.UBSplyStsh_SE
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBSplyStsh
Animation        UBSplyStsh.UBSplyStsh
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBSplyStsh_D
Animation        UBSplyStsh_D.UBSplyStsh_D
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBSplyStsh_E
Animation        UBSplyStsh_E.UBSplyStsh_E
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBSplyStsh_S
Animation        UBSplyStsh_S.UBSplyStsh_S
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model            UBSplyStsh_SD
Animation        UBSplyStsh_SD.UBSplyStsh_SD
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model            UBSplyStsh_SE
Animation        UBSplyStsh_SE.UBSplyStsh_SE
AnimationMode    LOOP
HideSubObject    GARAGEDOOR01 GARAGEDOOR02
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Factory Doors -----------------
Draw  W3DModelDraw ModuleTag_Door01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBSplyStsh
Animation        UBSplyStsh.UBSplyStsh
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  NIGHT

ConditionState     LOADED
Model            UBSplyStsh
Animation        UBSplyStsh.UBSplyStsh
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  LOADED NIGHT

ConditionState     DAMAGED
Model            UBSplyStsh_D
Animation        UBSplyStsh_D.UBSplyStsh_D
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT

ConditionState     DAMAGED LOADED
Model            UBSplyStsh_D
Animation        UBSplyStsh_D.UBSplyStsh_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  DAMAGED LOADED NIGHT

ConditionState  REALLYDAMAGED
Model            UBSplyStsh_E
Animation        UBSplyStsh_E.UBSplyStsh_E
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState     REALLYDAMAGED LOADED
Model            UBSplyStsh_E
Animation        UBSplyStsh_E.UBSplyStsh_E
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED LOADED NIGHT

ConditionState  SNOW
Model            UBSplyStsh_S
Animation        UBSplyStsh_S.UBSplyStsh_S
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  NIGHT SNOW

ConditionState     SNOW LOADED
Model            UBSplyStsh_S
Animation        UBSplyStsh_S.UBSplyStsh_S
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  SNOW LOADED NIGHT

ConditionState     SNOW DAMAGED
Model            UBSplyStsh_D
Animation        UBSplyStsh_D.UBSplyStsh_D
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState     SNOW DAMAGED LOADED
Model            UBSplyStsh_SD
Animation        UBSplyStsh_SD.UBSplyStsh_SD
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  SNOW DAMAGED LOADED NIGHT

ConditionState  SNOW REALLYDAMAGED
Model            UBSplyStsh_SE
Animation        UBSplyStsh_SE.UBSplyStsh_SE
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT

ConditionState     SNOW REALLYDAMAGED LOADED
Model            UBSplyStsh_SE
Animation        UBSplyStsh_SE.UBSplyStsh_SE
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone  VENT SteamVentLight
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  SNOW REALLYDAMAGED LOADED NIGHT

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBSplyStsh
Animation        UBSplyStsh.UBSplyStsh
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBSplyStsh_D
Animation        UBSplyStsh_D.UBSplyStsh_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBSplyStsh_D
Animation        UBSplyStsh_D.UBSplyStsh_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBSplyStsh_S
Animation        UBSplyStsh_S.UBSplyStsh_S
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; -----------------------------
Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model              UBSplyStsh_N
End
AliasConditionState  SNOW

ConditionState  DAMAGED
Model              UBSplyStsh_ND
End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model              UBSplyStsh_NE
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model             UBSplyStsh_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model             UBSplyStsh_ND
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model             UBSplyStsh_NE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

; -----------------------------
Draw  W3DModelDraw ModuleTag_Pickbox01

DefaultConditionState
Model          UBSplyStsh_P
HideSubObject  DIRT01
End
AliasConditionState  SNOW
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBSplyStsh_P
ShowSubObject      DIRT01
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBSplyStsh_PS
ShowSubObject      DIRT01
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

; ------------ Exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_ExitBones
DefaultConditionState
Model              UBSplyStsh_B
End
End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName          OBJECT:SupplyStash
Side                 GLA
EditorSorting        STRUCTURE
BuildCost            1500
RefundValue          650 ; With nothing (or zero) listed, we sell for half price.
BuildTime            15.0           ; in seconds
EnergyProduction     0
CommandSet           GLASupplyStashCommandSet
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  SupplyCenterGLASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE CANNOT_BUILD_NEAR_SUPPLIES TRANSPORT FS_SUPPLY_CENTER
Body                 StructureBody ModuleTag_04
MaxHealth          4000.0
InitialHealth      4000.0

SubdualDamageCap         3000
SubdualDamageHealRate    500
SubdualDamageHealAmount  100
End

Behavior  SupplyCenterCreate ModuleTag_05
;nothing
End

Behavior              RebuildHoleExposeDie ModuleTag_06
HoleName       GLASupplyStashHole
HoleMaxHealth  500.0
End

Behavior  ProductionUpdate ModuleTag_10
End

Behavior  SupplyCenterProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 10.0  Y:  20.5   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  20.5   Z:0.0
End

Behavior             SpawnBehavior ModuleTag_FreeWorker01
SpawnNumber        1
SpawnReplaceDelay  9999
SpawnTemplateName  GLASupplyStashWorkerSpawnDummy
OneShot            Yes
CanReclaimOrphans  No
SlavesHaveFreeWill  Yes
End

Behavior  SupplyCenterDockUpdate ModuleTag_13
AllowsPassthrough  No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
NumberApproachPositions  -1 ; This is a Boneless dock, so this means infinite can approach
End

Behavior  FlammableUpdate ModuleTag_15
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_16
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  TransportContain ModuleTag_08
Slots                         6
EnterSound                    GarrisonEnter
ExitSound                     GarrisonExit
DamagePercentToUnits          100%
HealthRegen%PerSec            20%
PassengersAllowedToFire       No
AllowInsideKindOf             HARVESTER
ForbidInsideKindOf            VEHICLE
ExitDelay                     300
NumberOfExitPaths             1
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAGenericTunnelBuildingCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
CommandSet       GLASupplyStashCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  45.0
GeometryMinorRadius  63.0
GeometryHeight       50.0
FactoryExitWidth     15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object GLASupplyStashWorkerSpawnDummy

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  ProductionUpdate ModuleTag_10
End

Behavior  SupplyCenterProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 10.0  Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior             SpawnBehavior ModuleTag_12
SpawnNumber        1
SpawnReplaceDelay  9999
SpawnTemplateName  GLAInfantryWorker
OneShot            Yes
CanReclaimOrphans  No
SlavesHaveFreeWill  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry             BOX
GeometryMajorRadius  45.0
GeometryMinorRadius  63.0
GeometryHeight       50.0
FactoryExitWidth     15.0
GeometryIsSmall      No

End
;------------------------------------------------------------------------------
Object GLAScudStorm

; *** ART Parameters ***
SelectPortrait          SUScudStorm_L
ButtonImage             SUScudStorm

Draw  W3DModelDraw ModuleTag_01 ;Main structure
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBScdStrm
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBScdStrm_D
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBScdStrm_D
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBScdStrm_S
End
AliasConditionState  SNOW NIGHT

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBScdStrm
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBScdStrm_D
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBScdStrm_D
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBScdStrm_S
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

Draw  W3DModelDraw ModuleTag_Scuds01 ;Here be missiles
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

;;;;Normal Conditions
ConditionState      NONE
Model             UBScdStrm_A1
Animation         UBScdStrm_A1.UBScdStrm_A1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
TransitionKey     Trans_Normal
End
AliasConditionState  NIGHT

TransitionState      Trans_Normal Trans_Attacking
Model              UBScdStrm_A1
Animation          UBScdStrm_A1.UBScdStrm_A1
AnimationMode      ONCE
WeaponLaunchBone   SECONDARY SCUD
Flags              START_FRAME_FIRST
ParticleSysBone    STEAM01 SteamLarge
ParticleSysBone    STEAM02 SteamLarge
ParticleSysBone    STEAM03 SteamLarge
End

ConditionState      ATTACKING
Model             UBScdStrm_A1
Animation         UBScdStrm_A1.UBScdStrm_A1
AnimationMode     ONCE
Flags             START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
TransitionKey     Trans_Attacking
End
AliasConditionState  ATTACKING FIRING_A
AliasConditionState  ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT ATTACKING
AliasConditionState  NIGHT ATTACKING FIRING_A
AliasConditionState  NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A

TransitionState     Trans_Attacking Trans_Normal
Model             UBScdStrm_A2
Animation         UBScdStrm_A2.UBScdStrm_A2
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
End

;;;;Damaged Conditions
ConditionState      DAMAGED
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
TransitionKey     Trans_Damaged
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

TransitionState     Trans_Damaged Trans_Damaged_Attacking
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
End

ConditionState      DAMAGED ATTACKING
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE
Flags             START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
TransitionKey     Trans_Damaged_Attacking
End
AliasConditionState  DAMAGED ATTACKING FIRING_A
AliasConditionState  DAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  DAMAGED NIGHT ATTACKING
AliasConditionState  DAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  DAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW DAMAGED ATTACKING
AliasConditionState  SNOW DAMAGED ATTACKING FIRING_A
AliasConditionState  SNOW DAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW DAMAGED NIGHT ATTACKING
AliasConditionState  SNOW DAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  SNOW DAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING FIRING_A
AliasConditionState  REALLYDAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED NIGHT ATTACKING
AliasConditionState  REALLYDAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  REALLYDAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW REALLYDAMAGED ATTACKING
AliasConditionState  SNOW REALLYDAMAGED ATTACKING FIRING_A
AliasConditionState  SNOW REALLYDAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW REALLYDAMAGED NIGHT ATTACKING
AliasConditionState  SNOW REALLYDAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  SNOW REALLYDAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A

TransitionState     Trans_Damaged_Attacking Trans_Damaged
Model             UBScdStrm_DA2
Animation         UBScdStrm_DA2.UBScdStrm_DA2
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
End

;;;;Snow Conditions
ConditionState      SNOW
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
TransitionKey     Trans_Snow
End
AliasConditionState  SNOW NIGHT

TransitionState     Trans_Snow Trans_Snow_Attacking
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
End

ConditionState      SNOW ATTACKING
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE
Flags             START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
TransitionKey     Trans_Snow_Attacking
End
AliasConditionState  SNOW ATTACKING FIRING_A
AliasConditionState  SNOW ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT ATTACKING
AliasConditionState  SNOW NIGHT ATTACKING FIRING_A
AliasConditionState  SNOW NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A

TransitionState     Trans_Snow_Attacking Trans_Snow
Model             UBScdStrm_SA2
Animation         UBScdStrm_SA2.UBScdStrm_SA2
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
End

;**************************************************************************************************************************
ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model             UBScdStrm_A1
Animation         UBScdStrm_A1.UBScdStrm_A1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
Flags             ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
Flags             ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
Flags             START_FRAME_FIRST
Flags             ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction dirt patch -----------------
Draw                 W3DModelDraw ModuleTag_034312
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBScdStrm_A6
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBScdStrm_SA6
End
AliasConditionState SNOW NIGHT PARTIALLY_CONSTRUCTED

End

; ------------ leaking anthrax effects -----------------
Draw                 W3DModelDraw ModuleTag_034323212

ConditionState     NONE
Model            UBScdStrm_B
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     ATTACKING
Model            UBScdStrm_B
ParticleSysBone  FXBone01 ScudStormBuildingGoo
ParticleSysBone  FXBone02 ScudStormBuildingGoo
ParticleSysBone  FXBone03 ScudStormBuildingGoo
End
AliasConditionState  NIGHT ATTACKING
AliasConditionState  DAMAGED ATTACKING
AliasConditionState  DAMAGED NIGHT ATTACKING
AliasConditionState  SNOW ATTACKING
AliasConditionState  SNOW NIGHT ATTACKING

;;;;Upgraded with antrhax beta

ConditionState     USER_1
Model            UBScdStrm_B
End
AliasConditionState  USER_1 NIGHT
AliasConditionState  USER_1 DAMAGED
AliasConditionState  USER_1 DAMAGED NIGHT
AliasConditionState  USER_1 DAMAGED SNOW
AliasConditionState  USER_1 DAMAGED NIGHT SNOW
AliasConditionState  USER_1 REALLYDAMAGED
AliasConditionState  USER_1 REALLYDAMAGED NIGHT
AliasConditionState  USER_1 REALLYDAMAGED SNOW
AliasConditionState  USER_1 REALLYDAMAGED NIGHT SNOW
AliasConditionState  USER_1 SNOW
AliasConditionState  USER_1 SNOW NIGHT

ConditionState     USER_1 ATTACKING
Model            UBScdStrm_B
ParticleSysBone  FXBone01 ScudStormBuildingGooUpgraded
ParticleSysBone  FXBone02 ScudStormBuildingGooUpgraded
ParticleSysBone  FXBone03 ScudStormBuildingGooUpgraded
End
AliasConditionState  USER_1 NIGHT ATTACKING
AliasConditionState  USER_1 DAMAGED ATTACKING
AliasConditionState  USER_1 DAMAGED NIGHT ATTACKING
AliasConditionState  USER_1 SNOW ATTACKING
AliasConditionState  USER_1 SNOW NIGHT ATTACKING

End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBScdStrm_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBScdStrm_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ScudStorm
Side  GLA
EditorSorting     STRUCTURE

Prerequisites
Object  GLAPalace
End

BuildCost         4000
BuildTime         45.0           ; in seconds
EnergyProduction  0
CommandSet        GLAScudStormCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  SECONDARY ScudStormWeapon
AutoChooseSources  SECONDARY NONE
End
ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      400 400 400 400  ; Experience point value at each level
MaxSimultaneousOfType  DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  ScudStorm  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

; *** AUDIO Parameters ***
VoiceSelect  ScudStormSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY SCORE_CREATE FS_SUPERWEAPON
Body             StructureBody ModuleTag_07
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  4200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End
Behavior         RebuildHoleExposeDie ModuleTag_08
HoleName       GLAHoleScudStorm
HoleMaxHealth  500.0
End

Behavior  AIUpdateInterface ModuleTag_09
End

Behavior     OCLSpecialPower ModuleTag_10
SpecialPowerTemplate  SuperweaponScudStorm
OCL                   SUPERWEAPON_ScudStorm
End
Behavior  SpecialPowerCreate ModuleTag_11
End


Behavior         FireWeaponWhenDeadBehavior ModuleTag_13
DeathWeapon    ScudStormDeathWeapon
ConflictsWith  Upgrade_GLAAnthraxBeta
StartsActive   Yes
End

Behavior         FireWeaponWhenDeadBehavior ModuleTag_14
DeathWeapon    ScudStormDeathWeaponUpgraded
TriggeredBy    Upgrade_GLAAnthraxBeta
StartsActive   No
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  RadiusDecalUpdate ModuleTag_17
; nothing
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior         FXListDie ModuleTag_19
DeathFX        FX_BuildingDie
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_1812121
ConditionFlag  USER_1
TriggeredBy  Upgrade_GLAAnthraxBeta
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_ScudStormCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
DeathTypes  ALL
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  BoneFXDamage ModuleTag_RevealToAll01
End

Behavior  BoneFXUpdate ModuleTag_RevealToAll02
PristineOCL1       bone:NULL OnlyOnce:No 2000 2000 OCL:OCL_SuperWeaponShroudReveal
DamagedOCL1        bone:NULL OnlyOnce:No 2000 2000 OCL:OCL_SuperWeaponShroudReveal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 2000 2000 OCL:OCL_SuperWeaponShroudReveal
End

Geometry             BOX
GeometryMajorRadius  75.0
GeometryMinorRadius  75.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
Object GLAScudStorm_CollapseObject

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model            UBScdStrm_D
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

End

Draw  W3DModelDraw ModuleTag_Scuds01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState      NONE
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
HideSubObject     SCUD01 SCUD02 SCUD03 SCUD04 SCUD05 SCUD06 SCUD07 SCUD08 SCUD09
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

End

PlacementViewAngle  -45


; ***DESIGN parameters ***
DisplayName       OBJECT:Scudstorm
Side              GLA
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE SCORE

Body             StructureBody ModuleTag_06
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Geometry             BOX
GeometryMajorRadius  75.0
GeometryMinorRadius  75.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;GLA Command Tunnel
Object GLACommandCenter

; *** ART Parameters ***
SelectPortrait          SUHeadquarters_L
ButtonImage             SUHeadquarters

; -----------------------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBHdout
Animation        UBHdout.UBHdout
AnimationMode    LOOP
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBHdout_D
Animation        UBHdout_D.UBHdout_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT

ConditionState     REALLYDAMAGED
Model            UBHdout_E
Animation        UBHdout_E.UBHdout_E
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingFire
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState     SNOW
Model            UBHdout_S
Animation        UBHdout_S.UBHdout_S
AnimationMode    LOOP
End
AliasConditionState  SNOW NIGHT

ConditionState     SNOW DAMAGED
Model            UBHdout_SD
Animation        UBHdout_SD.UBHdout_SD
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
End
AliasConditionState  SNOW DAMAGED NIGHT SNOW

ConditionState     SNOW REALLYDAMAGED
Model            UBHdout_SE
Animation        UBHdout_SE.UBHdout_SE
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingFire
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBHdout
Animation        UBHdout.UBHdout
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBHdout_D
Animation        UBHdout_D.UBHdout_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBHdout_D
Animation        UBHdout_D.UBHdout_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBHdout_S
Animation        UBHdout_S.UBHdout_S
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model            UBHdout_SD
Animation        UBHdout_SD.UBHdout_SD
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model            UBHdout_SE
Animation        UBHdout_SE.UBHdout_SE
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingFire
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; -----------------------------
Draw  W3DModelDraw ModuleTag_Pickbox01

DefaultConditionState
Model          UBHdout_P
HideSubObject  DIRT01
End
AliasConditionState  SNOW
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBHdout_P
ShowSubObject      DIRT01
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBHdout_PS
ShowSubObject      DIRT01
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End


; ------------ Tunnel exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_TunnelBones
DefaultConditionState
Model              UBHdout_B
End
End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          Object:Hideout
Side                 GLA
EditorSorting        STRUCTURE
BuildCost            1000
RefundValue          1 ; With nothing (or zero) listed, we sell for no money at all
BuildTime            35.0           ; in seconds

VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmorTough
DamageFX           StructureDamageFXNoShake
End

Prerequisites
Object  FactionGLA
End

ExperienceValue      150 150 150 150  ; Experience point value at each level
CommandSet           GLACommandCenterCommandSet

; *** AUDIO Parameters ***
VoiceSelect            CommandCenterGLASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End


; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY IGNORE_DOCKING_BONES FS_FACTORY
;  KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY IGNORE_DOCKING_BONES
Body                 StructureBody ModuleTag_04
MaxHealth          3000.0
InitialHealth      3000.0

SubdualDamageCap         3000
SubdualDamageHealRate    500
SubdualDamageHealAmount  100
End

Behavior  PreorderCreate ModuleTag_PreorderCreate
End

Behavior  TunnelContain ModuleTag_05
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior  ProductionUpdate ModuleTag_0523
End

Behavior  DefaultProductionExitUpdate ModuleTag_06
UnitCreatePoint    X: 5.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior             SpawnBehavior ModuleTag_FreeWorker01
SpawnNumber         1
SpawnReplaceDelay   9999
SpawnTemplateName   GLAHideoutWorkerSpawnDummy
OneShot             Yes
CanReclaimOrphans   No
SlavesHaveFreeWill  Yes
End

Behavior  RebuildHoleExposeDie ModuleTag_07
HoleName       GLAHideoutHole
HoleMaxHealth  500.0
End

Behavior  FlammableUpdate ModuleTag_19
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_20
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAGenericTunnelBuildingCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
CommandSet       GLACommandCenterCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  49.0
GeometryMinorRadius  55.2
GeometryHeight       55.0
FactoryExitWidth     15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object GLAHideoutWorkerSpawnDummy

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  ProductionUpdate ModuleTag_0523
End

Behavior  DefaultProductionExitUpdate ModuleTag_06
UnitCreatePoint    X: 5.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior             SpawnBehavior ModuleTag_FreeWorker01
SpawnNumber         1
SpawnReplaceDelay   9999
SpawnTemplateName   GLAInfantryWorker
OneShot             Yes
CanReclaimOrphans   No
SlavesHaveFreeWill  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry             BOX
GeometryMajorRadius  49.0
GeometryMinorRadius  55.2
GeometryHeight       55.0
FactoryExitWidth     15.0
GeometryIsSmall      No

End
;------------------------------------------------------------------------------
Object GLAPalace

; *** ART Parameters ***
SelectPortrait          SUPalace_L
ButtonImage             SUPalace


Draw  W3DModelDraw ModuleTag_01 ;This art module contains the parts for the actual structure
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone       DIRT01

ConditionState     NONE
Model            UBChemLab
Animation        UBChemLab.UBChemLab
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBChemLab_S
Animation        UBChemLab_S.UBChemLab_S
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBChemLab
Animation        UBChemLab.UBChemLab
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBChemLab_S
Animation        UBChemLab_S.UBChemLab_S
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ The Dome on the Roof -----------------
Draw  W3DModelDraw ModuleTag_Dome01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBChemLab_A2
TransitionKey    TRANS_EMPTY
End
AliasConditionState  NIGHT

ConditionState     LOADED
Model            UBChemLab_A3
Animation        UBChemLab_A3.UBChemLab_A3
AnimationMode    ONCE
TransitionKey    TRANS_OCCUPIED
Flags            START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState    TRANS_OCCUPIED TRANS_EMPTY
Model            UBChemLab_A3
Animation        UBChemLab_A3.UBChemLab_A3
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

;;;Damaged
ConditionState     DAMAGED
Model            UBChemLab_A2D
TransitionKey    TRANS_EMPTY_DAMAGED
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState     DAMAGED LOADED
Model            UBChemLab_A3D
Animation        UBChemLab_A3D.UBChemLab_A3D
AnimationMode    ONCE
TransitionKey    TRANS_OCCUPIED_DAMAGED
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  DAMAGED LOADED NIGHT
AliasConditionState  DAMAGED LOADED SNOW
AliasConditionState  DAMAGED LOADED NIGHT SNOW
AliasConditionState  REALLYDAMAGED LOADED
AliasConditionState  REALLYDAMAGED LOADED NIGHT
AliasConditionState  REALLYDAMAGED LOADED SNOW
AliasConditionState  REALLYDAMAGED LOADED NIGHT SNOW

TransitionState    TRANS_OCCUPIED_DAMAGED TRANS_EMPTY_DAMAGED
Model            UBChemLab_A3D
Animation        UBChemLab_A3D.UBChemLab_A3D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

;;;Snow
ConditionState  SNOW
Model            UBChemLab_A2S
TransitionKey    TRANS_EMPTY_SNOW
End
AliasConditionState  SNOW NIGHT

ConditionState     SNOW LOADED
Model            UBChemLab_A3S
Animation        UBChemLab_A3S.UBChemLab_A3S
AnimationMode    ONCE
TransitionKey    TRANS_OCCUPIED_SNOW
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  SNOW LOADED NIGHT

TransitionState    TRANS_OCCUPIED_SNOW TRANS_EMPTY_SNOW
Model            UBChemLab_A3S
Animation        UBChemLab_A3S.UBChemLab_A3S
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBChemLab_A2
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
TransitionKey    TRANS_EMPTY
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBChemLab_A2D
TransitionKey    TRANS_EMPTY_DAMAGED
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBChemLab_A2S
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
TransitionKey    TRANS_EMPTY_SNOW
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION
AliasConditionState   LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   LOADED SOLD
AliasConditionState   LOADED SOLD DAMAGED
AliasConditionState   LOADED SOLD REALLYDAMAGED
AliasConditionState   LOADED SOLD NIGHT
AliasConditionState   LOADED SOLD NIGHT DAMAGED
AliasConditionState   LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState   LOADED SOLD SNOW
AliasConditionState   LOADED SOLD SNOW DAMAGED
AliasConditionState   LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState   LOADED SOLD NIGHT SNOW
AliasConditionState   LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState   LOADED SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Factory Door -----------------
Draw                    W3DModelDraw ModuleTag_FactoryDoor01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState        NONE
Model               UBChemLab_A1
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               UBChemLab_DA1
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               UBChemLab_DA1
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               UBChemLab_A1
End
AliasConditionState  NIGHT SNOW

;;;; Door Animations

ConditionState     DOOR_1_OPENING
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE
End
AliasConditionState  DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;;;;;;;;;;;;;;Snow
ConditionState     DOOR_1_OPENING SNOW
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    ONCE
End
AliasConditionState  NIGHT DOOR_1_OPENING SNOW

ConditionState     DOOR_1_OPENING DAMAGED SNOW
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE
End
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING SNOW
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING SNOW

ConditionState     DOOR_1_CLOSING DAMAGED SNOW
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN SNOW
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN SNOW

ConditionState     DOOR_1_WAITING_OPEN DAMAGED SNOW
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBChemLab_A1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBChemLab_DA1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBChemLab_DA1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBChemLab_A1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw  W3DModelDraw ModuleTag_ChemicalSmoke01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBChemLab_B
ParticleSysBone  Smoke01 ToxicSteamLarge
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBChemLab_B
ParticleSysBone  Smoke01 ToxicSteamLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction dirt patch -----------------
Draw                 W3DModelDraw ModuleTag_034312
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBScdStrm_A6
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBScdStrm_SA6
End
AliasConditionState SNOW NIGHT PARTIALLY_CONSTRUCTED

End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBChemLab_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBChemLab_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle   -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Palace
Side  GLA
EditorSorting     STRUCTURE

Prerequisites
Object  GLABlackMarket
End

BuildCost         2000
BuildTime         45.0           ; in seconds
EnergyProduction  0
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

CommandSet  GLAChemicalLabCommandSet
ExperienceValue      250 250 250 250  ; Experience point value at each level
MaxSimultaneousOfType  1 ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  ChemLab

; *** AUDIO Parameters ***
VoiceSelect            PalaceSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_TECHNOLOGY CAPTURABLE MP_COUNT_FOR_VICTORY SCORE_CREATE FS_ADVANCED_TECH

Body             HiveStructureBody ModuleTag_04
MaxHealth        5000.0
InitialHealth    5000.0

SubdualDamageCap  5000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50

PropagateDamageTypesToSlavesWhenExisting  NONE
SwallowDamageTypesIfSlavesNotExisting  NONE
End

Behavior  ProductionUpdate ModuleTag_05
NumDoorAnimations             1
DoorOpeningTime               1500  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 1500  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End

Behavior  DefaultProductionExitUpdate ModuleTag_1123
UnitCreatePoint    X: 0.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End



Behavior  SpecialPowerCreate ModuleTag_EmergencyRepair02
End

Behavior              RebuildHoleExposeDie ModuleTag_06
HoleName       GLAHolePalace
HoleMaxHealth  500.0
End

Behavior  TransitionDamageFX ModuleTag_12
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  TransportContain ModuleTag_Shelter01
Slots  3
AllowInsideKindOf  HUGE_VEHICLE
ForbidInsideKindOf  INFANTRY AIRCRAFT DONT_AUTO_CRUSH_INFANTRY
DamagePercentToUnits  100%
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime  5000
NumberOfExitPaths  1
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

;This module grant the science needed to upgrade the anthrax bomb icon
Behavior  GrantScienceUpgrade ModuleTag_AnthraxBombIconUpdate01
GrantScience  SCIENCE_AnthraxBomb_BetaUpgrade
TriggeredBy  Upgrade_GLAAnthraxBeta
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SpawnPointProductionExitUpdate ModuleTag_CommandCenterDummy01
SpawnPointBoneName  Dirt
End

Behavior                 SpawnBehavior ModuleTag_CommandCenterDummy02
SpawnNumber            1
SpawnReplaceDelay      1 ;msec
SpawnTemplateName      GLAPalaceCommandCenterDummySpawnerObject
CanReclaimOrphans      No
SpawnedRequireSpawner  Yes
SlavesHaveFreeWill     No
End

Geometry             BOX
GeometryMajorRadius  65.0
GeometryMinorRadius  70.0
GeometryHeight       70.0
FactoryExitWidth     25.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;we need this object to die as soon as the chemical lab is either sold or destroy which will result in it removing the second one from the game world
Object GLAPalaceCommandCenterDummySpawnerObject

;  Draw  W3DModelDraw ModuleTag_01
;    OkToChangeModelColor  Yes
;    ConditionState  None
;      Model  AVBOMBER
;    End
;  End

; ***DESIGN parameters ***
DisplayName       OBJECT:Palace
Side  GLA
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE UNATTACKABLE IMMOBILE

Body             StructureBody ModuleTag_04
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_GLAChemicalLabRadarPowersAndRadarTriggerDummy
TriggeredBy    Upgrade_CostReduction
End

Geometry             BOX
GeometryMajorRadius  50.0
GeometryMinorRadius  60.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object GLAPalaceCommandCenterDummy

;  Draw  W3DModelDraw ModuleTag_01
;    OkToChangeModelColor  Yes
;    ConditionState  None
;      Model  AVBOMBER
;    End
;  End

; ***DESIGN parameters ***
DisplayName       OBJECT:Palace
Side  GLA
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD UNATTACKABLE

Body             StructureBody ModuleTag_04
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL  ChemicalLabCommandTruckGenpowersandRadarDummyLocomotor

Behavior  FireWeaponCollide ModuleTag_ShelterRadar01
CollideWeapon   GLAChemicalLabRadarDummyWeapon
RequiredStatus  USING_ABILITY
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry             BOX
GeometryMajorRadius  50.0
GeometryMinorRadius  60.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object GLABlackMarket

; *** ART Parameters ***
SelectPortrait          SUBlackMarket_L
ButtonImage             SUBlackMarket

Draw  W3DModelDraw ModuleTag_01 ;This art module contains the parts for the actual structure
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBBlckMrkt
Animation        UBBlckMrkt.UBBlckMrkt
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBBlckMrkt_D
Animation        UBBlckMrkt_D.UBBlckMrkt_D
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBBlckMrkt_D
Animation        UBBlckMrkt_D.UBBlckMrkt_D
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBBlckMrkt_S
Animation        UBBlckMrkt_S.UBBlckMrkt_S
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBBlckMrkt
Animation        UBBlckMrkt.UBBlckMrkt
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBBlckMrkt_D
Animation        UBBlckMrkt_D.UBBlckMrkt_D
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBBlckMrkt_D
Animation        UBBlckMrkt_D.UBBlckMrkt_D
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBBlckMrkt_S
Animation        UBBlckMrkt_S.UBBlckMrkt_S
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction dirt patch -----------------
Draw                 W3DModelDraw ModuleTag_03637
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBBlckMrkt_A6
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBBlckMrkt_SA6
End
AliasConditionState SNOW NIGHT PARTIALLY_CONSTRUCTED

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model            UBBlckMrkt_B
End
End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBBlckMrkt_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBBlckMrkt_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName          OBJECT:BlackMarket
Side                 GLA
EditorSorting        STRUCTURE

Prerequisites
Object  GLAArmsDealer
Object  FactionRadarActive
End

BuildCost            1500
BuildTime            25.0           ; in seconds
EnergyProduction     0
CommandSet           GLABlackMarketCommandSet
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200
MaxSimultaneousOfType  1
MaxSimultaneousLinkKey  BlackMarket

ArmorSet
Conditions         None
Armor              PropagandaStructureArmor
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      250 250 250 250  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect          BlackMarketSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY SCORE_CREATE FS_BLACK_MARKET

Body                 StructureBody ModuleTag_04
MaxHealth        3500.0
InitialHealth    3500.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI01
AutoAcquireEnemiesWhenIdle  No
End

Behavior  ProductionUpdate ModuleTag_Production01
End

Behavior  DefaultProductionExitUpdate ModuleTag_Production02
UnitCreatePoint    X:0.0 Y:0.0 Z:0.0
NaturalRallyPoint  X:0.0 Y:0.0 Z:0.0
End

Behavior                  RebuildHoleExposeDie ModuleTag_08
HoleName           GLAHoleBlackMarket
HoleMaxHealth      500.0
End


Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_13
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  ObjectCreationUpgrade ModuleTag_ArmsDealer01
UpgradeObject  OCL_GLABlackMarketArmsDealer1
TriggeredBy    Upgrade_BlackMarketMerchant1
End

Behavior  ObjectCreationUpgrade ModuleTag_ArmsDealer02
UpgradeObject  OCL_GLABlackMarketArmsDealer2
TriggeredBy    Upgrade_BlackMarketMerchant2
End

Behavior  ObjectCreationUpgrade ModuleTag_ArmsDealer03
UpgradeObject  OCL_GLABlackMarketArmsDealer3
TriggeredBy    Upgrade_BlackMarketMerchant3
End

Behavior  CommandSetUpgrade ModuleTag_ArmsDealer05
TriggeredBy      Upgrade_BlackMarketMerchant1
CommandSet       GLABlackMarketUpgradedOneCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_ArmsDealer06
TriggeredBy      Upgrade_BlackMarketMerchant2
CommandSet       GLABlackMarketUpgradedTwoCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior  SlowDeathBehavior ModuleTag_Collapse01
ExemptStatus      UNDER_CONSTRUCTION
DestructionDelay  100
OCL               INITIAL OCL_BlackMarketCollapseDummy
End

Behavior  InstantDeathBehavior ModuleTag_Collapse02
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  FireWeaponUpdate ModuleTag_KillMerchants01
Weapon  GenericCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_KillMerchants02
CollideWeapon  BlackMarketBeeingSoldOrDestroyedKillMerchantsWeapon
RequiredStatus  SOLD
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_KillMerchants03
DeathWeapon    BlackMarketBeeingSoldOrDestroyedKillMerchantsWeapon
StartsActive   Yes
End

Behavior  FireWeaponUpdate ModuleTag_KillMerchants04
Weapon  BlackMarkeKillEnemyMerchantsWeapon
End

Geometry             BOX
GeometryMajorRadius  60.0
GeometryMinorRadius  60.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object GLABlackMarket_CollapseDummy

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            UBBlckMrkt_D
Animation        UBBlckMrkt_D.UBBlckMrkt_D
AnimationMode    LOOP
ParticleSysBone  FIREPLACE01 SmolderingFire
ParticleSysBone  FIREPLACE01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End

End

; ***DESIGN parameters ***
Side  GLA
EditorSorting     SYSTEM

ArmorSet
Conditions        None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  LifetimeUpdate ModuleTag_Collapse04
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  60.0
GeometryMinorRadius  60.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;GLA Barracks
Object GLABarracks

; *** ART Parameters ***
SelectPortrait          SUBarracks_L
ButtonImage             SUBarracks

; -----------------------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBBrkTnl
Animation        UBBrkTnl.UBBrkTnl
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBBrkTnl_D
Animation        UBBrkTnl_D.UBBrkTnl_D
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
ParticleSysBone  SMOKE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT

ConditionState  REALLYDAMAGED
Model            UBBrkTnl_E
Animation        UBBrkTnl_E.UBBrkTnl_E
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 FireFactionLarge
ParticleSysBone  SMOKE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState  SNOW
Model            UBBrkTnl_S
Animation        UBBrkTnl_S.UBBrkTnl_S
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
End
AliasConditionState  SNOW NIGHT

ConditionState  SNOW DAMAGED
Model            UBBrkTnl_SD
Animation        UBBrkTnl_SD.UBBrkTnl_SD
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
ParticleSysBone  SMOKE03 SmolderingFire
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState  SNOW REALLYDAMAGED
Model            UBBrkTnl_SE
Animation        UBBrkTnl_SE.UBBrkTnl_SE
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 FireFactionLarge
ParticleSysBone  SMOKE03 SmokeFactionLarge
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBBrkTnl
Animation        UBBrkTnl.UBBrkTnl
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBBrkTnl_D
Animation        UBBrkTnl_D.UBBrkTnl_D
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
ParticleSysBone  SMOKE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBBrkTnl_E
Animation        UBBrkTnl_E.UBBrkTnl_E
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 FireFactionLarge
ParticleSysBone  SMOKE03 SmokeFactionLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBBrkTnl_S
Animation        UBBrkTnl_S.UBBrkTnl_S
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model            UBBrkTnl_SD
Animation        UBBrkTnl_SD.UBBrkTnl_SD
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingFire
ParticleSysBone  SMOKE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model            UBBrkTnl_SE
Animation        UBBrkTnl_SE.UBBrkTnl_SE
AnimationMode    LOOP
ParticleSysBone  FIREPIT01 SmolderingFire
ParticleSysBone  FIREPIT01 SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE01 SmokeFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 FireFactionLarge
ParticleSysBone  SMOKE03 SmokeFactionLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; -----------------------------
Draw  W3DModelDraw ModuleTag_Pickbox01

DefaultConditionState
Model          UBBrkTnl_P
HideSubObject  DIRT02
End
AliasConditionState  SNOW
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBBrkTnl_P
ShowSubObject      DIRT02
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBBrkTnl_PS
ShowSubObject      DIRT02
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

; ------------ Tunnel exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_TunnelBones
DefaultConditionState
Model              UBBrkTnl_B
End
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBBarracks_A4
Animation        UBBarracks_A4.UBBarracks_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBBarracks_A4N
Animation        UBBarracks_A4N.UBBarracks_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBBarracks_A4S
Animation        UBBarracks_A4S.UBBarracks_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBBarracks_A4SN
Animation        UBBarracks_A4SN.UBBarracks_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBBarracks_A4
Animation        UBBarracks_A4.UBBarracks_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBBarracks_A4N
Animation        UBBarracks_A4N.UBBarracks_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBBarracks_A4S
Animation        UBBarracks_A4S.UBBarracks_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBBarracks_A4SN
Animation        UBBarracks_A4SN.UBBarracks_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBBarracks_A4
Animation        UBBarracks_A4.UBBarracks_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBBarracks_A4N
Animation        UBBarracks_A4N.UBBarracks_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBBarracks_A4S
Animation        UBBarracks_A4S.UBBarracks_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBBarracks_A4SN
Animation        UBBarracks_A4SN.UBBarracks_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    UBBARRACKS
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBBarracks_A6
Animation        UBBarracks_A6.UBBarracks_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
ParticleSysBone  Smoke04 BuildUpSmoke
ParticleSysBone  Smoke05 BuildUpSmoke
ParticleSysBone  Smoke06 BuildUpSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBBarracks_A6N
Animation        UBBarracks_A6N.UBBarracks_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
ParticleSysBone  Smoke04 BuildUpSmoke
ParticleSysBone  Smoke05 BuildUpSmoke
ParticleSysBone  Smoke06 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBBarracks_A6S
Animation        UBBarracks_A6S.UBBarracks_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
ParticleSysBone  Smoke05 BuildUpSnowSmoke
ParticleSysBone  Smoke06 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBBarracks_A6SN
Animation        UBBarracks_A6SN.UBBarracks_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
ParticleSysBone  Smoke05 BuildUpNightSnowSmoke
ParticleSysBone  Smoke06 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBBarracks_A6
Animation        UBBarracks_A6.UBBarracks_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBBarracks_A6N
Animation        UBBarracks_A6N.UBBarracks_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBBarracks_A6S
Animation        UBBarracks_A6S.UBBarracks_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBBarracks_A6SN
Animation        UBBarracks_A6SN.UBBarracks_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBBarracks_A6
Animation        UBBarracks_A6.UBBarracks_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBBarracks_A6N
Animation        UBBarracks_A6N.UBBarracks_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBBarracks_A6S
Animation        UBBarracks_A6S.UBBarracks_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBBarracks_A6SN
Animation        UBBarracks_A6SN.UBBarracks_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Barracks
Side              GLA
EditorSorting     STRUCTURE
BuildCost         500
BuildTime         15.0           ; in seconds
EnergyProduction  0
CommandSet        GLABarracksCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      100 100 100 100  ; Experience point value at each level

Prerequisites
;    Object  GLASupplyStash
End


; *** AUDIO Parameters ***
VoiceSelect  BarracksGLASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE FS_BARRACKS IGNORE_DOCKING_BONES
Body             StructureBody ModuleTag_04
MaxHealth          1000.0
InitialHealth      1000.0

SubdualDamageCap         3000
SubdualDamageHealRate    500
SubdualDamageHealAmount  100
End

Behavior         RebuildHoleExposeDie ModuleTag_06
HoleName       GLABarracksHole
HoleMaxHealth  500.0
End
Behavior  ProductionUpdate ModuleTag_10
; nothing
End
Behavior  DefaultProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 5.0   Y:  -0.85   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  -0.85   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_16
;-------------DESIGNED FOR SMALL MEDIUM FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  TunnelContain ModuleTag_05232
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAGenericTunnelBuildingCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
CommandSet       GLABarracksCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  43.0
GeometryMinorRadius  53.0
GeometryHeight       22.0
FactoryExitWidth     10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;GLA Arms Dealer
Object GLAArmsDealer

; *** ART Parameters ***
SelectPortrait          SUArmsDealer_L
ButtonImage             SUArmsDealer



; -----------------------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBArmsdlr
Animation        UBArmsdlr.UBArmsdlr
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBArmsdlr_D
Animation        UBArmsdlr_D.UBArmsdlr_D
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT

ConditionState     REALLYDAMAGED
Model            UBArmsdlr_E
Animation        UBArmsdlr_E.UBArmsdlr_E
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmokeFactionLarge
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE06 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
ParticleSysBone  SMOKE05 SmolderingFire
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState  SNOW
Model            UBArmsdlr_S
Animation        UBArmsdlr_S.UBArmsdlr_S
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
End
AliasConditionState  NIGHT SNOW

ConditionState     SNOW DAMAGED
Model            UBArmsdlr_SD
Animation        UBArmsdlr_SD.UBArmsdlr_SD
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingFire
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState     SNOW REALLYDAMAGED
Model            UBArmsdlr_SE
Animation        UBArmsdlr_SE.UBArmsdlr_SE
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmokeFactionLarge
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE06 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
ParticleSysBone  SMOKE05 SmolderingFire
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBArmsdlr
Animation        UBArmsdlr.UBArmsdlr
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBArmsdlr_D
Animation        UBArmsdlr_D.UBArmsdlr_D
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBArmsdlr_E
Animation        UBArmsdlr_E.UBArmsdlr_E
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmokeFactionLarge
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE06 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
ParticleSysBone  SMOKE05 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBArmsdlr_S
Animation        UBArmsdlr_S.UBArmsdlr_S
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  METALBITS01 SmolderingSmoke
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model            UBArmsdlr_SD
Animation        UBArmsdlr_SD.UBArmsdlr_SD
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model            UBArmsdlr_SE
Animation        UBArmsdlr_SE.UBArmsdlr_SE
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  SMOKESTACK SmolderingSmoke
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmokeFactionLarge
ParticleSysBone  SMOKE05 SmolderingSmoke
ParticleSysBone  SMOKE06 SmolderingSmoke
ParticleSysBone  SMOKE01 FireFactionLarge
ParticleSysBone  SMOKE02 FireFactionLarge
ParticleSysBone  SMOKE04 SmolderingFire
ParticleSysBone  SMOKE05 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Factory Doors -----------------
Draw  W3DModelDraw ModuleTag_Door01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBArmsdlr
Animation        UBArmsdlr.UBArmsdlr
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBArmsdlr_D
Animation        UBArmsdlr_D.UBArmsdlr_D
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBArmsdlr_E
Animation        UBArmsdlr_E.UBArmsdlr_E
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBArmsdlr_S
Animation        UBArmsdlr_S.UBArmsdlr_S
AnimationMode    ONCE
HideSubObject    DIRT01
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBArmsdlr
Animation        UBArmsdlr.UBArmsdlr
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBArmsdlr_D
Animation        UBArmsdlr_D.UBArmsdlr_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBArmsdlr_E
Animation        UBArmsdlr_E.UBArmsdlr_E
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBArmsdlr_S
Animation        UBArmsdlr_S.UBArmsdlr_S
AnimationMode    ONCE_BACKWARDS
HideSubObject    DIRT01
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; -----------------------------
Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model               UBArmsdlr_N
End
AliasConditionState  SNOW

ConditionState  DAMAGED
Model               UBArmsdlr_ND
End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model               UBArmsdlr_NE
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBArmsdlr_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBArmsdlr_ND
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBArmsdlr_NE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

; -----------------------------
Draw  W3DModelDraw ModuleTag_Pickbox01

DefaultConditionState
Model          UBArmsdlr_P
HideSubObject  DIRT01
End
AliasConditionState  SNOW
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBArmsdlr_P
ShowSubObject      DIRT01
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED

ConditionState       PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBArmsdlr_PS
ShowSubObject      DIRT01
End
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

; ------------ Tunnel exit Bones are here -----------------
Draw  W3DModelDraw ModuleTag_TunnelBones
DefaultConditionState
Model              UBArmsdlr_B
End
End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ArmsDealer
Side              GLA
EditorSorting     STRUCTURE

Prerequisites
Object  GLASupplyStash
End

BuildCost         2500
BuildTime         15.0           ; in seconds
EnergyProduction  0
CommandSet        GLAArmsDealerCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  WarFactoryGLASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE FS_FACTORY FS_WARFACTORY IGNORE_DOCKING_BONES

Body             StructureBody ModuleTag_04
MaxHealth          4000.0
InitialHealth      4000.0

SubdualDamageCap         3000
SubdualDamageHealRate    500
SubdualDamageHealAmount  100
End

Behavior                RebuildHoleExposeDie ModuleTag_06
HoleName         GLAArmsdealerHole
HoleMaxHealth    500.0
End

Behavior  ProductionUpdate ModuleTag_10
; nothing
End
Behavior  DefaultProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 5.0   Y:  3.6   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  3.6   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_31
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  TunnelContain ModuleTag_05232
TimeForFullHeal      5000   ;(in milliseconds)
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAGenericTunnelBuildingCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
CommandSet       GLAArmsDealerCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  58.0
GeometryMinorRadius  64.0
GeometryHeight       65.0
FactoryExitWidth     25.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object GLAAirstrip

; *** ART Parameters ***
SelectPortrait          SUAirstrip_L
ButtonImage             SUAirstrip

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               UBAirfld
Animation           UBAirfld.UBAirfld
AnimationMode       LOOP
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               UBAirfld_D
Animation           UBAirfld_D.UBAirfld_D
AnimationMode       LOOP
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               UBAirfld_D
Animation           UBAirfld_D.UBAirfld_D
AnimationMode       LOOP
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               UBAirfld_S
Animation           UBAirfld_S.UBAirfld_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBAirfld
Animation          UBAirfld.UBAirfld
AnimationMode      LOOP
ParticleSysBone    DISH GLACommandPostRadarEffect
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBAirfld_D
Animation          UBAirfld_D.UBAirfld_D
AnimationMode      LOOP
ParticleSysBone    DISH GLACommandPostRadarEffect
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBAirfld_D
Animation          UBAirfld_D.UBAirfld_D
AnimationMode      LOOP
ParticleSysBone    DISH GLACommandPostRadarEffect
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBAirfld_S
Animation          UBAirfld_S.UBAirfld_S
AnimationMode      LOOP
ParticleSysBone    DISH GLACommandPostRadarEffect
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02444562
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBAirfld_A1
Animation        UBAirfld_A1.UBAirfld_A1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBAirfld_SA1
Animation        UBAirfld_SA1.UBAirfld_SA1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBAirfld_A1
Animation        UBAirfld_A1.UBAirfld_A1
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBAirfld_SA1
Animation        UBAirfld_SA1.UBAirfld_SA1
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBAirfld_A1
Animation        UBAirfld_A1.UBAirfld_A1
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBAirfld_SA1
Animation        UBAirfld_SA1.UBAirfld_SA1
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03232
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBAirfld_A2
Animation        UBAirfld_A2.UBAirfld_A2
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBAirfld_SA2
Animation        UBAirfld_SA2.UBAirfld_SA2
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBAirfld_A2
Animation        UBAirfld_A2.UBAirfld_A2
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBAirfld_SA2
Animation        UBAirfld_SA2.UBAirfld_SA2
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBAirfld_A2
Animation        UBAirfld_A2.UBAirfld_A2
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBAirfld_SA2
Animation        UBAirfld_SA2.UBAirfld_SA2
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_BONES01

ExtraPublicBone  Runway1Parking1
ExtraPublicBone  Runway1Parking2
ExtraPublicBone  Runway1Park1Han
ExtraPublicBone  Runway1Park2Han
ExtraPublicBone  Runway1Prep1
ExtraPublicBone  Runway1Prep2
ExtraPublicBone  RunwayStart1
ExtraPublicBone  RunwayEnd1
ExtraPublicBone  HeliPark01

DefaultConditionState
Model            UBAirfld_B
End

End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBAirfld_N
Animation           UBAirfld_N.UBAirfld_N
AnimationMode       LOOP
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBAirfld_N
Animation          UBAirfld_N.UBAirfld_N
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Airstrip
Side              GLA
EditorSorting     STRUCTURE

Prerequisites
Object  GLABlackMarket
End

BuildCost         2000
BuildTime         40.0           ; in seconds

CommandSet        GLAAirstripCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  400.0

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      150 150 150 150  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            AirstripSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY FS_AIRFIELD
Body             StructureBody ModuleTag_09
MaxHealth        3000.0
InitialHealth    3000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1700
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI01
End

Behavior  ParkingPlaceBehavior ModuleTag_10
HealAmountPerSecond      10
NumRows                  2
NumCols                  1
HasRunways               Yes
ApproachHeight           50
End

Behavior  ProductionUpdate ModuleTag_11
End

Behavior  FlammableUpdate ModuleTag_17
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior             RebuildHoleExposeDie ModuleTag_081221
HoleName           GLAHoleAirstrip
HoleMaxHealth      500.0
End

;;;;;;;;;;;;;Start Airstrip Generals Powers  ;;;;;;;;;;;;;



;;;;;;;;;;;;;End Airstrip Generals Powers  ;;;;;;;;;;;;;

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_AirstripCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
DeathTypes  ALL
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        AIRCRAFT
ExtraForbiddenKindOf       UNATTACKABLE
End

Geometry             BOX
GeometryMajorRadius  66.5
GeometryMinorRadius  106.5
GeometryHeight       18.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object GLAAirstrip_CollapseObject

; *** ART Parameters ***
SelectPortrait          SUAirstrip_L
ButtonImage             SUAirstrip

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               UBAirfld
Animation           UBAirfld.UBAirfld
AnimationMode       LOOP
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               UBAirfld_D
Animation           UBAirfld_D.UBAirfld_D
AnimationMode       LOOP
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               UBAirfld_D
Animation           UBAirfld_D.UBAirfld_D
AnimationMode       LOOP
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               UBAirfld_S
Animation           UBAirfld_S.UBAirfld_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW
End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBAirfld_N
Animation           UBAirfld_N.UBAirfld_N
AnimationMode       LOOP
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBAirfld_N
Animation          UBAirfld_N.UBAirfld_N
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Airstrip
Side              GLA
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End


; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE
Body             StructureBody ModuleTag_09
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               1300
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  66.5
GeometryMinorRadius  106.5
GeometryHeight       18.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object GLAVehicleStingerTruck

; *** ART Parameters ***
SelectPortrait          SUStingerTruck_L
ButtonImage             SUStingerTruck

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVUralA
End
End

; set cost and time fields here or else they won't work
BuildCost        1200
BuildTime        18.0    ;in seconds

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
Object GLAPalace
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleStingerTruck_Var1 GLAVehicleStingerTruck_Var2 GLAVehicleStingerTruck_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
Object GLAVehicleStingerTruck_Var1

; *** ART Parameters ***
SelectPortrait          SUStingerTruck_L
ButtonImage             SUStingerTruck


Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVUralA
End
AliasConditionState  MOVING
AliasConditionState  UNPACKING
AliasConditionState  DEPLOYED
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING

ConditionState  REALLYDAMAGED
Model  UVUralA_D
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED UNPACKING
AliasConditionState  REALLYDAMAGED DEPLOYED
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  REALLYDAMAGED PACKING
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVUralA
HideSubObject  Rail01 Rail02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  UVUralA_D
HideSubObject  Rail01 Rail02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

;;;Damaged Conditions

TrackMarks  EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust             RocketBuggyDust
DirtSpray        RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Stowage01

OkToChangeModelColor  Yes

ConditionState  None
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  MOVING

ConditionState  UNPACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  DEPLOYED
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End

ConditionState  PACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Damaged Conditions

ConditionState  REALLYDAMAGED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED MOVING

ConditionState  REALLYDAMAGED UNPACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  SNOW REALLYDAMAGED UNPACKING

ConditionState  REALLYDAMAGED DEPLOYED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED

ConditionState  REALLYDAMAGED PACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  SNOW REALLYDAMAGED PACKING

;;;Snow Conditions

ConditionState  SNOW
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  SNOW MOVING

ConditionState  SNOW UNPACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  SNOW DEPLOYED
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End

ConditionState  SNOW PACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Misille Upgraded Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Misille Upgraded Damaged Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED UNPACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED UNPACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED DEPLOYED

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED PACKING

;;;Misille Upgraded Snow Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW UNPACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DEPLOYED
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW PACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

End

Draw  W3DModelDraw ModuleTag_StingerGuyBones02
ExtraPublicBone  TURBONE01
ConditionState  NONE
Model  UVStngTrck_B1
Turret  TURBONE01
WeaponFireFXBone  TERTIARY WeaponA
WeaponLaunchBone  TERTIARY MuzzleA
End
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
END

Draw  W3DModelDraw ModuleTag_StingerGuy01

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  TURBONE01

ConditionState  NONE
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCALP
AnimationMode  LOOP
Turret  UITUNF_MAINRT
End
AliasConditionState  MOVING
AliasConditionState  MOVING FIRING_C
AliasConditionState  MOVING RELOADING_C

ConditionState  UNPACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCAED
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED
Model  UITrckStng_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 35
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED ATTACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
Flags  START_FRAME_LAST
Turret  UITUNF_MAINRT
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED FIRING_B

ConditionState  DEPLOYED ATTACKING FIRING_C
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
TransitionKey  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  PACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCAED
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

End

Draw  W3DModelDraw ModuleTag_StingerGuyBones01
ExtraPublicBone  TURBONE02
ConditionState  NONE
Model  UVStngTrck_B2
Turret  TURBONE02
WeaponFireFXBone  SECONDARY WeaponB
WeaponLaunchBone  SECONDARY MuzzleB
End
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
END

Draw  W3DModelDraw ModuleTag_StingerGuy02

OkToChangeModelColor  Yes
AttachToBoneInAnotherModule  TURBONE02

ConditionState  NONE
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
Turret  UITUNF_MAINRT
End
AliasConditionState  MOVING
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B

ConditionState  UNPACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED
Model  UITrckStng_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STB 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED ATTACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATC
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  UITUNF_MAINRT
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C

ConditionState  DEPLOYED ATTACKING FIRING_B
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATD
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
TransitionKey  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  PACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

End

Draw  W3DModelDraw ModuleTag_Headlights01

DefaultConditionState
Model  UVUralA_N
End
AliasConditionState  MOVING

ConditionState  DEPLOYED
Model  NONE
End
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING
AliasConditionState  UNPACKING

End

Draw                       W3DModelDraw ModuleTag_RussiaTier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model  NVDeva_U2
End
AliasConditionState  MOVING
AliasConditionState  UNPACKING
AliasConditionState  DEPLOYED
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED UNPACKING
AliasConditionState  REALLYDAMAGED DEPLOYED
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  REALLYDAMAGED PACKING


ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  ONCE
Flags  START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

;Damaged Conditions
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  ONCE
Flags  START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

End



; ***DESIGN parameters ***
DisplayName       OBJECT:StingerTruck
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  10

WeaponSet
Conditions  None
Weapon             PRIMARY   StingerTruckDummyWeapons
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY StingerTruckMissileWeapon_Guy1
Weapon             TERTIARY  StingerTruckMissileWeapon_Guy2
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   StingerTruckDummyWeapons
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY StingerTruckSa3MissileWeapon
PreferredAgainst   SECONDARY AIRCRAFT
End

ArmorSet
Conditions       None
Armor            HeavyAntiAirArmor
DamageFX         TankDamageFX
End

BuildCost        1200
BuildTime        12.0          ;in seconds
VisionRange      300
ShroudClearingRange  300

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
Object GLAPalace
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

ExperienceValue     100 100 200 400 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAVehicleStingerTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect            StingerTruckSelect
VoiceMove              StingerTruckVoiceMove
VoiceAttack            StingerTruckVoiceAttack
VoiceAttackAir         StingerTruckVoiceAttack
SoundMoveStart         BM21GradTruckMoveStart
SoundMoveStartDamaged  BM21GradTruckMoveStart

UnitSpecificSounds
VoiceCreate      StingerTruckVoiceCreate
VoiceCrush       StingerTruckVoiceMove
VoiceEnter       StingerTruckVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER DONT_AUTO_CRUSH_INFANTRY CANNOT_RETALIATE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Russian Anti Air Missiles
Behavior  WeaponSetUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
End

;This makes sure the Ural Truck cannot stealth when upgraded with these missiles
Behavior  StatusBitsUpgrade ModuleTag_RecyclerUpgrade02
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
StatusToSet  BOOBY_TRAPPED
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  AutoHealBehavior ModuleTag_08
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  DeployStyleAIUpdate ModuleTag_04
Turret
TurretTurnRate         240
RecenterTime           3600000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed NotWhileAttacking
PackTime  2640
UnpackTime  2640
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  Yes
MoodAttackCheckRate  30
End

Locomotor  SET_NORMAL StingerTruckLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

Behavior  FireWeaponCollide ModuleTag_DeployMarkerDecal01
CollideWeapon   GLACommandTruckDeployedDecalWeapon
RequiredStatus  DEPLOYED
End

Behavior  FireWeaponUpdate ModuleTag_DeployMarkerDecal02
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

; The default explosion
Behavior  SlowDeathBehavior  ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_GLAStingerTruckDeathEffect
FX   FINAL    FX_StingerTruckExplosionOneFinal
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  CreateCrateDie ModuleTag_15
CrateData  SalvageCrateDataGLATier2
End

; A crushing defeat
Behavior  FXListDie ModuleTag_17
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_18
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior                  TransitionDamageFX ModuleTag_19
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2500 ; msec
RequiredStatus               DEPLOYED
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
MoveThresholdSpeed           3
InnateStealth                Yes
ForbiddenStatus              BOOBY_TRAPPED
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  19.0
GeometryHeight  17.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleStingerTruck_Var2 GLAVehicleStingerTruck_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVUralB
End
AliasConditionState  MOVING
AliasConditionState  UNPACKING
AliasConditionState  DEPLOYED
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING

ConditionState  REALLYDAMAGED
Model  UVUralB_D
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED UNPACKING
AliasConditionState  REALLYDAMAGED DEPLOYED
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  REALLYDAMAGED PACKING
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVUralB
HideSubObject  Rail01 Rail02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  UVUralB_D
HideSubObject  Rail01 Rail02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

;;;Damaged Conditions

TrackMarks  EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust             RocketBuggyDust
DirtSpray        RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Stowage01

OkToChangeModelColor  Yes

ConditionState  None
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  MOVING

ConditionState  UNPACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  DEPLOYED
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End

ConditionState  PACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Damaged Conditions

ConditionState  REALLYDAMAGED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED MOVING

ConditionState  REALLYDAMAGED UNPACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  SNOW REALLYDAMAGED UNPACKING

ConditionState  REALLYDAMAGED DEPLOYED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED

ConditionState  REALLYDAMAGED PACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  SNOW REALLYDAMAGED PACKING

;;;Snow Conditions

ConditionState  SNOW
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  SNOW MOVING

ConditionState  SNOW UNPACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  SNOW DEPLOYED
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End

ConditionState  SNOW PACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Misille Upgraded Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Misille Upgraded Damaged Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED UNPACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED UNPACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED DEPLOYED

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED PACKING

;;;Misille Upgraded Snow Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW UNPACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DEPLOYED
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW PACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

End

Draw  W3DModelDraw ModuleTag_StingerGuyBones02
ExtraPublicBone  TURBONE01
ConditionState  NONE
Model  UVStngTrck_B1
Turret  TURBONE01
WeaponFireFXBone  TERTIARY WeaponA
WeaponLaunchBone  TERTIARY MuzzleA
End
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
END

Draw  W3DModelDraw ModuleTag_StingerGuy01

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  TURBONE01

ConditionState  NONE
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCALP
AnimationMode  LOOP
Turret  UITUNF_MAINRT
End
AliasConditionState  MOVING
AliasConditionState  MOVING FIRING_C
AliasConditionState  MOVING RELOADING_C

ConditionState  UNPACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCAED
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED
Model  UITrckStng_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 35
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED ATTACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
Flags  START_FRAME_LAST
Turret  UITUNF_MAINRT
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED FIRING_B

ConditionState  DEPLOYED ATTACKING FIRING_C
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
TransitionKey  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  PACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCAED
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

End

Draw  W3DModelDraw ModuleTag_StingerGuyBones01
ExtraPublicBone  TURBONE02
ConditionState  NONE
Model  UVStngTrck_B2
Turret  TURBONE02
WeaponFireFXBone  SECONDARY WeaponB
WeaponLaunchBone  SECONDARY MuzzleB
End
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
END

Draw  W3DModelDraw ModuleTag_StingerGuy02

OkToChangeModelColor  Yes
AttachToBoneInAnotherModule  TURBONE02

ConditionState  NONE
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
Turret  UITUNF_MAINRT
End
AliasConditionState  MOVING
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B

ConditionState  UNPACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED
Model  UITrckStng_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STB 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED ATTACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATC
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  UITUNF_MAINRT
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C

ConditionState  DEPLOYED ATTACKING FIRING_B
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATD
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
TransitionKey  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  PACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

End

Draw  W3DModelDraw ModuleTag_Headlights01

DefaultConditionState
Model  UVUralB_N
End
AliasConditionState  MOVING

ConditionState  DEPLOYED
Model  NONE
End
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING
AliasConditionState  UNPACKING

End

Draw                       W3DModelDraw ModuleTag_RussiaTier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model  NVDeva_U2
End
AliasConditionState  MOVING
AliasConditionState  UNPACKING
AliasConditionState  DEPLOYED
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED UNPACKING
AliasConditionState  REALLYDAMAGED DEPLOYED
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  REALLYDAMAGED PACKING


ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  ONCE
Flags  START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

;Damaged Conditions
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  ONCE
Flags  START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

End

End



;------------------------------------------------------------------------------
ObjectReskin GLAVehicleStingerTruck_Var3 GLAVehicleStingerTruck_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVUralC
End
AliasConditionState  MOVING
AliasConditionState  UNPACKING
AliasConditionState  DEPLOYED
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING

ConditionState  REALLYDAMAGED
Model  UVUralC_D
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED UNPACKING
AliasConditionState  REALLYDAMAGED DEPLOYED
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  REALLYDAMAGED PACKING
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVUralC
HideSubObject  Rail01 Rail02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  UVUralC_D
HideSubObject  Rail01 Rail02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

;;;Damaged Conditions

TrackMarks  EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust             RocketBuggyDust
DirtSpray        RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Stowage01

OkToChangeModelColor  Yes

ConditionState  None
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  MOVING

ConditionState  UNPACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  DEPLOYED
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End

ConditionState  PACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Damaged Conditions

ConditionState  REALLYDAMAGED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED MOVING

ConditionState  REALLYDAMAGED UNPACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  SNOW REALLYDAMAGED UNPACKING

ConditionState  REALLYDAMAGED DEPLOYED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED

ConditionState  REALLYDAMAGED PACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  SNOW REALLYDAMAGED PACKING

;;;Snow Conditions

ConditionState  SNOW
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End
AliasConditionState  SNOW MOVING

ConditionState  SNOW UNPACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  SNOW DEPLOYED
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN
ShowSubObject  SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04
End

ConditionState  SNOW PACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04  CLOTH02 CLOTH03 CLOTH04 CLOTH05 CLOTH06 SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Misille Upgraded Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVStngTrck_A1
Animation  UVStngTrck_A1.UVStngTrck_A1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

;;;Misille Upgraded Damaged Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED UNPACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED UNPACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED DEPLOYED
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED DEPLOYED

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PACKING
Model  UVStngTrck_AD1
Animation  UVStngTrck_AD1.UVStngTrck_AD1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED PACKING

;;;Misille Upgraded Snow Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 CAMO HOUSECOLOR02 HOUSECOLOR03 POLES POLES01 GUN02 CRATES04 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW UNPACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DEPLOYED
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 SCAFOLD FENCE SCAFOLD CRATES01 STRAPS GUN CAMO POLES POLES01 HOUSECOLOR03
ShowSubObject  SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW PACKING
Model  UVStngTrck_AS1
Animation  UVStngTrck_AS1.UVStngTrck_AS1
AnimationMode  MANUAL
HideSubObject  CAMO POLES POLES01 CLOTH01 CLOTH03 CLOTH04 CLOTH05 CLOTH06 CLOTH07 CLOTH08 HOUSECOLOR03
ShowSubObject  SCAFOLD FENCE SANDBAGS01 CRATES03 HOUSECOLOR02 GUN02 CRATES04SCAFOLD FENCE CRATES01 STRAPS GUN
End

End

Draw  W3DModelDraw ModuleTag_StingerGuyBones02
ExtraPublicBone  TURBONE01
ConditionState  NONE
Model  UVStngTrck_B1
Turret  TURBONE01
WeaponFireFXBone  TERTIARY WeaponA
WeaponLaunchBone  TERTIARY MuzzleA
End
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
END

Draw  W3DModelDraw ModuleTag_StingerGuy01

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  TURBONE01

ConditionState  NONE
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCALP
AnimationMode  LOOP
Turret  UITUNF_MAINRT
End
AliasConditionState  MOVING
AliasConditionState  MOVING FIRING_C
AliasConditionState  MOVING RELOADING_C

ConditionState  UNPACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCAED
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED
Model  UITrckStng_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 35
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED ATTACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
Flags  START_FRAME_LAST
Turret  UITUNF_MAINRT
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED FIRING_B

ConditionState  DEPLOYED ATTACKING FIRING_C
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
TransitionKey  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  PACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCAED
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

End

Draw  W3DModelDraw ModuleTag_StingerGuyBones01
ExtraPublicBone  TURBONE02
ConditionState  NONE
Model  UVStngTrck_B2
Turret  TURBONE02
WeaponFireFXBone  SECONDARY WeaponB
WeaponLaunchBone  SECONDARY MuzzleB
End
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
END

Draw  W3DModelDraw ModuleTag_StingerGuy02

OkToChangeModelColor  Yes
AttachToBoneInAnotherModule  TURBONE02

ConditionState  NONE
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
Turret  UITUNF_MAINRT
End
AliasConditionState  MOVING
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B

ConditionState  UNPACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED
Model  UITrckStng_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STB 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  DEPLOYED ATTACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATC
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  UITUNF_MAINRT
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C

ConditionState  DEPLOYED ATTACKING FIRING_B
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_ATD
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
TransitionKey  TRANS_START_FIRING
Turret  UITUNF_MAINRT
End

ConditionState  PACKING
Model  UITrckStng_SKN
Animation  UISmsd_SKL.UISmsd_TCBUP
AnimationMode  MANUAL
Turret  UITUNF_MAINRT
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED FIRING_C
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PACKING

End

Draw  W3DModelDraw ModuleTag_Headlights01

DefaultConditionState
Model  UVUralC_N
End
AliasConditionState  MOVING

ConditionState  DEPLOYED
Model  NONE
End
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING
AliasConditionState  UNPACKING

End

Draw                       W3DModelDraw ModuleTag_RussiaTier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model  NVDeva_U2
End
AliasConditionState  MOVING
AliasConditionState  UNPACKING
AliasConditionState  DEPLOYED
AliasConditionState  DEPLOYED MOVING
AliasConditionState  PACKING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED UNPACKING
AliasConditionState  REALLYDAMAGED DEPLOYED
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  REALLYDAMAGED PACKING


ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  ONCE
Flags  START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVSa3
Animation  UVSa3.UVSa3
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

;Damaged Conditions
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE UNPACKING
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE DEPLOYED
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  ONCE
Flags  START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE DEPLOYED MOVING

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE PACKING
Model  UVSa3_D
Animation  UVSa3_D.UVSa3_D
AnimationMode  MANUAL
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

End

End
;------------------------------------------------------------------------------
Object GLAVehicleToxinTruck

; *** ART Parameters ***
SelectPortrait          SUToxinTractor_L
ButtonImage             SUToxinTractor

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVTxnTrtr
End
End

; set cost and time fields here or else they won't work
BuildCost            800
BuildTime            7.5

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleToxinTruck_Var1 GLAVehicleToxinTruck_Var2 GLAVehicleToxinTruck_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
;Also called Toxin Tractor && ToxinTractor
Object GLAVehicleToxinTruck_Var1

; *** ART Parameters ***
SelectPortrait          SUToxinTractor_L
ButtonImage             SUToxinTractor

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  TERTIARY

ConditionState  NONE
Model  UVTxnTrtr
Turret  TURRETA
TurretPitch  TURRETELA
ShowSubObject  NONE
HideSubObject  TURRETB TURRETC TOXTANKSB TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTxnTrtr
Turret  TURRETB
TurretPitch  TURRETELB
ShowSubObject  NONE
HideSubObject  TURRETA TURRETC TOXTANKSA TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTxnTrtr
Turret  TURRETC
TurretPitch  TURRETELC
ShowSubObject  NONE
HideSubObject  TURRETB TURRETA TOXTANKSA TOXTANKSB
WeaponFireFXBone  PRIMARY WeaponC
WeaponLaunchBone  PRIMARY WeaponC
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  REALLYDAMAGED
Model  UVTxnTrtr_D
Turret  TURRETA
TurretPitch  TURRETELA
ShowSubObject  NONE
HideSubObject  TURRETB TURRETC TOXTANKSB TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVTxnTrtr_D
Turret  TURRETB
TurretPitch  TURRETELB
ShowSubObject  NONE
HideSubObject  TURRETA TURRETC TOXTANKSA TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVTxnTrtr_D
Turret  TURRETC
TurretPitch  TURRETELC
ShowSubObject  NONE
HideSubObject  TURRETB TURRETA TOXTANKSA TOXTANKSB
WeaponFireFXBone  PRIMARY WeaponC
WeaponLaunchBone  PRIMARY WeaponC
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

TrackMarks  EXTireTrack.tga
LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04

TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This vehicle doesn't powerslide.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

End

Draw  W3DModelDraw ModuleTag_EngineSmoke01

ConditionState       NONE
Model              UVTxnTrtr_B
ParticleSysBone    EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model              UVTxnTrtr_B
ParticleSysBone    EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ToxinTruck
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY     ToxinTruckGun

Weapon             SECONDARY   ToxinTruckSprayer
AutoChooseSources  SECONDARY   NONE ;Special attack only
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY     ToxinTruckGunUpgraded

Weapon             SECONDARY   ToxinTruckSprayerUpgraded
AutoChooseSources  SECONDARY   NONE ;Special attack only
End

WeaponSet
Conditions         CRATEUPGRADE_ONE
Weapon             PRIMARY     ToxinTruckGunPlusOne

Weapon             SECONDARY   ToxinTruckSprayerPlusOne
AutoChooseSources  SECONDARY   NONE ;Special attack only
End

WeaponSet
Conditions         CRATEUPGRADE_ONE PLAYER_UPGRADE
Weapon             PRIMARY     ToxinTruckGunUpgradedPlusOne

Weapon             SECONDARY   ToxinTruckSprayerUpgradedPlusOne
AutoChooseSources  SECONDARY   NONE ;Special attack only
End

WeaponSet
Conditions         CRATEUPGRADE_TWO
Weapon             PRIMARY     ToxinTruckGunPlusTwo

Weapon             SECONDARY   ToxinTruckSprayerPlusTwo
AutoChooseSources  SECONDARY   NONE ;Special attack only
End

WeaponSet
Conditions         CRATEUPGRADE_TWO PLAYER_UPGRADE
Weapon             PRIMARY     ToxinTruckGunUpgradedPlusTwo

Weapon             SECONDARY   ToxinTruckSprayerUpgradedPlusTwo
AutoChooseSources  SECONDARY   NONE ;Special attack only
End

ArmorSet
Conditions         None
Armor              ToxinTruckArmor
DamageFX           TruckDamageFX
End

BuildCost            800
BuildTime            7.5          ;in seconds
VisionRange          150
ShroudClearingRange  200

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 150 300  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAVehicleToxinTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect          ToxinTractorVoiceSelect
VoiceMove            ToxinTractorVoiceMove
VoiceGuard           ToxinTractorVoiceMove
VoiceAttack          ToxinTractorVoiceAttack
SoundMoveStart       ToxinTractorMoveStart
SoundMoveStartDamaged  ToxinTractorMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          ToxinTractorVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       TurretMoveLoop
TruckLandingSound     NoSound
TruckPowerslideSound  NoSound
VoiceCrush       ToxinTractorVoiceCrush
VoiceEnter            ToxinTractorVoiceMove
VoicePoisonLocation  ToxinTractorVoiceAttackContam

End

; *** ENGINEERING Parameters ***
RadarPriority          UNIT
KindOf                 PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth            260.0
InitialHealth        260.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate             180
TurretPitchRate            180
AllowsPitch                Yes
MinPhysicalPitch           -20 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
GroundUnitPitch            10
TurretFireAngleSweep       PRIMARY 8
TurretSweepSpeedModifier   PRIMARY 0.5    ; Sweep slower than you turn
TurretFireAngleSweep       TERTIARY 8
TurretSweepSpeedModifier   TERTIARY 0.5    ; Sweep slower than you turn
ControlledWeaponSlots      PRIMARY TERTIARY
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  30
End
Locomotor              SET_NORMAL ToxinTruckLocomotor

Behavior               PhysicsBehavior ModuleTag_04
Mass                 50.0
End

Behavior                     SlowDeathBehavior  ModuleTag_05
ExemptStatus               DEPLOYED
DeathTypes                 ALL -CRUSHED -SPLATTED
ProbabilityModifier        5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay           0
DestructionDelayVariance   200
FX                         INITIAL FX_ToxinTractorDie
OCL                        INITIAL OCL_ToxinTractorDeathEffect
FX                         FINAL FX_ToxinTruckExplosionOneFinal
End

Behavior                     SlowDeathBehavior  ModuleTag_0515123
RequiredStatus             DEPLOYED
DeathTypes                 ALL -CRUSHED -SPLATTED
ProbabilityModifier        5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay           0
DestructionDelayVariance   200
FX                         INITIAL FX_ToxinTractorDie
OCL                        INITIAL OCL_ToxinTractorDeathEffect
FX                         FINAL FX_ToxinTruckExplosionOneFinalUpgraded
End

Behavior                     InstantDeathBehavior  ModuleTag_06
DeathTypes                 NONE +CRUSHED +SPLATTED
FX                         FX_CarCrush
OCL                        OCL_CrusaderTank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_07
CrateData    SalvageCrateDataGLATier1
End

Behavior  WeaponSetUpgrade ModuleTag_08
TriggeredBy    Upgrade_GLAAnthraxBeta
End

Behavior                           TransitionDamageFX ModuleTag_11
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1           Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  AutoHealBehavior ModuleTag_12
HealingAmount    2
HealingDelay     1000 ; msec
TriggeredBy      Upgrade_GLAJunkRepair
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration           5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount       3       ; taking this much damage...
AflameDamageDelay        500       ; this often.
End

Behavior  FireOCLAfterWeaponCooldownUpdate ModuleTag_13
WeaponSlot             SECONDARY
ConflictsWith          Upgrade_GLAAnthraxBeta
OCL                    OCL_PoisonFieldMedium
MinShotsToCreateOCL    2
OCLLifetimePerSecond   10000
OCLLifetimeMaxCap      180000
End
Behavior  FireOCLAfterWeaponCooldownUpdate ModuleTag_14
WeaponSlot             SECONDARY
TriggeredBy            Upgrade_GLAAnthraxBeta
OCL                    OCL_PoisonFieldUpgradedMedium
MinShotsToCreateOCL    2
OCLLifetimePerSecond   10000
OCLLifetimeMaxCap      180000
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_15    ;These two make the right damage field at death
DeathWeapon    ToxinShellWeapon
StartsActive   Yes
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_16
DeathWeapon    ToxinShellWeaponUpgraded
StartsActive   No
TriggeredBy  Upgrade_GLAAnthraxBeta
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
CommandSet  GLAVehicleToxinTruckCommandSetUpgraded
TriggeredBy   Upgrade_GLAAnthraxBeta
End

Behavior  StatusBitsUpgrade ModuleTag_StatusUpdate01
TriggeredBy    Upgrade_GLAAnthraxBeta
StatusToSet    DEPLOYED
End

;  Behavior  ModelConditionUpgrade ModuleTag_18
;    ConditionFlag  USER_1
;    TriggeredBy  Upgrade_GLAGammaVirus
;  End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  13.0
GeometryMinorRadius  9.0
GeometryHeight  10.0   ; set to make the projectile stream look right
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleToxinTruck_Var2 GLAVehicleToxinTruck_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  TERTIARY

ConditionState  NONE
Model  UVTxnTrtrB
Turret  TURRETA
TurretPitch  TURRETELA
ShowSubObject  NONE
HideSubObject  TURRETB TURRETC TOXTANKSB TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTxnTrtrB
Turret  TURRETB
TurretPitch  TURRETELB
ShowSubObject  NONE
HideSubObject  TURRETA TURRETC TOXTANKSA TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTxnTrtrB
Turret  TURRETC
TurretPitch  TURRETELC
ShowSubObject  NONE
HideSubObject  TURRETB TURRETA TOXTANKSA TOXTANKSB
WeaponFireFXBone  PRIMARY WeaponC
WeaponLaunchBone  PRIMARY WeaponC
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  REALLYDAMAGED
Model  UVTxnTrtrB_D
Turret  TURRETA
TurretPitch  TURRETELA
ShowSubObject  NONE
HideSubObject  TURRETB TURRETC TOXTANKSB TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVTxnTrtrB_D
Turret  TURRETB
TurretPitch  TURRETELB
ShowSubObject  NONE
HideSubObject  TURRETA TURRETC TOXTANKSA TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVTxnTrtrB_D
Turret  TURRETC
TurretPitch  TURRETELC
ShowSubObject  NONE
HideSubObject  TURRETB TURRETA TOXTANKSA TOXTANKSB
WeaponFireFXBone  PRIMARY WeaponC
WeaponLaunchBone  PRIMARY WeaponC
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

TrackMarks  EXTireTrack.tga
LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04

TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This vehicle doesn't powerslide.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

End

Draw  W3DModelDraw ModuleTag_EngineSmoke01

ConditionState       NONE
Model              UVTxnTrtrB_B
ParticleSysBone    EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone    EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model              UVTxnTrtrB_B
ParticleSysBone    EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone    EXHAUST02 GLATankEngineSmokeHeavy
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleToxinTruck_Var3 GLAVehicleToxinTruck_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  TERTIARY

ConditionState  NONE
Model  UVTxnTrtrC
Turret  TURRETA
TurretPitch  TURRETELA
ShowSubObject  NONE
HideSubObject  TURRETB TURRETC TOXTANKSB TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTxnTrtrC
Turret  TURRETB
TurretPitch  TURRETELB
ShowSubObject  NONE
HideSubObject  TURRETA TURRETC TOXTANKSA TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTxnTrtrC
Turret  TURRETC
TurretPitch  TURRETELC
ShowSubObject  NONE
HideSubObject  TURRETB TURRETA TOXTANKSA TOXTANKSB
WeaponFireFXBone  PRIMARY WeaponC
WeaponLaunchBone  PRIMARY WeaponC
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End

ConditionState  REALLYDAMAGED
Model  UVTxnTrtrC_D
Turret  TURRETA
TurretPitch  TURRETELA
ShowSubObject  NONE
HideSubObject  TURRETB TURRETC TOXTANKSB TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVTxnTrtrC_D
Turret  TURRETB
TurretPitch  TURRETELB
ShowSubObject  NONE
HideSubObject  TURRETA TURRETC TOXTANKSA TOXTANKSC
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVTxnTrtrC_D
Turret  TURRETC
TurretPitch  TURRETELC
ShowSubObject  NONE
HideSubObject  TURRETB TURRETA TOXTANKSA TOXTANKSB
WeaponFireFXBone  PRIMARY WeaponC
WeaponLaunchBone  PRIMARY WeaponC
WeaponFireFXBone  SECONDARY Spigot
WeaponLaunchBone  SECONDARY Spigot
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

TrackMarks  EXTireTrack.tga
LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04

TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This vehicle doesn't powerslide.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

End

Draw  W3DModelDraw ModuleTag_EngineSmoke01

ConditionState       NONE
Model              UVTxnTrtrC_B
ParticleSysBone    EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone    EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model              UVTxnTrtrC_B
ParticleSysBone    EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone    EXHAUST02 GLATankEngineSmokeHeavy
End

End

End
;------------------------------------------------------------------------------
; this unit is never really "built"; building one triggers the random building of
; one of the other chassis. If you want a *specific* chassis, choose it explicitly;
; if you want a chassis at random, specify this.
Object GLAVehicleTechnical

; *** ART Parameters ***
SelectPortrait          SUTechnical_L
ButtonImage             SUTechnical

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
; give it a model so it'll show up in WB
Model  UVTechA
End
End

; set cost and time fields here or else they won't work
BuildCost        500
BuildTime        8.0          ;in seconds

Prerequisites
Object GLAArmsDealer
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicle
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleTechnicalChassisOne GLAVehicleTechnicalChassisTwo GLAVehicleTechnicalChassisThree GLAVehicleTechnicalChassisFour GLAVehicleTechnicalChassisFive GLAVehicleTechnicalChassisSix GLAVehicleTechnicalChassisSeven

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE TRANSPORT

End

;------------------------------------------------------------------------------
Object GLAVehicleTechnicalChassisOne

; *** ART Parameters ***
SelectPortrait          SUTechnical_L
ButtonImage             SUTechnical

Draw  W3DTruckDraw ModuleTag_01

ExtraPublicBone  Dum_Turret

ConditionState   NONE
Model          UVTechA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   MOVING
Model          UVTechA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   REALLYDAMAGED
Model          UVTechA_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   REALLYDAMAGED MOVING
Model          UVTechA_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   RUBBLE
Model          UVTechA_D1
End

OkToChangeModelColor         Yes
TrackMarks                   EXTireTrack.tga
Dust                         TechnicalDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2        ; this * speed  rotation.
PowerslideRotationAddition   2.5    ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Bones02

ConditionState  NONE
Model  UVTechA_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTechA_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTechA_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponC
End

End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  Dum_Turret

; ------------------ basic technical ------------------------
DefaultConditionState
Model              UITech_SKN_A
IdleAnimation      UITech_SKL.UITech_STA 0 6
IdleAnimation      UITech_SKL.UITech_IDA
IdleAnimation      UITech_SKL.UITech_IDB
AnimationMode      ONCE
Turret             Dum-TurManMVR
TurretArtAngle     180
WeaponFireFXBone   PRIMARY   MUZZLE01
WeaponMuzzleFlash  PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_20CAL
End

ConditionState  MOVING
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
AnimationMode      ONCE
TransitionKey      TRANS_MOVING_20CAL
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState  TURRET_ROTATE
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  TURRET_ROTATE ATTACKING
AliasConditionState  TURRET_ROTATE MOVING
AliasConditionState  TURRET_ROTATE MOVING ATTACKING

ConditionState  ATTACKING
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_B
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_B
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_C
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  TRANS_MOVING_RPG
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_C
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_RPG
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              UITech_SKN_D
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model              UITech_SKN_D
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_E
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_E
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_F
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_F
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

;Makes sure we don't display a gunner when we get destroyed
ConditionState  RUBBLE
Model              NONE
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE TURRET_ROTATE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARB VARC VARD VARE VARF VARG
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  USER_1
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End

End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARB VARC VARD VARE VARF VARG
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVTechBmb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVTechBmb_D
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:Technical
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   4                 ;how many "slots" we take in a transport (0 == not transportable)

;Normal
WeaponSet
Conditions  None
Weapon  PRIMARY TechnicalMachineGunWeapon
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  CRATEUPGRADE_ONE
Weapon  PRIMARY TechnicalCannonWeapon
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  CRATEUPGRADE_TWO
Weapon  PRIMARY TechnicalRPGWeapon
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End

;Canister Gun
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY TechnicalCanisterGunWeapon
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_ONE
Weapon  PRIMARY TechnicalCanisterGunWeaponUpgradeOne
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_TWO
Weapon  PRIMARY TechnicalCanisterGunWeaponUpgradeTwo
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TruckDamageFX
End

BuildCost             500
BuildTime             8.0          ;in seconds

VisionRange            250
ShroudClearingRange    275

Prerequisites
Object GLAArmsDealer
End

ExperienceValue          30 30 50  100   ;Experience point value at each level
ExperienceRequired       0  60 120 240   ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAVehicleTechnicalCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TechnicalVoiceSelect
VoiceMove  TechnicalVoiceMove
VoiceGuard  TechnicalVoiceMove
VoiceAttack  TechnicalVoiceAttack
SoundMoveStart  TechnicalMoveStart
SoundMoveStartDamaged  TechnicalMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           TechnicalVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
TruckLandingSound  RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceSalvage  TechnicalVoiceSalvage
VoiceCrush       TechnicalVoiceCrush
VoiceUnload      TechnicalVoiceUnload
VoiceEnter  TechnicalVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_04
MaxHealth        180
InitialHealth    180

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  360
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_05
Turret
TurretTurnRate  120       ; turn rate, in degrees per sec
NaturalTurretAngle  0
MinIdleScanAngle  30      ; in degrees off the natural turret angle
MaxIdleScanAngle  60      ; in degrees off the natural turret angle
MinIdleScanInterval  5000 ; in milliseconds
MaxIdleScanInterval  10000 ; in milliseconds
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         33
End
Locomotor  SET_NORMAL TechnicalLocomotor
Locomotor  SET_NORMAL_UPGRADED TechnicalUpgradedLocomotor

Behavior  PhysicsBehavior ModuleTag_06
Mass  40.0
End
Behavior  AutoHealBehavior ModuleTag_07
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;ECA Canister Guns
Behavior  WeaponSetUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

;China Nuclear Engine
Behavior  ModelConditionUpgrade ModuleTag_RecyclerUpgrade02
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  LocomotorSetUpgrade ModuleTag_RecyclerUpgrade03
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade04
DeathWeapon     NuclearTankDeathWeapon
RequiredStatus  STATUS_RIDER7
StartsActive    No
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
ConflictsWith   Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_RecyclerUpgrade05
StatusToSet    STATUS_RIDER7
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

;GLA Suicide Packs
Behavior  ModelConditionUpgrade ModuleTag_RecyclerUpgrade06
ConditionFlag  USER_2
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade07
DeathWeapon     RecycleSuicidePackExplosionWeapon
RequiredStatus  STATUS_RIDER8
StartsActive    No
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith   Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_RecyclerUpgrade08
CommandSet     GLAVehicleTechnicalUpgradedCommandSet
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_RecyclerUpgrade09
StatusToSet    STATUS_RIDER8
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  FlammableUpdate ModuleTag_09
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_TechnicalJeep_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_14
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  SlowDeathBehavior ModuleTag_15
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_TechnicalAirDeathStart
FX  INITIAL FX_TechnicalAirDeathGroundPart
OCL  FINAL OCL_RocketBuggyAirDeath
FX  FINAL FX_RocketBuggyAirDeathAirPart    ; This happens in the air
End

Behavior  TransportContain ModuleTag_16
Slots  5
AllowInsideKindOf  INFANTRY
DamagePercentToUnits  10%
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  WeaponBonusUpgrade ModuleTag_17 ; Not a full weapon set switch, just a number tweak reflected in a weapon.
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicle
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  9.0
GeometryHeight  7.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleTechnicalChassisTwo GLAVehicleTechnicalChassisOne

; *** ART Parameters ***
Draw  W3DTruckDraw ModuleTag_01

ExtraPublicBone  Dum_Turret

ConditionState   NONE
Model          UVTechB
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   MOVING
Model          UVTechB
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   REALLYDAMAGED
Model          UVTechB_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   REALLYDAMAGED MOVING
Model          UVTechB_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   RUBBLE
Model          UVTechB_D1
End

OkToChangeModelColor  Yes
TrackMarks  EXTireTrack.tga
Dust  TechnicalDust

;DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Bones02

ConditionState  NONE
Model  UVTechB_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTechB_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTechB_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponC
End

End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  Dum_Turret

; ------------------ basic technical ------------------------
DefaultConditionState
Model              UITech_SKN_A
IdleAnimation      UITech_SKL.UITech_STA 0 6
IdleAnimation      UITech_SKL.UITech_IDA
IdleAnimation      UITech_SKL.UITech_IDB
AnimationMode      ONCE
Turret             Dum-TurManMVR
TurretArtAngle     180
WeaponFireFXBone   PRIMARY   MUZZLE01
WeaponMuzzleFlash  PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_20CAL
End

ConditionState  MOVING
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
AnimationMode      ONCE
TransitionKey      TRANS_MOVING_20CAL
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState  TURRET_ROTATE
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  TURRET_ROTATE ATTACKING
AliasConditionState  TURRET_ROTATE MOVING
AliasConditionState  TURRET_ROTATE MOVING ATTACKING

ConditionState  ATTACKING
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_B
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_B
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_C
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  TRANS_MOVING_RPG
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_C
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_RPG
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              UITech_SKN_D
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model              UITech_SKN_D
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_E
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_E
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_F
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_F
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

;Makes sure we don't display a gunner when we get destroyed
ConditionState  RUBBLE
Model              NONE
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE TURRET_ROTATE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARC VARD VARE VARF VARG
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  USER_1
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME05 FlameTowerBurnerFire
ParticleSysBone  FLAME06 FlameTowerBurnerFire
ParticleSysBone  FLAME07 FlameTowerBurnerFire
ParticleSysBone  FLAME08 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME05 FlameTowerBurnerFire
ParticleSysBone  FLAME06 FlameTowerBurnerFire
ParticleSysBone  FLAME07 FlameTowerBurnerFire
ParticleSysBone  FLAME08 FlameTowerBurnerFire
End

End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARC VARD VARE VARF VARG
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVTechBmb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVTechBmb_D
End

End

Geometry  BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.0
GeometryHeight  7.5
GeometryIsSmall  Yes


End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleTechnicalChassisThree GLAVehicleTechnicalChassisOne

; *** ART Parameters ***
Draw  W3DTruckDraw ModuleTag_01

ExtraPublicBone  Dum_Turret

ConditionState   NONE
Model  UVTechC
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   MOVING
Model          UVTechC
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVTechC_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   REALLYDAMAGED MOVING
Model          UVTechC_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  RUBBLE
Model  UVTechC_D1
End

OkToChangeModelColor  Yes
TrackMarks  EXTireTrack.tga
Dust  TechnicalDust

;DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Bones02

ConditionState  NONE
Model  UVTechC_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTechC_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTechC_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponC
End

End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  Dum_Turret

; ------------------ basic technical ------------------------
DefaultConditionState
Model              UITech_SKN_A
IdleAnimation      UITech_SKL.UITech_STA 0 6
IdleAnimation      UITech_SKL.UITech_IDA
IdleAnimation      UITech_SKL.UITech_IDB
AnimationMode      ONCE
Turret             Dum-TurManMVR
TurretArtAngle     180
WeaponFireFXBone   PRIMARY   MUZZLE01
WeaponMuzzleFlash  PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_20CAL
End

ConditionState  MOVING
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
AnimationMode      ONCE
TransitionKey      TRANS_MOVING_20CAL
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState  TURRET_ROTATE
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  TURRET_ROTATE ATTACKING
AliasConditionState  TURRET_ROTATE MOVING
AliasConditionState  TURRET_ROTATE MOVING ATTACKING

ConditionState  ATTACKING
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_B
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_B
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_C
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  TRANS_MOVING_RPG
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_C
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_RPG
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              UITech_SKN_D
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model              UITech_SKN_D
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_E
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_E
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_F
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_F
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

;Makes sure we don't display a gunner when we get destroyed
ConditionState  RUBBLE
Model              NONE
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE TURRET_ROTATE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARD VARE VARF VARG
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  USER_1
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME09 FlameTowerBurnerFire
ParticleSysBone  FLAME10 FlameTowerBurnerFire
ParticleSysBone  FLAME11 FlameTowerBurnerFire
ParticleSysBone  FLAME12 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME09 FlameTowerBurnerFire
ParticleSysBone  FLAME10 FlameTowerBurnerFire
ParticleSysBone  FLAME11 FlameTowerBurnerFire
ParticleSysBone  FLAME12 FlameTowerBurnerFire
End

End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARD VARE VARF VARG
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVTechBmb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVTechBmb_D
End

End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  9.0
GeometryHeight  9.5
GeometryIsSmall  Yes


End


;------------------------------------------------------------------------------
ObjectReskin GLAVehicleTechnicalChassisFour GLAVehicleTechnicalChassisOne

; *** ART Parameters ***
Draw  W3DTruckDraw ModuleTag_01

ExtraPublicBone  Dum_Turret

ConditionState   NONE
Model  UVTechD
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   MOVING
Model          UVTechD
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVTechD_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   REALLYDAMAGED MOVING
Model          UVTechD_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  RUBBLE
Model  UVTechD_D1
End

OkToChangeModelColor  Yes
TrackMarks  EXTireTrack.tga
Dust  TechnicalDust

;DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Bones02

ConditionState  NONE
Model  UVTechD_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTechD_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTechD_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponC
End

End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  Dum_Turret

; ------------------ basic technical ------------------------
DefaultConditionState
Model              UITech_SKN_A
IdleAnimation      UITech_SKL.UITech_STA 0 6
IdleAnimation      UITech_SKL.UITech_IDA
IdleAnimation      UITech_SKL.UITech_IDB
AnimationMode      ONCE
Turret             Dum-TurManMVR
TurretArtAngle     180
WeaponFireFXBone   PRIMARY   MUZZLE01
WeaponMuzzleFlash  PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_20CAL
End

ConditionState  MOVING
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
AnimationMode      ONCE
TransitionKey      TRANS_MOVING_20CAL
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState  TURRET_ROTATE
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  TURRET_ROTATE ATTACKING
AliasConditionState  TURRET_ROTATE MOVING
AliasConditionState  TURRET_ROTATE MOVING ATTACKING

ConditionState  ATTACKING
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_B
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_B
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_C
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  TRANS_MOVING_RPG
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_C
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_RPG
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              UITech_SKN_D
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model              UITech_SKN_D
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_E
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_E
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_F
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_F
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

;Makes sure we don't display a gunner when we get destroyed
ConditionState  RUBBLE
Model              NONE
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE TURRET_ROTATE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARE VARF VARG
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  USER_1
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME13 FlameTowerBurnerFire
ParticleSysBone  FLAME14 FlameTowerBurnerFire
ParticleSysBone  FLAME15 FlameTowerBurnerFire
ParticleSysBone  FLAME16 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME13 FlameTowerBurnerFire
ParticleSysBone  FLAME14 FlameTowerBurnerFire
ParticleSysBone  FLAME15 FlameTowerBurnerFire
ParticleSysBone  FLAME16 FlameTowerBurnerFire
End

End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARE VARF VARG
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVTechBmb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVTechBmb_D
End

End

Geometry  BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.0
GeometryHeight  7.5
GeometryIsSmall  Yes


End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleTechnicalChassisFive GLAVehicleTechnicalChassisOne

; *** ART Parameters ***
Draw  W3DTruckDraw ModuleTag_01

ExtraPublicBone  Dum_Turret

ConditionState  NONE
Model  UVTechE
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   MOVING
Model          UVTechE
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVTechE_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   REALLYDAMAGED MOVING
Model          UVTechE_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  RUBBLE
Model  UVTechE_D1
End

OkToChangeModelColor  Yes
TrackMarks  EXTireTrack.tga
Dust  TechnicalDust

;DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Bones02

ConditionState  NONE
Model  UVTechE_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTechE_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTechE_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponC
End

End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  Dum_Turret

; ------------------ basic technical ------------------------
DefaultConditionState
Model              UITech_SKN_A
IdleAnimation      UITech_SKL.UITech_STA 0 6
IdleAnimation      UITech_SKL.UITech_IDA
IdleAnimation      UITech_SKL.UITech_IDB
AnimationMode      ONCE
Turret             Dum-TurManMVR
TurretArtAngle     180
WeaponFireFXBone   PRIMARY   MUZZLE01
WeaponMuzzleFlash  PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_20CAL
End

ConditionState  MOVING
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
AnimationMode      ONCE
TransitionKey      TRANS_MOVING_20CAL
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState  TURRET_ROTATE
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  TURRET_ROTATE ATTACKING
AliasConditionState  TURRET_ROTATE MOVING
AliasConditionState  TURRET_ROTATE MOVING ATTACKING

ConditionState  ATTACKING
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_B
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_B
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_C
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  TRANS_MOVING_RPG
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_C
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_RPG
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              UITech_SKN_D
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model              UITech_SKN_D
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_E
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_E
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_F
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_F
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

;Makes sure we don't display a gunner when we get destroyed
ConditionState  RUBBLE
Model              NONE
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE TURRET_ROTATE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARD VARF VARG
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  USER_1
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME17 FlameTowerBurnerFire
ParticleSysBone  FLAME18 FlameTowerBurnerFire
ParticleSysBone  FLAME19 FlameTowerBurnerFire
ParticleSysBone  FLAME20 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME17 FlameTowerBurnerFire
ParticleSysBone  FLAME18 FlameTowerBurnerFire
ParticleSysBone  FLAME19 FlameTowerBurnerFire
ParticleSysBone  FLAME20 FlameTowerBurnerFire
End

End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARD VARF VARG
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVTechBmb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVTechBmb_D
End

End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  9.0
GeometryHeight  9.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleTechnicalChassisSix GLAVehicleTechnicalChassisOne

Draw  W3DTruckDraw ModuleTag_01

ExtraPublicBone  Dum_Turret

ConditionState   NONE
Model          UVTechF
Animation      UVTechF.UVTechF
AnimationMode  ONCE
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   MOVING
Model          UVTechF
Animation      UVTechF.UVTechF
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   REALLYDAMAGED
Model          UVTechF_D
Animation      UVTechF_D.UVTechF_D
AnimationMode  ONCE
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   REALLYDAMAGED MOVING
Model          UVTechF_D
Animation      UVTechF_D.UVTechF_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   RUBBLE
Model          UVTechF_D1
End

OkToChangeModelColor         Yes
TrackMarks                   EXTireTrack.tga
Dust                         TechnicalDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2        ; this * speed  rotation.
PowerslideRotationAddition   2.5    ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Bones02

ConditionState  NONE
Model  UVTechF_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTechF_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTechF_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponC
End

End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  Dum_Turret

; ------------------ basic technical ------------------------
DefaultConditionState
Model              UITech_SKN_A
IdleAnimation      UITech_SKL.UITech_STA 0 6
IdleAnimation      UITech_SKL.UITech_IDA
IdleAnimation      UITech_SKL.UITech_IDB
AnimationMode      ONCE
Turret             Dum-TurManMVR
TurretArtAngle     180
WeaponFireFXBone   PRIMARY   MUZZLE01
WeaponMuzzleFlash  PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_20CAL
End

ConditionState  MOVING
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
AnimationMode      ONCE
TransitionKey      TRANS_MOVING_20CAL
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState  TURRET_ROTATE
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  TURRET_ROTATE ATTACKING
AliasConditionState  TURRET_ROTATE MOVING
AliasConditionState  TURRET_ROTATE MOVING ATTACKING

ConditionState  ATTACKING
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_B
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_B
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_C
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  TRANS_MOVING_RPG
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_C
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_RPG
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              UITech_SKN_D
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model              UITech_SKN_D
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_E
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_E
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_F
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_F
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

;Makes sure we don't display a gunner when we get destroyed
ConditionState  RUBBLE
Model              NONE
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE TURRET_ROTATE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARD VARE VARG
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  USER_1
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME21 FlameTowerBurnerFire
ParticleSysBone  FLAME22 FlameTowerBurnerFire
ParticleSysBone  FLAME23 FlameTowerBurnerFire
ParticleSysBone  FLAME24 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME21 FlameTowerBurnerFire
ParticleSysBone  FLAME22 FlameTowerBurnerFire
ParticleSysBone  FLAME23 FlameTowerBurnerFire
ParticleSysBone  FLAME24 FlameTowerBurnerFire
End

End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARD VARE VARG
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVTechBmb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVTechBmb_D
End

End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  9.0
GeometryHeight  7.5
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleTechnicalChassisSeven GLAVehicleTechnicalChassisOne

Draw  W3DTruckDraw ModuleTag_01

ExtraPublicBone  Dum_Turret

ConditionState   NONE
Model          UVTechG
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   MOVING
Model          UVTechG
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   REALLYDAMAGED
Model          UVTechG_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState   REALLYDAMAGED MOVING
Model          UVTechG_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState   RUBBLE
Model          UVTechG_D1
End

OkToChangeModelColor         Yes
TrackMarks                   EXTireTrack.tga
Dust                         TechnicalDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2        ; this * speed  rotation.
PowerslideRotationAddition   2.5    ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Bones02

ConditionState  NONE
Model  UVTechG_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVTechG_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVTechG_B
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponC
End

End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor         Yes
AttachToBoneInAnotherModule  Dum_Turret

; ------------------ basic technical ------------------------
DefaultConditionState
Model              UITech_SKN_A
IdleAnimation      UITech_SKL.UITech_STA 0 6
IdleAnimation      UITech_SKL.UITech_IDA
IdleAnimation      UITech_SKL.UITech_IDB
AnimationMode      ONCE
Turret             Dum-TurManMVR
TurretArtAngle     180
WeaponFireFXBone   PRIMARY   MUZZLE01
WeaponMuzzleFlash  PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_20CAL
End

ConditionState  MOVING
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
AnimationMode      ONCE
TransitionKey      TRANS_MOVING_20CAL
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState  TURRET_ROTATE
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  TURRET_ROTATE ATTACKING
AliasConditionState  TURRET_ROTATE MOVING
AliasConditionState  TURRET_ROTATE MOVING ATTACKING

ConditionState  ATTACKING
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY MUZZLE01
WeaponMuzzleFlash  PRIMARY MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_B
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_B
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_B
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE02
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_C
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  TRANS_MOVING_RPG
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_C
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_RPG
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_C
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLE03
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              UITech_SKN_D
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model              UITech_SKN_D
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              UITech_SKN_D
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_ONE ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model              UITech_SKN_E
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING
Model              UITech_SKN_E
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model              UITech_SKN_E
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

; ------------------ technical with WEAPONSET_PLAYER_UPGRADE & WEAPONSET_CRATEUPGRADE_TWO ------------------------
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model              UITech_SKN_F
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  TRANS_MOVING_50CAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING
Model              UITech_SKN_F
IdleAnimation      UITech_SKL.UITech_MVA 0 3
IdleAnimation      UITech_SKL.UITech_MVB
TransitionKey      TRANS_MOVING_50CAL
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_TNA
AnimationMode      LOOP
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING ATTACKING

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model              UITech_SKN_F
Animation          UITech_SKL.UITech_ATA
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone   PRIMARY   MUZZLEFX01
WaitForStateToFinishIfPossible  NONE
End

;Makes sure we don't display a gunner when we get destroyed
ConditionState  RUBBLE
Model              NONE
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE TURRET_ROTATE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE MOVING TURRET_ROTATE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARD VARE VARF
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  USER_1
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVTechNk
Animation  UVTechNk.UVTechNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME25 FlameTowerBurnerFire
ParticleSysBone  FLAME26 FlameTowerBurnerFire
ParticleSysBone  FLAME27 FlameTowerBurnerFire
ParticleSysBone  FLAME28 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVTechNk_D
Animation  UVTechNk_D.UVTechNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME25 FlameTowerBurnerFire
ParticleSysBone  FLAME26 FlameTowerBurnerFire
ParticleSysBone  FLAME27 FlameTowerBurnerFire
ParticleSysBone  FLAME28 FlameTowerBurnerFire
End

End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB VARC VARD VARE VARF
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVTechBmb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVTechBmb_D
End

End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  9.0
GeometryHeight  7.5
GeometryIsSmall  No

End
;------------------------------------------------------------------------------
Object GLAVehicleScudLauncher

; *** ART Parameters ***
SelectPortrait          SUScudLauncher_L
ButtonImage             SUScudLauncher

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ProjectileBoneFeedbackEnabledSlots  PRIMARY SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

DefaultConditionState
Model  UVScudLchr
Turret  TURRET
TurretPitch  TURRETEL
ShowSubObject  TURRET
HideSubObject  TURRETUP01 TURRETUP02
WeaponLaunchBone  PRIMARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  UVScudLchr_d
End
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVScudLchr
Turret  TURRETUP01
TurretPitch  TURRETEL01
ShowSubObject  TURRETUP01
HideSubObject  TURRET TURRETUP02
WeaponLaunchBone  PRIMARY WeaponB
WeaponLaunchBone  SECONDARY WeaponB
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model  UVScudLchr_d
Turret  TURRETUP01
TurretPitch  TURRETEL01
ShowSubObject  TURRETUP01
HideSubObject  TURRET TURRETUP02
WeaponLaunchBone  PRIMARY WeaponB
WeaponLaunchBone  SECONDARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE RUBBLE

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVScudLchr
Turret  TURRETUP02
TurretPitch  TURRETEL02
ShowSubObject  TURRETUP02
HideSubObject  TURRET TURRETUP01
WeaponLaunchBone  PRIMARY WeaponC
WeaponLaunchBone  SECONDARY WeaponC
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVScudLchr_d
Turret  TURRETUP02
TurretPitch  TURRETEL02
ShowSubObject  TURRETUP02
HideSubObject  TURRET TURRETUP01
WeaponLaunchBone  PRIMARY WeaponC
WeaponLaunchBone  SECONDARY WeaponC
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO RUBBLE

TrackMarks  EXTireTrack.tga

Dust  ScudLauncherDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire05
LeftRearTireBone  Tire04
RightRearTireBone  Tire08
MidLeftFrontTireBone  Tire02
MidRightFrontTireBone  Tire06
MidLeftRearTireBone  Tire03
MidRightRearTireBone  Tire07

TireRotationMultiplier  0.2   ; this * speed  rotation.
;PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.

End


; ***DESIGN parameters ***

DisplayName       OBJECT:ScudLauncher
Side  GLA
EditorSorting    VEHICLE
TransportSlotCount  20

WeaponSet
Conditions  None
Weapon  PRIMARY SCUDLauncherGunExplosive
Weapon  SECONDARY SCUDLauncherGunToxin
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
End
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY SCUDLauncherGunExplosive
Weapon  SECONDARY SCUDLauncherGunAnthrax
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes ; This set is so similar to the default set that it can hold the weapon lock
End
WeaponSet
Conditions  CRATEUPGRADE_ONE
Weapon  PRIMARY SCUDLauncherGunExplosivePlusOne
Weapon  SECONDARY SCUDLauncherGunToxinPlusOne
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes ; This set is so similar to the default set that it can hold the weapon lock
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_ONE
Weapon  PRIMARY SCUDLauncherGunExplosivePlusOne
Weapon  SECONDARY SCUDLauncherGunAnthraxPlusOne
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes ; This set is so similar to the default set that it can hold the weapon lock
End
WeaponSet
Conditions  CRATEUPGRADE_TWO
Weapon  PRIMARY SCUDLauncherGunExplosivePlusTwo
Weapon  SECONDARY SCUDLauncherGunToxinPlusTwo
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes ; This set is so similar to the default set that it can hold the weapon lock
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_TWO
Weapon  PRIMARY SCUDLauncherGunExplosivePlusTwo
Weapon  SECONDARY SCUDLauncherGunAnthraxPlusTwo
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes ; This set is so similar to the default set that it can hold the weapon lock
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End
BuildCost        1200
BuildTime        15.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  GLAPalace
End

ExperienceValue     50 100 200 400  ;Experience point value at each level
ExperienceRequired  0 400 600 1000  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet            GLAVehicleScudLauncherCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ScudLauncherVoiceSelect
VoiceMove  ScudLauncherVoiceMove
VoiceGuard  ScudLauncherVoiceMove
VoiceAttack  ScudLauncherVoiceAttack
SoundMoveStart  ScudLauncherMoveStart
SoundMoveStartDamaged  ScudLauncherMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate        ScudLauncherVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
TruckLandingSound  NoSound
TruckPowerslideSound  NoSound
VoiceCrush  ScudLauncherVoiceCrush
VoiceEnter  ScudLauncherVoiceMove
VoicePrimaryWeaponMode  ScudLauncherVoiceModeHiEx
VoiceSecondaryWeaponMode  ScudLauncherVoiceModeAnthrax
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  360
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  0   ; turn rate, in degrees per sec
TurretPitchRate  50
FirePitch  90  ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End

Behavior  CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
End

Locomotor  SET_NORMAL ScudLauncherLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  40.0
End

Behavior  AutoHealBehavior ModuleTag_06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_09
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_SCUDLauncherDeathEffect
FX   FINAL    FX_ScudLauncherExplosionOneFinal
End

; A crushing defeat
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag SalvageData
CrateData  SalvageCrateDataGLATier2
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_22
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  WeaponSetUpgrade ModuleTag_23
TriggeredBy  Upgrade_GLAAnthraxBeta
End

Behavior  LockWeaponCreate ModuleTag_24
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
CommandSet  GLAVehicleScudLauncherCommandSetUpgraded
TriggeredBy   Upgrade_GLAAnthraxBeta
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object GLAVehicleMobileGPS

; *** ART Parameters ***
SelectPortrait          SUMobileGPS_L
ButtonImage             SUMobileGPS

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVMblGPS
Animation  UVMblGPS.UVMblGPS
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 DozerSmokeLight
ParticleSysBone  EXHAUST02 DozerSmokeLight
;ParticleSysBone  GPSFX01 GPSScramberlMarkerParticle
End

ConditionState  MOVING
Model  UVMblGPS
Animation  UVMblGPS.UVMblGPS
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 DozerSmokeHeavy
ParticleSysBone  EXHAUST02 DozerSmokeHeavy
;ParticleSysBone  GPSFX01 GPSScramberlMarkerParticle
End

ConditionState  REALLYDAMAGED
Model  UVMblGPS_D
Animation  UVMblGPS_D.UVMblGPS_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 DozerSmokeLight
ParticleSysBone  EXHAUST02 DozerSmokeLight
;ParticleSysBone  GPSFX01 GPSScramberlMarkerParticle
End

ConditionState  MOVING REALLYDAMAGED
Model  UVMblGPS_D
Animation  UVMblGPS_D.UVMblGPS_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 DozerSmokeHeavy
ParticleSysBone  EXHAUST02 DozerSmokeHeavy
;ParticleSysBone  GPSFX01 GPSScramberlMarkerParticle
End

ConditionState  RUBBLE
Model  UVMblGPS_D
Animation  UVMblGPS_D.UVMblGPS_D
AnimationMode  MANUAL
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0 ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3 ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6 ; fraction of locomotor speed below which we allow pivoting.

End

; ***DESIGN parameters ***
DisplayName       OBJECT:MobileGPS
Side  GLA
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)


WeaponSet
Conditions  None
Weapon             PRIMARY   SupportVehicleDummyWeapon
Weapon             SECONDARY ScramblerTrackJammingPulseWeapon
AutoChooseSources  SECONDARY NONE
End


ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object             GLAPalace
Science            SCIENCE_GPSScrambler
End

BuildCost        1200
BuildTime        10.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

IsTrainable  No
ExperienceValue  5 5 5 5     ;Experience point value at each level
CrusherLevel     0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel   2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAVehicleMobileGPSCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MobileGPSVoiceSelect
VoiceMove              MobileGPSVoiceMove
VoiceAttack            MobileGPSVoiceMove
SoundMoveStart         MobileGPSMoveStart
SoundMoveStartDamaged  MobileGPSMoveStart

UnitSpecificSounds
VoiceCreate  MobileGPSVoiceCreate
VoiceCrush   MobileGPSVoiceMove
VoiceEnter   MobileGPSVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE CAN_ATTACK IGNORES_SELECT_ALL CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        300
InitialHealth    300

SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AutoHealBehavior ModuleTag_08
HealingAmount  2
HealingDelay  500 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  AIUpdateInterface ModuleTag_09
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL ScramblerTrackLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

; The default explosion
Behavior  SlowDeathBehavior  ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay  0
DestructionDelayVariance  200
FX  FINAL FX_BuggyNewDeathExplosion
OCL  FINAL OCL_MobileGPSDeathEffect
End

;GPS Scrambler Equipment
Behavior  FireWeaponUpdate ModuleTag_GPSScrambler01
Weapon  GPSScramblerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_GPSScrambler02
Weapon  GPSScramblerFieldDecalWeapon
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_17
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_18
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior                  TransitionDamageFX ModuleTag_19
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
InnateStealth                Yes
RequiredStatus               DEPLOYED ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  6.0
GeometryHeight  12.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ;minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ScramblerTrackGPSFieldDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCScrambler
ShadowSizeX  314
ShadowSizeY  314

End
;------------------------------------------------------------------------------
Object GLATankScorpion

; *** ART Parameters ***
SelectPortrait          SUScorpion_L
ButtonImage             SUScorpion

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVLiteTank
End
End

; set cost and time fields here or else they won't work
BuildCost        650
BuildTime        8.0

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLATankScorpion_Var1 GLATankScorpion_Var2 GLATankScorpion_Var3 GLATankScorpion_Var3 GLATankScorpion_Var4 GLATankScorpion_Var4 GLATankScorpion_Var5 GLATankScorpion_Var5

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
Object GLATankScorpion_Var1

; *** ART Parameters ***
SelectPortrait          SUScorpion_L
ButtonImage             SUScorpion

Draw  W3DTankDraw ModuleTag_Chassis01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVScrp
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVScrp
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVScrp_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVScrp_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVScrp
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVScrp_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ScorpionMissile01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVScrp
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVScrp
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVScrp_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  RADAR_UPGRADED
Model  UVScrp
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED RADAR_UPGRADED
Model  UVScrp_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE RADAR_UPGRADED

;crate upgrade one
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVScrp
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp
Animation  UVScrp.UVScrp
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_A1
Animation  UVScrp_A1.UVScrp_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVScrp_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_D
Animation  UVScrp_D.UVScrp_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp_DA1
Animation  UVScrp_DA1.UVScrp_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Scorpion
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

;;;;Standard Weaponset

WeaponSet
Conditions  None
Weapon  PRIMARY   ScorpionTankGun
Weapon  TERTIARY  ScorpionRocketWeapon
End
WeaponSet
Conditions  CRATEUPGRADE_ONE
Weapon  PRIMARY   ScorpionTankGunPlusOne
Weapon  TERTIARY  ScorpionRocketWeaponPlusOne
End
WeaponSet
Conditions  CRATEUPGRADE_TWO
Weapon  PRIMARY   ScorpionTankGunPlusTwo
Weapon  TERTIARY  ScorpionRocketWeaponPlusTwo
End

;;;;Scorpion Rocket Weaponset

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   ScorpionTankGun
PreferredAgainst  PRIMARY  INFANTRY
Weapon  SECONDARY ScorpionMissileWeapon
Weapon  TERTIARY  ScorpionRocketWeapon
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_ONE
Weapon  PRIMARY   ScorpionTankGunPlusOne
PreferredAgainst  PRIMARY  INFANTRY
Weapon  SECONDARY ScorpionMissileWeapon
Weapon  TERTIARY  ScorpionRocketWeaponPlusOne
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_TWO
Weapon  PRIMARY   ScorpionTankGunPlusTwo
PreferredAgainst  PRIMARY  INFANTRY
Weapon  SECONDARY ScorpionMissileWeaponPlusTwo
Weapon  TERTIARY  ScorpionRocketWeaponPlusTwo
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

;Upgraded with Russian ERA

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            GLAEraTankArmor
DamageFX         TankEraDamageFX
End

BuildCost        650
BuildTime        8.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

ExperienceValue     60 60 120 200   ;Experience point value at each level
ExperienceRequired  0 100 200 400   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLATankScorpionCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ScorpionTankVoiceSelect
VoiceMove  ScorpionTankVoiceMove
VoiceAttack  ScorpionTankVoiceAttack
SoundMoveStart  ScorpionTankMoveStart
SoundMoveStartDamaged  ScorpionTankMoveStart
VoiceGuard  ScorpionTankVoiceMove

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           ScorpionTankVoiceCreate
;TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
VoiceEnter  ScorpionTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        370.0
InitialHealth    370.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  740
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         50
RecenterTime           5000   ; how long to wait during idle before recentering
TurretPitchRate        100
AllowsPitch            Yes
MinPhysicalPitch       -20
NaturalTurretPitch     5
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL ScorpionLocomotor
Locomotor  SET_NORMAL_UPGRADED ScorpionHoverLocomotor ScorpionOverWaterHoverLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Russian ERA Armor
Behavior  ArmorUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  ModelConditionUpgrade ModuleTag_RecyclerUpgrade02
ConditionFlag  GARRISONED
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerRealCommandSet
End

;American Hover Engine
Behavior  PowerPlantUpgrade ModuleTag_RecyclerUpgrade03
TriggeredBy  Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  PowerPlantUpdate ModuleTag_RecyclerUpgrade04
RodsExtendTime  726
End

Behavior  LocomotorSetUpgrade ModuleTag_RecyclerUpgrade05
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  MaxHealthUpgrade ModuleTag_RecyclerUpgrade06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
AddMaxHealth   -74.0 ;20% less heatlh
ChangeType     PRESERVE_RATIO
End

;GLA Rocket Upgrade
Behavior  ModelConditionUpgrade ModuleTag_RecyclerUpgrade07
ConditionFlag  RADAR_UPGRADED
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  AutoHealBehavior ModuleTag_05
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  STATUS_RIDER8
ProbabilityModifier  50
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_ScorpionTankDeathEffect
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

;Hover Drive Death
Behavior  SlowDeathBehavior ModuleTag_0622131
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  STATUS_RIDER8
ProbabilityModifier  50
DestructionDelay  2300
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_ScorpionTankHoverDriveDeathEffect
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  StatusBitsUpgrade ModuleTag_06221314
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     STATUS_RIDER8
ConflictsWith   Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  WeaponSetUpgrade ModuleTag_07
TriggeredBy  Upgrade_GLAScorpionRocket
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_12
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior                  TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  ModelConditionUpgrade ModuleTag_UpgradeVissual01
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAToxinShells
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  9.0
GeometryHeight  10.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GLATankScorpion_Var2 GLATankScorpion_Var1

Draw  W3DTankDraw ModuleTag_Chassis01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVScrp2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVScrp2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVScrp2_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVScrp2_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVScrp2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVScrp2_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ScorpionMissile01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVScrp2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVScrp2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  RADAR_UPGRADED
Model  UVScrp2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED RADAR_UPGRADED
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE RADAR_UPGRADED

;crate upgrade one
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVScrp2
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2
Animation  UVScrp2.UVScrp2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_A1
Animation  UVScrp2_A1.UVScrp2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_D
Animation  UVScrp2_D.UVScrp2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp2_DA1
Animation  UVScrp2_DA1.UVScrp2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End

;------------------------------------------------------------------------------
ObjectReskin GLATankScorpion_Var3 GLATankScorpion_Var1

Draw  W3DTankDraw ModuleTag_Chassis01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVScrp3
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVScrp3
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVScrp3_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVScrp3_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVScrp3
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVScrp3_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ScorpionMissile01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVScrp3
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVScrp3
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  RADAR_UPGRADED
Model  UVScrp3
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED RADAR_UPGRADED
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE RADAR_UPGRADED

;crate upgrade one
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVScrp3
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3
Animation  UVScrp3.UVScrp3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_A1
Animation  UVScrp3_A1.UVScrp3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_D
Animation  UVScrp3_D.UVScrp3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp3_DA1
Animation  UVScrp3_DA1.UVScrp3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End

;------------------------------------------------------------------------------
ObjectReskin GLATankScorpion_Var4 GLATankScorpion_Var1

Draw  W3DTankDraw ModuleTag_Chassis01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVScrp4
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVScrp4
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVScrp4_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVScrp4_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVScrp4
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVScrp4_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ScorpionMissile01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVScrp4
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVScrp4
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  RADAR_UPGRADED
Model  UVScrp4
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED RADAR_UPGRADED
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE RADAR_UPGRADED

;crate upgrade one
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVScrp4
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4
Animation  UVScrp4.UVScrp4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_A1
Animation  UVScrp4_A1.UVScrp4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_D
Animation  UVScrp4_D.UVScrp4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp4_DA1
Animation  UVScrp4_DA1.UVScrp4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End

;------------------------------------------------------------------------------
ObjectReskin GLATankScorpion_Var5 GLATankScorpion_Var1

Draw  W3DTankDraw ModuleTag_Chassis01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVScrp5
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVScrp5
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVScrp5_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVScrp5_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADNL01 TREADNR01 FAN01 FAN02
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04 TREADSL01 TREADSR01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVScrp5
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVScrp5_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ScorpionMissile01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVScrp5
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponB
WeaponFireFXBone   SECONDARY WeaponB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  MISSLERACKC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   SECONDARY WeaponC
WeaponFireFXBone   SECONDARY WeaponC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVScrp5
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  RADAR_UPGRADED
Model  UVScrp5
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED RADAR_UPGRADED
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE RADAR_UPGRADED

;crate upgrade one
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR02 ARMOR03 ARMOR04
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED RADAR_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVScrp5
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5
Animation  UVScrp5.UVScrp5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_A1
Animation  UVScrp5_A1.UVScrp5_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR03 ARMOR04
End

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ARMOR04
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_D
Animation  UVScrp5_D.UVScrp5_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR03 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01 ARMOR04
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVScrp5_DA1
Animation  UVScrp5_DA1.UVScrp5_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03 ARMOR04
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKC ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End
;------------------------------------------------------------------------------
Object GLAVehicleRocketBuggy

; *** ART Parameters ***
SelectPortrait          SURocketBuggy_L
ButtonImage             SURocketBuggy

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  RcktBggyA
End
End

; set cost and time fields here or else they won't work
BuildCost        900
BuildTime        11.0    ;in seconds

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleRocketBuggy_Var1 GLAVehicleRocketBuggy_Var2 GLAVehicleRocketBuggy_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
;GLA Rocket Buggy
Object GLAVehicleRocketBuggy_Var1

; *** ART Parameters ***
SelectPortrait          SURocketBuggy_L
ButtonImage             SURocketBuggy

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyA
End

ConditionState   REALLYDAMAGED
Model          RcktBggyA_D
End

ConditionState  RUBBLE
Model          RcktBggyA_D1
End

TrackMarks  EXTireTrack.tga

Dust                         RocketBuggyDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyTrt
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  RIDER1

ConditionState   RIDER2
Model          RcktBggyTrt
Turret         MTurret
ShowSubObject  MTurret
HideSubObject  Turret TurretUp MTurretUp
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
End

ConditionState   RIDER1 WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt
Turret         TurretUp
ShowSubObject  TurretUp
HideSubObject  Turret MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState   RIDER2 WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt
Turret         MTurretUp
ShowSubObject  MTurretUp
HideSubObject  Turret TurretUp MTurret
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End

;Reallydamaged

ConditionState   RIDER1 REALLYDAMAGED
Model          RcktBggyTrt_D
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState   RIDER2 REALLYDAMAGED
Model          RcktBggyTrt_D
Turret         MTurret
ShowSubObject  MTurret
HideSubObject  Turret TurretUp MTurretUp
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
End

ConditionState   RIDER1 REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt_D
Turret         TurretUp
ShowSubObject  TurretUp
HideSubObject  Turret MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState   RIDER2 REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt_D
Turret         MTurretUp
ShowSubObject  MTurretUp
HideSubObject  Turret TurretUp MTurret
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End

ConditionState   RUBBLE
Model          NONE
End
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER2 RUBBLE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RIDER1 RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RIDER2 RUBBLE WEAPONSET_PLAYER_UPGRADE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RocketBuggy
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   BuggyRocketWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER1 PLAYER_UPGRADE
Weapon             PRIMARY   BuggyRocketWeaponUpgraded
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   RocketBuggyMortarCannonGun
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2 PLAYER_UPGRADE
Weapon             PRIMARY   RocketBuggyMortarCannonGun
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End

BuildCost        900
BuildTime        11.0          ;in seconds
VisionRange      250
ShroudClearingRange  300

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
End

ExperienceValue        50 50 100 150   ;Experience point value at each level
ExperienceRequired     0 100 200 400   ;Experience points needed to gain each level
IsTrainable            Yes             ;Can gain experience
CrusherLevel           2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel         2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet             GLAVehicleRocketBuggyCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RocketBuggyVoiceSelect
VoiceMove  RocketBuggyVoiceMove
VoiceAttack  RocketBuggyVoiceAttack
SoundMoveStart  RocketBuggyMoveStart
SoundMoveStartDamaged  RocketBuggyMoveStart
VoiceGuard  RocketBuggyVoiceMove


UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           RocketBuggyVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
; Required for the W3DTruckDraw module
TruckLandingSound  RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceCrush       RocketBuggyVoiceCrush
VoiceEnter  RocketBuggyVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE GARRISONABLE_UNTIL_DESTROYED

Body  ActiveBody ModuleTag_02
MaxHealth        120
InitialHealth    120

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  240
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  30
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
;    MoodAttackCheckRate         30
End
Locomotor  SET_NORMAL RocketBuggyLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  AutoHealBehavior ModuleTag_08
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  WeaponSetUpgrade ModuleTag_09
TriggeredBy  Upgrade_GLABuggyAmmo
End

Behavior  WeaponBonusUpgrade ModuleTag_091214
TriggeredBy  Upgrade_GLABuggyAmmo
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleRocketBuggyCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleRocketBuggyCommandSet SET_NORMAL

;;;;Upgraded with Buggy Ammo
Rider3  GenericFakeRider3_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER3 GLAVehicleRocketBuggyUpgradedCommandSet SET_NORMAL
Rider4  GenericFakeRider4_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER4 GLAVehicleRocketBuggyUpgradedCommandSet SET_NORMAL


;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant  Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  GrantUpgradeCreate ModuleTag_Transform04
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_RocketBuggySwitchModeDelayObject
TriggeredBy      Upgrade_ChinaOverlordGattlingCannon
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform06
CollideWeapon    RocketBuggySwitchToRocketMode
RequiredStatus   STATUS_RIDER2 STATUS_RIDER8
ForbiddenStatus  STATUS_RIDER7
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform07
UpgradeObject    OCL_RocketBuggyRocketModeTrigger
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
FXListUpgrade    FX_RocketBuggySwitchWeapons
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    STATUS_RIDER8
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform10
CollideWeapon    RocketBuggySwitchToMortarMode
RequiredStatus   STATUS_RIDER1 REPULSOR
ForbiddenStatus  STATUS_RIDER7
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform11
UpgradeObject    OCL_RocketBuggyMortarModeTrigger
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
ConflictsWith    Upgrade_ChinaOverlordGattlingCannon
FXListUpgrade    FX_RocketBuggySwitchWeapons
End

Behavior  StatusBitsUpgrade ModuleTag_Transform12
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  STATUS_RIDER8
End

;Buggy Ammo Upgrade Triggers
Behavior  StatusBitsUpgrade ModuleTag_Transform13
TriggeredBy    Upgrade_GLABuggyAmmo
StatusToSet    STATUS_RIDER7
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform14
UpgradeObject    OCL_GenericCollisionObjectDummy
TriggeredBy      Upgrade_GLABuggyAmmo
End

;Buggy Ammo Primary Unit Mode Triggers
Behavior  FireWeaponCollide ModuleTag_Transform15 ;This module switches out our rider if we are currently in submachinegun mode
CollideWeapon    RocketBuggyRocketAmmoUpgraded
RequiredStatus   STATUS_RIDER1 STATUS_RIDER7
End

Behavior  FireWeaponCollide ModuleTag_Transform16 ;This module replaced the standard rider replacement code
CollideWeapon    RocketBuggySwitchToRocketUpgradedMode
RequiredStatus   STATUS_RIDER4 STATUS_RIDER8 STATUS_RIDER7
End

;Buggy Ammo Primary Unit Mode Triggers
Behavior  FireWeaponCollide  ModuleTag_Transform17 ;This module switches out our rider if we are currently in mortar mode
CollideWeapon    RocketBuggyMortarAmmoUpgraded
RequiredStatus   STATUS_RIDER2 STATUS_RIDER7
End

Behavior  FireWeaponCollide  ModuleTag_Transform18 ;This module replaced the standard rider replacement code
CollideWeapon    RocketBuggySwitchToMortarUpgradedMode
RequiredStatus   STATUS_RIDER3 REPULSOR STATUS_RIDER7
End

;************************************
;******Transformation Code End********
;************************************

; The pop up AirDeath
Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
DestructionDelay  500
DestructionDelayVariance   1500
FX   INITIAL FX_BuggyDeathExplosion
OCL  INITIAL OCL_RocketBuggyAirDeathStart
OCL  FINAL   OCL_RocketBuggyAirDeath
FX   FINAL   FX_RocketBuggyAirDeathAirPart
End

;Deaths for pilot kill weapons
Behavior  CreateObjectDie ModuleTag_105235
DeathTypes  NONE +EXTRA_7
CreationList  OCL_RocketBuggyNerveGasKill
TransferPreviousHealth  Yes
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED +EXTRA_7
End

; A crushing defeat
Behavior  FXListDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
CreationList  OCL_RocketBuggy_CrushEffect
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
RequiredStatus  HIJACKED
DeathFX  FX_HijackerEmerge
End

Behavior  CreateCrateDie ModuleTag_14
CrateData  SalvageCrateDataGLATier1
End

Behavior                  TransitionDamageFX ModuleTag_15
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ObjectCreationUpgrade ModuleTag_Taunt01
UpgradeObject  OCL_RocketBuggyTaunt
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

Geometry  BOX
GeometryMajorRadius  13.0
GeometryMinorRadius  9.0
GeometryHeight  7.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------------------------------------------------
ObjectReskin GLAVehicleRocketBuggy_Var2 GLAVehicleRocketBuggy_Var1

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyB
End

ConditionState   REALLYDAMAGED
Model          RcktBggyB_D
End

ConditionState  RUBBLE
Model          RcktBggyB_D1
End

TrackMarks  EXTireTrack.tga

Dust                         RocketBuggyDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyTrt
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  RIDER1

ConditionState   RIDER2
Model          RcktBggyTrt
Turret         MTurret
ShowSubObject  MTurret
HideSubObject  Turret TurretUp MTurretUp
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
End

ConditionState   RIDER1 WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt
Turret         TurretUp
ShowSubObject  TurretUp
HideSubObject  Turret MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState   RIDER2 WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt
Turret         MTurretUp
ShowSubObject  MTurretUp
HideSubObject  Turret TurretUp MTurret
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End

;Reallydamaged

ConditionState   RIDER1 REALLYDAMAGED
Model          RcktBggyTrt_D
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState   RIDER2 REALLYDAMAGED
Model          RcktBggyTrt_D
Turret         MTurret
ShowSubObject  MTurret
HideSubObject  Turret TurretUp MTurretUp
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
End

ConditionState   RIDER1 REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt_D
Turret         TurretUp
ShowSubObject  TurretUp
HideSubObject  Turret MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState   RIDER2 REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt_D
Turret         MTurretUp
ShowSubObject  MTurretUp
HideSubObject  Turret TurretUp MTurret
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End

ConditionState   RUBBLE
Model          NONE
End
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER2 RUBBLE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RIDER1 RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RIDER2 RUBBLE WEAPONSET_PLAYER_UPGRADE

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleRocketBuggy_Var3 GLAVehicleRocketBuggy_Var1

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyC
End

ConditionState   REALLYDAMAGED
Model          RcktBggyC_D
End

ConditionState  RUBBLE
Model          RcktBggyC_D1
End

TrackMarks  EXTireTrack.tga

Dust                         RocketBuggyDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyTrt
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  RIDER1

ConditionState   RIDER2
Model          RcktBggyTrt
Turret         MTurret
ShowSubObject  MTurret
HideSubObject  Turret TurretUp MTurretUp
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
End

ConditionState   RIDER1 WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt
Turret         TurretUp
ShowSubObject  TurretUp
HideSubObject  Turret MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState   RIDER2 WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt
Turret         MTurretUp
ShowSubObject  MTurretUp
HideSubObject  Turret TurretUp MTurret
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End

;Reallydamaged

ConditionState   RIDER1 REALLYDAMAGED
Model          RcktBggyTrt_D
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState   RIDER2 REALLYDAMAGED
Model          RcktBggyTrt_D
Turret         MTurret
ShowSubObject  MTurret
HideSubObject  Turret TurretUp MTurretUp
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
End

ConditionState   RIDER1 REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt_D
Turret         TurretUp
ShowSubObject  TurretUp
HideSubObject  Turret MTurret MTurretUp
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
End

ConditionState   RIDER2 REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          RcktBggyTrt_D
Turret         MTurretUp
ShowSubObject  MTurretUp
HideSubObject  Turret TurretUp MTurret
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End

ConditionState   RUBBLE
Model          NONE
End
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER2 RUBBLE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RIDER1 RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RIDER2 RUBBLE WEAPONSET_PLAYER_UPGRADE

End

End

;------------------------------------------------------------------------------
Object GLAVehicleRocketBuggyUnmanned

; *** ART Parameters ***
SelectPortrait          SURocketBuggy_L
ButtonImage             SURocketBuggy

UpgradeCameo1  Upgrade_GLABuggyAmmo
UpgradeCameo2  Upgrade_GLAAPRockets
UpgradeCameo3  Upgrade_GLAJunkRepair

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyA
End

ConditionState   REALLYDAMAGED
Model          RcktBggyA_D
End

ConditionState  RUBBLE
Model          RcktBggyA_D1
End

TrackMarks  EXTireTrack.tga

Dust                         RocketBuggyDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes

ConditionState   NONE
Model          RcktBggyTrt
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
End

ConditionState   REALLYDAMAGED
Model          RcktBggyTrt_D
Turret         Turret
ShowSubObject  Turret
HideSubObject  TurretUp MTurret MTurretUp
End

End

; ***DESIGN parameters ***
DisplayName             OBJECT:RocketBuggy
Side                    GLA
EditorSorting           SYSTEM
TransportSlotCount      3


WeaponSet
Conditions            NONE
Weapon                PRIMARY   SuicideUnresistableWeapon
End

ArmorSet
Conditions            None
Armor                 TruckArmor
DamageFX              UnmannedTankDamageFX
End

VisionRange             200
ShroudClearingRange  200


IsTrainable             No
CrusherLevel            2               ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2               ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE

Body                    ActiveBody ModuleTag_02
MaxHealth        120
InitialHealth    120

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  240
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor             SET_NORMAL   FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED -SUICIDED
ProbabilityModifier  5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
OCL  FINAL OCL_RocketBuggyAirDeathStart
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED +SUICIDED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior        OCLUpdate ModuleTag_Respawn01 ; Context window is a reaction to this, no CommandSet
MinDelay      100
MaxDelay      100
CreateAtEdge  Yes ; as opposed to just creating on self

FactionTriggered  Yes ; This requires a controlling player before it works

FactionOCL    Faction:America                   OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:China                     OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:GLA                       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaLaserGeneral       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaSuperWeaponGeneral OCL:OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  CreateObjectDie ModuleTag_Respawn02
DeathTypes  NONE +SUICIDED
CreationList  OCL_RocketBuggyGasKillRespawn
TransferPreviousHealth  Yes
End

Geometry  BOX
GeometryMajorRadius  13.0
GeometryMinorRadius  9.0
GeometryHeight  7.5
GeometryIsSmall  Yes

Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerAmericaT1

SelectPortrait  SURecyclerUSAT1_L
ButtonImage     SURecyclerUSAT1

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_RecyclerFlatbed01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecylrB
End

ConditionState  REALLYDAMAGED
Model  UVRecylrB_D
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERLINK
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_USATier1

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecUsT1
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1_D
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Nada
RightFrontTireBone           Nada
MidLeftRearTireBone          Nada
MidRightRearTireBone         Nada
LeftRearTireBone             Nada
RightRearTireBone            Nada

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

Draw  W3DModelDraw ModuleTag_TrailFiringPosition01
DefaultConditionState
Model  UVRecylr_B
WeaponLaunchBone  PRIMARY Muzzle
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT1USA
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          275
ShroudClearingRange  300

WeaponSet
Conditions         None
Weapon             PRIMARY DroneRecyclerHarmlessWeapon
Weapon             SECONDARY DroneRecyclerDeployDroneWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50 50 50 ;Experience point value at each level
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAVehicleRecyclerUSATierOneCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerUSAT1VoiceSelect
VoiceMove                RecyclerrUSAT1VoiceMove
VoiceAttack              RecyclerrUSAT1VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrUSAT1VoiceMove
VoiceEnter             RecyclerrUSAT1VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  360
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
MoodAttackCheckRate  30
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

;  Behavior  SpawnBehavior ModuleTag_Drones01
;    SpawnNumber            4
;    SpawnReplaceDelay      10000
;    SpawnTemplateName      GLAVehicleRecyclerDrone1
;    SpawnTemplateName      GLAVehicleRecyclerDrone2
;    SpawnTemplateName      GLAVehicleRecyclerDrone3
;    SpawnTemplateName      GLAVehicleRecyclerDrone4
;    ExitByBudding          No
;    InitialBurst           1
;    OneShot                No
;    AggregateHealth        No
;    SlavesHaveFreeWill     No
;    SpawnedRequireSpawner  Yes
;  End

;  Behavior  QueueProductionExitUpdate ModuleTag_Drones02
;    UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
;    NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
;    ExitDelay          10000
;    InitialBurst       1
;  End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrones

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVRecUsT1D2
End
End

Side  GLA
EditorSorting  SYSTEM
BuildVariations  GLAVehicleRecyclerDrone1 GLAVehicleRecyclerDrone2 GLAVehicleRecyclerDrone3 GLAVehicleRecyclerDrone4

KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY DRONE NO_HEAL_ICON

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone1

UpgradeCameo1  Upgrade_GLAJunkRepair

;MAIN CHASSIS
Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  UVRecUsT1D2
Animation  UVRecUsT1D2.UVRecUsT1D2
AnimationMode  LOOP
HideSubObject  TURRETEL ARMOR
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D2_D
Animation  UVRecUsT1D2_D.UVRecUsT1D2_D
End

ConditionState  RUBBLE
Model  UVRecUsT1D2
Animation  UVRecUsT1D2.UVRecUsT1D2
AnimationMode  ONCE
ShowSubObject  TURRETEL
HideSubObject  TurretFX01 TurretFX02
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              WaspDroneArmor
DamageFX           SmallTankDamageFX
End

BuildCost            0
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         GLAImprovisedDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY DRONE NO_HEAL_ICON

Body  ActiveBody ModuleTag_03
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  390        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  30   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaBattleDroneExplode
OCL                  FINAL OCL_AmericaBattleDroneExplode
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideWeapon
InitialDelay  25000
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      GLAVehicleRecyclerDrone1Turret
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  2
HealingDelay  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone1Turret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  UVRecUsT1D1
Turret  Turret01
TurretPitch  TurretEL
WeaponFireFXBone   PRIMARY  Muzzle
WeaponMuzzleFlash  PRIMARY  TurretFX
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D1_D
End

End

; ***DESIGN parameters ***
Side              GLA
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon             PRIMARY  RecyclerDroneAssaultRiflesWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -90    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -25
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior              DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone2

;MAIN CHASSIS
Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  UVRecUsT1D2
Animation  UVRecUsT1D2.UVRecUsT1D2
AnimationMode  LOOP
HideSubObject  TURRETEL
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D2_D
Animation  UVRecUsT1D2_D.UVRecUsT1D2_D
End

ConditionState  RUBBLE
Model  UVRecUsT1D2_D
Animation  UVRecUsT1D2_D.UVRecUsT1D2_D
AnimationMode  ONCE
ShowSubObject  TURRETEL
HideSubObject  TurretFX01 TurretFX02
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              WaspDroneArmor
DamageFX           SmallTankDamageFX
End

BuildCost            0
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         GLAImprovisedDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY DRONE NO_HEAL_ICON

Body  ActiveBody ModuleTag_03
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  390        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  30   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaBattleDroneExplode
OCL                  FINAL OCL_AmericaBattleDroneExplode
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideWeapon
InitialDelay  25000
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      GLAVehicleRecyclerDrone2Turret
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  2
HealingDelay  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone2Turret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  UVRecUsT1D2
Turret  Turret01
TurretPitch  TurretEL
HideSubObject  CHASSIS FAN HOUSECOLOR01
WeaponFireFXBone   PRIMARY  Muzzle
WeaponMuzzleFlash  PRIMARY  TurretFX
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D2_D
End

End

; ***DESIGN parameters ***
Side              GLA
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon             PRIMARY  RecyclerDroneMachinegunWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -90    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -25
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior              DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone3

;MAIN CHASSIS
Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  UVRecUsT1D3
Animation  UVRecUsT1D3.UVRecUsT1D3
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D3_D
Animation  UVRecUsT1D3_D.UVRecUsT1D3_D
End

ConditionState  RUBBLE
Model  UVRecUsT1D3_D
Animation  UVRecUsT1D3_D.UVRecUsT1D3_D
AnimationMode  ONCE
ShowSubObject  TURRET
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              WaspDroneArmor
DamageFX           SmallTankDamageFX
End

BuildCost            0
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         GLAImprovisedDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY DRONE NO_HEAL_ICON

Body  ActiveBody ModuleTag_03
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  390        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  30   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideWeapon
InitialDelay  25000
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      GLAVehicleRecyclerDrone3Turret
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  2
HealingDelay  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone3Turret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  UVRecUsT1D3
Turret  Turret
TurretPitch  Crate
HideSubObject  CHASSIS
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D3_D
End

End

; ***DESIGN parameters ***
Side              GLA
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon             PRIMARY  RecyclerDroneMortarWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -45    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior              DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone4

;MAIN CHASSIS
Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  UVRecUsT1D4
Animation  UVRecUsT1D4.UVRecUsT1D4
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D4_D
Animation  UVRecUsT1D4_D.UVRecUsT1D4_D
End

ConditionState  RUBBLE
Model  UVRecUsT1D4_D
Animation  UVRecUsT1D4_D.UVRecUsT1D4_D
AnimationMode  ONCE
ShowSubObject  TURRET
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              WaspDroneArmor
DamageFX           SmallTankDamageFX
End

BuildCost            0
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         GLAImprovisedDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY DRONE NO_HEAL_ICON

Body  ActiveBody ModuleTag_03
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  390        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  30   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideWeapon
InitialDelay  25000
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      GLAVehicleRecyclerDrone4Turret
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  2
HealingDelay  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerDrone4Turret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  UVRecUsT1D4
Turret  Turret
TurretPitch  ROCKETPOD
HideSubObject  CHASSIS
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  PRIMARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT1D4_D
End

End

; ***DESIGN parameters ***
Side              GLA
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon             PRIMARY  RecyclerDroneRocketWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -45    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -10
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior              DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerAmericaT2

SelectPortrait  SURecyclerUSAT2_L
ButtonImage     SURecyclerUSAT2

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DOverlordTruckDraw ModuleTag_USATier2

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone  FIREPOINT01

DefaultConditionState
Model  UVRecUsT2
Animation  UVRecUsT2.UVRecUsT2
AnimationMode  ONCE
HideSubObject  FIREPOINT01
End

ConditionState  MOVING
Model  UVRecUsT2
Animation  UVRecUsT2.UVRecUsT2
AnimationMode  ONCE_BACKWARDS
End

ConditionState  REALLYDAMAGED
Model  UVRecUsT2_D
Animation  UVRecUsT2_D.UVRecUsT2_D
AnimationMode  ONCE
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecUsT2_D
Animation  UVRecUsT2_D.UVRecUsT2_D
AnimationMode  ONCE_BACKWARDS
End

ConditionState  DISGUISED
Model  UVRecUsT2
Animation  UVRecUsT2.UVRecUsT2
AnimationMode  ONCE
HideSubObject  NONE
ShowSubObject  FIREPOINT01
End

ConditionState  DISGUISED MOVING
Model  UVRecUsT2
Animation  UVRecUsT2.UVRecUsT2
AnimationMode  ONCE_BACKWARDS
HideSubObject  NONE
ShowSubObject  FIREPOINT01
End

ConditionState  DISGUISED REALLYDAMAGED
Model  UVRecUsT2_D
Animation  UVRecUsT2_D.UVRecUsT2_D
AnimationMode  ONCE
HideSubObject  NONE
ShowSubObject  FIREPOINT01
End
AliasConditionState  DISGUISED RUBBLE

ConditionState  DISGUISED REALLYDAMAGED MOVING
Model  UVRecUsT2_D
Animation  UVRecUsT2_D.UVRecUsT2_D
AnimationMode  ONCE_BACKWARDS
HideSubObject  NONE
ShowSubObject  FIREPOINT01
End


Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

Draw  W3DOverlordTruckDraw ModuleTag_TargetPainterEffect01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model              NONE
End

ConditionState       PREATTACK_A
Model              UVRecUsT2_A1
Animation          UVRecUsT2_A1.UVRecUsT2_A1
AnimationMode      ONCE
Turret             TURRET
End
AliasConditionState  PREATTACK_B
AliasConditionState  PREATTACK_C

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT2USA
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          250
ShroudClearingRange  275

WeaponSet
Conditions         None

Weapon             SECONDARY RecyclerAirstrikeRelayWeapon

End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 100 200 400  ;Experience point value at each level
ExperienceRequired       0 400 600 1000  ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GenericCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerUSAT2VoiceSelect
VoiceMove                RecyclerrUSAT2VoiceMove
VoiceAttack              RecyclerrUSAT2VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrUSAT2VoiceMove
VoiceEnter             RecyclerrUSAT2VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         360
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  OverlordContain ModuleTag_0725123
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret       No
PayloadTemplateName      GLAVehicleRecyclerAmericanT2LaserTurret
ExperienceSinkForRider   Yes ; I get the Exp for things my turret friend kills
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_SECONDARY
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_Decal01
Weapon  AvengerPDLDecalWeapon
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerAmericanT2LaserTurret ; Seperate turret object so it can attack independantly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor     Yes
ExtraPublicBone          Laser
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                UVRecUsT2L
Turret               FIREPOINT01
TurretPitch          LASEREL
WeaponFireFXBone     SECONDARY LASER
WeaponFireFXBone     TERTIARY  LASER
End

ConditionState  REALLYDAMAGED
Model                UVRecUsT2L_D
Turret               FIREPOINT01
TurretPitch          LASEREL
WeaponFireFXBone     SECONDARY LASER
WeaponFireFXBone     TERTIARY  LASER
End
End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  SECONDARY PaladinPointDefenseLaserTurretWeapon_Projectile
Weapon  TERTIARY  PaladinPointDefenseLaserTurretWeapon_Infantry
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY TERTIARY
TurretTurnRate       1080   // turn rate, in degrees per sec
TurretPitchRate      1080
AllowsPitch          Yes
NaturalTurretPitch   18
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerRussiaT2

SelectPortrait  SURecyclerRusT2_L
ButtonImage     SURecyclerRusT2

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTankTruckDraw ModuleTag_RussiaTier2

OkToChangeModelColor  Yes

;Normal State
ConditionState       NONE
Model              UVRecRuT2
Animation          UVRecRuT2_SKL.UVRecRuT2_A4
AnimationMode      LOOP
Flags              START_FRAME_LAST
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_IDLE
End
AliasConditionState  NIGHT

;Deploying State
ConditionState       UNPACKING
Model              UVRecRuT2
Animation          UVRecRuT2_SKL.UVRecRuT2_A1
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES2
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_UNPACKING
End
AliasConditionState  NIGHT UNPACKING

;Deployed State
ConditionState       DEPLOYED
Model              UVRecRuT2
Animation          UVRecRuT2_SKL.UVRecRuT2_A3
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_DEPLOYED
End
AliasConditionState  NIGHT DEPLOYED

;Deployed State Firing
ConditionState       DEPLOYED FIRING_A
Model              UVRecRuT2
IdleAnimation      UVRecRuT2_SKL.UVRecRuT2_A2
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_FIRING_A
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT DEPLOYED FIRING_A
AliasConditionState  NIGHT DEPLOYED BETWEEN_FIRING_SHOTS_A

;Deployed Transition from Firing to Reloading
TransitionState  TRANS_FIRING_A TRANS_RELOADING_A
Model              UVRecRuT2
Animation          UVRecRuT2_SKL.UVRecRuT2_A5
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

;Deployed State Reloading
ConditionState       DEPLOYED RELOADING_A
Model              UVRecRuT2
Animation          UVRecRuT2_SKL.UVRecRuT2_A3
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_RELOADING_A
End
AliasConditionState  NIGHT DEPLOYED RELOADING_A

;Undeploying State
ConditionState       PACKING
Model              UVRecRuT2
Animation          UVRecRuT2_SKL.UVRecRuT2_A1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_PACKING
End
AliasConditionState  NIGHT PACKING

;Damaged State
ConditionState       REALLYDAMAGED
Model              UVRecRuT2_D
Animation          UVRecRuT2_SKL.UVRecRuT2_A4
AnimationMode      LOOP
Flags              START_FRAME_LAST
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_DAMAGED_IDLE
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE NIGHT

;Damaged Deploying State
ConditionState       REALLYDAMAGED UNPACKING
Model              UVRecRuT2_D
Animation          UVRecRuT2_SKL.UVRecRuT2_A1
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES2
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_DAMAGED_UNPACKING
End
AliasConditionState  REALLYDAMAGED NIGHT UNPACKING

;Damaged Deployed State
ConditionState       REALLYDAMAGED DEPLOYED
Model              UVRecRuT2_D
Animation          UVRecRuT2_SKL.UVRecRuT2_A3
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_DAMAGED_DEPLOYED
End
AliasConditionState  REALLYDAMAGED NIGHT DEPLOYED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT

;Damaged Deployed State Firing
ConditionState       REALLYDAMAGED DEPLOYED FIRING_A
Model              UVRecRuT2_D
IdleAnimation      UVRecRuT2_SKL.UVRecRuT2_A2
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_DAMAGED_FIRING_A
End
AliasConditionState  REALLYDAMAGED DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED NIGHT DEPLOYED FIRING_A
AliasConditionState  REALLYDAMAGED NIGHT DEPLOYED BETWEEN_FIRING_SHOTS_A

;Damaged Deployed Transition from Firing to Reloading
TransitionState  TRANS_DAMAGED_FIRING_A TRANS_DAMAGED_RELOADING_A
Model              UVRecRuT2_D
Animation          UVRecRuT2_SKL.UVRecRuT2_A5
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

;Damaged Deployed State Reloading
ConditionState       REALLYDAMAGED DEPLOYED RELOADING_A
Model              UVRecRuT2_D
Animation          UVRecRuT2_SKL.UVRecRuT2_A3
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_DAMAGED_RELOADING_A
End
AliasConditionState  REALLYDAMAGED NIGHT DEPLOYED RELOADING_A

;Damaged Undeploying State
ConditionState       REALLYDAMAGED PACKING
Model              UVRecRuT2_D
Animation          UVRecRuT2_SKL.UVRecRuT2_A1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey      TRANS_DAMAGED_PACKING
End
AliasConditionState  REALLYDAMAGED NIGHT PACKING

TrackMarks  EXTnkTrack.tga

TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone   CABDUMMY01 ;this one is actualy a dummy bone that is required to make the trailer work
RightFrontTireBone  CABDUMMY02 ;the actual trailer
TireRotationMultiplier  0.0   ; the actual trailer set to zero and keep it that way unless you like spinning trailers :)
PowerslideRotationAddition  0 ; the actual trailer set to zero and keep it that way unless you like spinning trailers :)

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT2Russia
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          150
ShroudClearingRange  150

WeaponSet
Conditions         None

Weapon             PRIMARY RecyclerTremorCannonWeapon

Weapon             TERTIARY RecyclerTremorCannonDeployWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 100 200 400  ;Experience point value at each level
ExperienceRequired       0 400 600 1000  ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAVehicleRecyclerRussiaTierTwoCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerRussiaT2VoiceSelect
VoiceMove                RecyclerrRussiaT2VoiceMove
VoiceAttack              RecyclerrRussiaT2VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrRussiaT2VoiceMove
VoiceEnter             RecyclerrRussiaT2VoiceMove
TurretMoveLoop         RecyclerTremorCannonTurretMoveLoop
Deploy                 RecyclerTremorCannonDeploy
Undeploy               RecyclerTremorCannonUnDeploy
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DeployStyleAIUpdate ModuleTag_03

Turret
TurretTurnRate         20
NaturalTurretAngle     180
RecenterTime           99999999999
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End

PackTime  2673
UnpackTime  2673
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  No
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking

End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerRussiaT1

SelectPortrait  SURecyclerRusT1_L
ButtonImage     SURecyclerRusT1

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_RecyclerFlatbed01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecylrB
End

ConditionState  REALLYDAMAGED
Model  UVRecylrB_D
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERLINK
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_RussiaTier1

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecRuT1
Turret  Turret
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  SPARK01 SparksSmall
ParticleSysBone  SPARK02 SparksSmall
ParticleSysBone  SPARK03 TeslaTankCoilSparkFlare
ParticleSysBone  SPARK04 TeslaTankCoilSparkFlare
ParticleSysBone  SPARK05 TeslaTankCoilSparkFlare
End

ConditionState  REALLYDAMAGED
Model  UVRecRuT1_D
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Nada
RightFrontTireBone           Nada
MidLeftRearTireBone          Nada
MidRightRearTireBone         Nada
LeftRearTireBone             Nada
RightRearTireBone            Nada

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

;If you read this this is a special i made for doomhammers special stream so keep it hush hush (secret) :)
;  Draw  W3DTruckDraw ModuleTag_RussiaTier1_666Follower
;
;    OkToChangeModelColor  Yes
;    ParticlesAttachedToAnimatedBones  Yes
;
;    DefaultConditionState
;      Model  DVHammer
;      Turret  Turret
;      WeaponFireFXBone  PRIMARY Muzzle
;    End
;
;    Dust                     Nada
;    DirtSpray                Nada
;    PowerslideSpray          Nada
;
;    CabBone  CABDUMMY
;    TrailerBone  TRAILERDUMMY
;    CabRotationMultiplier  1.0
;    TrailerRotationMultiplier  1.0
;
;    LeftFrontTireBone            Nada
;    RightFrontTireBone           Nada
;    MidLeftRearTireBone          Nada
;    MidRightRearTireBone         Nada
;    LeftRearTireBone             Nada
;    RightRearTireBone            Nada
;
;    TireRotationMultiplier       0.2   ; this * speed  rotation.
;    PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.
;
;    RotationDamping  0.7
;
;  End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT1Russia
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          250
ShroudClearingRange  300

WeaponSet
Conditions         None

Weapon             PRIMARY   RecyclerTeslaTankWeapon ; RecyclerChainLightningTeslaWeapon
;Weapon             SECONDARY RecyclerChainLightningTeslaJumpOneTriggerWeapon

End

WeaponSet
Conditions         HERO

Weapon             PRIMARY  HeroicRecyclerTeslaTankWeapon ;   RecyclerChainLightningTeslaWeaponHeroic
;Weapon             SECONDARY RecyclerChainLightningTeslaJumpOneTriggerWeaponHeroic

End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50  100 150  ;Experience point value at each level
ExperienceRequired       0  100 150 300  ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GenericCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerRussiaT1VoiceSelect
VoiceMove                RecyclerrRussiaT1VoiceMove
VoiceAttack              RecyclerrRussiaT1VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrRussiaT1VoiceMove
VoiceEnter             RecyclerrRussiaT1VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  360
ControlledWeaponSlots  PRIMARY SECONDARY
End
TurretsLinked  Yes
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
MoodAttackCheckRate  30
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerGLAT2

SelectPortrait  SURecyclerGLAT2_L
ButtonImage     SURecyclerGLAT2

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_GLATier2Light

DefaultConditionState
Model  UVRecGLT2_A1
Animation  UVRecGLT2_A1.UVRecGLT2_A1
AnimationMode  LOOP
End

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

End

Draw  W3DTruckDraw ModuleTag_GLATier2

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecGLT2
Animation  UVRecGLT2.UVRecGLT2
AnimationMode  ONCE_BACKWARDS
HideSubObject  Tanker02
End
AliasConditionState  RIDER1

ConditionState  RIDER1 REALLYDAMAGED
Model  UVRecGLT2_D
Animation  UVRecGLT2_D.UVRecGLT2_D
AnimationMode  ONCE_BACKWARDS
HideSubObject  Tanker02
End
AliasConditionState  RIDER1 RUBBLE

ConditionState  RIDER2
Model  UVRecGLT2
Animation  UVRecGLT2.UVRecGLT2
AnimationMode  ONCE
HideSubObject  Tanker02
End

ConditionState  RIDER2 REALLYDAMAGED
Model  UVRecGLT2_D
Animation  UVRecGLT2_D.UVRecGLT2_D
AnimationMode  ONCE
HideSubObject  Tanker02
End
AliasConditionState  RIDER2 RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

MidLeftRearTireBone          Tire01
MidRightRearTireBone         Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT2GLA
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          250
ShroudClearingRange  300

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  SECONDARY SuicideWeapon
End
WeaponSet
Conditions  WEAPON_RIDER2
Weapon  SECONDARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50 50 50 ;Experience point value at each level
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect              RecyclerGLAT2VoiceSelect
VoiceMove                RecyclerrGLAT2VoiceMove
VoiceAttack              RecyclerrGLAT2VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrGLAT2VoiceMove
VoiceEnter             RecyclerrGLAT2VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ;SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL
ExemptStatus  STATUS_RIDER6
DestructionDelay  2000
DestructionDelayVariance  500
FX      INITIAL FX_CrusaderCatchFire
FX      FINAL   FX_RecyclerAnthraxAlphaExplosion
OCL     FINAL   OCL_ToxinTankerRecyclerDeathEffect
Weapon  FINAL   ToxinRecyclerDetonationWeapon
End

Behavior  SlowDeathBehavior ModuleTag_Beta05
DeathTypes  ALL
RequiredStatus  STATUS_RIDER6
DestructionDelay  2000
DestructionDelayVariance  500
FX      INITIAL FX_CrusaderCatchFire
FX      FINAL   FX_RecyclerAnthraxBetaExplosion
OCL     FINAL   OCL_ToxinTankerAnthraxBetaRecyclerDeathEffect
Weapon  FINAL   ToxinRecyclerDetonationWeapon
End

Behavior  StatusBitsUpgrade ModuleTag_BetaStatus
TriggeredBy    Upgrade_GLAAnthraxBeta
StatusToSet    STATUS_RIDER6
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleRecyclerToxinTankerCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleRecyclerToxinTankerCommandSet SET_NORMAL

;;;;Anthrax Beta
Rider3  GenericFakeRider3_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER3 GLAVehicleRecyclerToxinTankerUpgradedCommandSet SET_NORMAL
Rider4  GenericFakeRider4_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER4 GLAVehicleRecyclerToxinTankerUpgradedCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  FireWeaponUpdate ModuleTag_Transform04
Weapon  GenericCollisionDummyWeapon
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    GrenadierSwitchToHighExplosiveRounds
RequiredStatus   STATUS_RIDER2 STATUS_RIDER7
ForbiddenStatus  STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    STATUS_RIDER7
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform08
CollideWeapon    GrenadierSwitchToHighAirburstRounds
RequiredStatus   STATUS_RIDER1 REPULSOR
ForbiddenStatus  STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  STATUS_RIDER7
End

Behavior  FireWeaponCollide ModuleTag_Transform134232
CollideWeapon   RecyclerToxinTankerPolutionWeapon
RequiredStatus  STATUS_RIDER2
ForbiddenStatus  STATUS_RIDER8
End

;Anthrax Beta Upgrade Triggers
Behavior  StatusBitsUpgrade ModuleTag_Transform11
TriggeredBy    Upgrade_GLAAnthraxBeta
StatusToSet    STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform12
TriggeredBy    Upgrade_GLAAnthraxBeta
UpgradeObject  OCL_GenericCollisionObjectDummy
End

;Anthrax Beta Primary Unit Mode Triggers
Behavior  FireWeaponCollide ModuleTag_Transform13 ;This module switches out our rider if we are currently in submachinegun mode
CollideWeapon    GrenadierSwitchToHighExplosiveWithCanisterRounds
RequiredStatus   STATUS_RIDER1 STATUS_RIDER8
End

Behavior  FireWeaponCollide ModuleTag_Transform14 ;This module replaced the standard rider replacement code
CollideWeapon    GrenadierSwitchToHighExplosiveWithCanisterRounds
RequiredStatus   STATUS_RIDER4 STATUS_RIDER7 STATUS_RIDER8
End

;Anthrax Beta Secondary Unit Mode Triggers
Behavior  FireWeaponCollide  ModuleTag_Transform15 ;This module switches out our rider if we are currently in mortar mode
CollideWeapon    GrenadierSwitchToHighAirburstWithCanisterRounds
RequiredStatus   STATUS_RIDER2 STATUS_RIDER8
End

Behavior  FireWeaponCollide  ModuleTag_Transform16 ;This module replaced the standard rider replacement code
CollideWeapon    GrenadierSwitchToHighAirburstWithCanisterRounds
RequiredStatus   STATUS_RIDER3 REPULSOR STATUS_RIDER8
End

Behavior  FireWeaponCollide ModuleTag_Transform154232
CollideWeapon   RecyclerToxinTankerPolutionWeaponUpgraded
RequiredStatus  STATUS_RIDER4 STATUS_RIDER8
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  SubObjectsUpgrade ModuleTag_17
TriggeredBy     Upgrade_GLAAnthraxBeta
HideSubObjects  Tanker01
ShowSubObjects  Tanker02
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerGLAT1

SelectPortrait  SURecyclerGLAT1_L
ButtonImage     SURecyclerGLAT1

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_GLATier1

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecGLT1
Animation  UVRecGLT1.UVRecGLT1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
TransitionKey  TRANS_IDLE
ShowSubObject  SCRAP
End

ConditionState  DOOR_1_OPENING
Model  UVRecGLT1
Animation  UVRecGLT1.UVRecGLT1
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  DOOR_1_WAITING_OPEN
Model  UVRecGLT1
Animation  UVRecGLT1.UVRecGLT1
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

ConditionState  DOOR_1_CLOSING
Model  UVRecGLT1
Animation  UVRecGLT1.UVRecGLT1
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  SCRAP
End

ConditionState  REALLYDAMAGED
Model  UVRecGLT1_D
Animation  UVRecGLT1_D.UVRecGLT1_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
TransitionKey  TRANS_IDLE
ShowSubObject  SCRAP
End

ConditionState  REALLYDAMAGED DOOR_1_OPENING
Model  UVRecGLT1_D
Animation  UVRecGLT1_D.UVRecGLT1_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED DOOR_1_WAITING_OPEN
Model  UVRecGLT1_D
Animation  UVRecGLT1_D.UVRecGLT1_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE

ConditionState  REALLYDAMAGED DOOR_1_CLOSING
Model  UVRecGLT1_D
Animation  UVRecGLT1_D.UVRecGLT1_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  SCRAP
End

CabBone  CABDUMMY
TrailerBone  TRAILERLINK
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

MidLeftRearTireBone          Tire01
MidRightRearTireBone         Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT1GLA
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          250
ShroudClearingRange  300

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50 50 50 ;Experience point value at each level
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAVehicleRecyclerSalvageTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerGLAT1VoiceSelect
VoiceMove                RecyclerrGLAT1VoiceMove
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrGLAT1VoiceMove
VoiceEnter             RecyclerrGLAT1VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ;SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  ProductionUpdate ModuleTag_BuildSalvageCrate01
MaxQueueEntries               1
NumDoorAnimations             1
DoorOpeningTime               1200  ;in mSeconds
DoorWaitOpenTime              1200  ;in mSeconds
DoorCloseTime                 2000  ;in mSeconds
ConstructionCompleteDuration  1200  ;in mSeconds
End

Behavior  DefaultProductionExitUpdate ModuleTag_BuildSalvageCrate02
UnitCreatePoint    X:  -35.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:  -35.0  Y:0.0  Z:0.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End

;------------------------------------------------------------------------------
Object GLAVehicleRecyclerSalvageCratePurchaseDummyObject

; *** ART Parameters ***
ButtonImage             SSRecyclerSalvage

; ***DESIGN parameters ***
Side  Europe
EditorSorting      SYSTEM

BuildCost          300
BuildTime          1.0           ; in seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
;  UnitSpecificSounds
;    VoiceCreate          PlaceBuilding
;  End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  1
MaxLifetime  1
End

Behavior  CreateObjectDie ModuleTag_0552
CreationList  OCL_RecyclerCreateSalvageCrate
End

End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerECAT2

SelectPortrait  SURecyclerECAT2_L
ButtonImage     SURecyclerECAT2

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTankTruckDraw ModuleTag_ECATier2

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

;Normal State
ConditionState       NONE
Model              UVRecECT2
Animation          UVRecECT2.UVRecECT2
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
TurretPitch        TURRETEL
ParticleSysBone    FX01 MicrowaveLenzflare
End

ConditionState       USING_WEAPON_A
Model              UVRecECT2
Animation          UVRecECT2.UVRecECT2
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
TurretPitch        TURRETEL
ParticleSysBone    FX01 MicrowaveLenzflare
End
AliasConditionState  USING_WEAPON_B
AliasConditionState  USING_WEAPON_C

;Damaged State
ConditionState       REALLYDAMAGED
Model              UVRecECT2_D
Animation          UVRecECT2_D.UVRecECT2_D
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
TurretPitch        TURRETEL
ParticleSysBone    FX01 MicrowaveLenzflare
End
AliasConditionState  RUBBLE

ConditionState       REALLYDAMAGED USING_WEAPON_A
Model              UVRecECT2_D
Animation          UVRecECT2_D.UVRecECT2_D
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
TurretPitch        TURRETEL
ParticleSysBone    FX01 MicrowaveLenzflare
End
AliasConditionState  REALLYDAMAGED USING_WEAPON_B
AliasConditionState  REALLYDAMAGED USING_WEAPON_C

TrackMarks  EXTnkTrack.tga

TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone   CABDUMMY01 ;this one is actualy a dummy bone that is required to make the trailer work
RightFrontTireBone  CABDUMMY02 ;the actual trailer
TireRotationMultiplier  0.0   ; the actual trailer set to zero and keep it that way unless you like spinning trailers :)
PowerslideRotationAddition  0 ; the actual trailer set to zero and keep it that way unless you like spinning trailers :)

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT2ECA
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          250
ShroudClearingRange  300

WeaponSet
Conditions         None

Weapon             PRIMARY   RecyclerMicrowaveDeathRayVehicleWeapon
PreferredAgainst   PRIMARY   VEHICLE
Weapon             SECONDARY RecyclerMicrowaveDeathRayInfantryWeapon
PreferredAgainst   SECONDARY INFANTRY
Weapon             TERTIARY  RecyclerMicrowaveDeathRayBuildingWeapon
PreferredAgainst   TERTIARY  STRUCTURE

End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 100 200 400  ;Experience point value at each level
ExperienceRequired       0 400 600 1000  ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GenericCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerECAT2VoiceSelect
VoiceMove                RecyclerrECAT2VoiceMove
VoiceAttack              RecyclerrECAT2VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrECAT2VoiceMove
VoiceEnter             RecyclerrECAT2VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03

Turret
TurretTurnRate         50
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
FiresWhileTurning      Yes
MinIdleScanInterval    2000    ; in milliseconds
MaxIdleScanInterval    8000    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking

End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerECAT1

SelectPortrait  SURecyclerECAT1_L
ButtonImage     SURecyclerECAT1

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_RecyclerFlatbed01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecylrB
End

ConditionState  REALLYDAMAGED
Model  UVRecylrB_D
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERLINK
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_ChinaECA1

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecEuT1
Turret  Turret
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
End

ConditionState  REALLYDAMAGED
Model  UVRecEuT1_D
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Nada
RightFrontTireBone           Nada
MidLeftRearTireBone          Nada
MidRightRearTireBone         Nada
LeftRearTireBone             Nada
RightRearTireBone            Nada

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT1ECA
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          250
ShroudClearingRange  300

WeaponSet
Conditions         None

Weapon             PRIMARY   RecyclerPenetratorTankGun

Weapon             SECONDARY RecyclerPenetratorTankGunDualFireMode
AutoChooseSources  SECONDARY NONE

Weapon             TERTIARY  RecyclerPenetratorTankGunQuadFireMode
AutoChooseSources  TERTIARY  NONE

ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50  100 150  ;Experience point value at each level
ExperienceRequired       0  100 150 300  ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAVehicleRecyclerECATierOneCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerECAT1VoiceSelect
VoiceMove                RecyclerrECAT1VoiceMove
VoiceAttack              RecyclerrECAT1VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrECAT1VoiceMove
VoiceEnter             RecyclerrECAT1VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         60
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  30
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerChinaT1

SelectPortrait  SURecyclerChiT1_L
ButtonImage     SURecyclerChiT1

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_RecyclerFlatbed01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecylrB
End

ConditionState  REALLYDAMAGED
Model  UVRecylrB_D
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERLINK
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_ChinaTier1

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  UVRecChT1
Animation  UVRecChT1.UVRecChT1
AnimationMode  LOOP
Turret  Turret
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
ParticleSysBone    EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  REALLYDAMAGED
Model  UVRecChT1_D
Animation  UVRecChT1_D.UVRecChT1_D
AnimationMode  LOOP
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Nada
RightFrontTireBone           Nada
MidLeftRearTireBone          Nada
MidRightRearTireBone         Nada
LeftRearTireBone             Nada
RightRearTireBone            Nada

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT1China
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          250
ShroudClearingRange  300

WeaponSet
Conditions         None
Weapon             PRIMARY RecyclerFlameThrowerWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50  100 150  ;Experience point value at each level
ExperienceRequired       0  100 150 300  ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GenericCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerChinaT1VoiceSelect
VoiceMove                RecyclerrChinaT1VoiceMove
VoiceAttack              RecyclerrChinaT1VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart
SoundAmbient             RecyclerFlamethrowerDieselEngineLoop

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrChinaT1VoiceMove
VoiceEnter             RecyclerrChinaT1VoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         60
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  30
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleRecyclerChinaT2

SelectPortrait  SURecyclerChiT2_L
ButtonImage     SURecyclerChiT2

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_ChinaTier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY
MaxRecoilDistance     2
RecoilSettleSpeed     2

;Normal State
ConditionState       NONE
Model              UVRecChT2
Animation          UVRecChT2.UVRecChT2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      DEPLOYED
ShowSubObject      UNDEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End

;Deploying State
ConditionState       UNPACKING
Model              UVRecChT2
Animation          UVRecChT2.UVRecChT2
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject      NONE
ShowSubObject      DEPLOYED UNDEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End

;Deployed State
ConditionState       DEPLOYED
Model              UVRecChT2
Animation          UVRecChT2.UVRecChT2
AnimationMode      ONCE
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject      UNDEPLOYED
ShowSubObject      DEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End

;Undeploying State
ConditionState       PACKING
Model              UVRecChT2
Animation          UVRecChT2.UVRecChT2
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject      NONE
ShowSubObject      DEPLOYED UNDEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End

;Damaged State
ConditionState       REALLYDAMAGED
Model              UVRecChT2_D
Animation          UVRecChT2_D.UVRecChT2_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      DEPLOYED
ShowSubObject      UNDEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End
AliasConditionState  RUBBLE

;Damaged Deploying State
ConditionState       REALLYDAMAGED UNPACKING
Model              UVRecChT2_D
Animation          UVRecChT2_D.UVRecChT2_D
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject      NONE
ShowSubObject      DEPLOYED UNDEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End

;Damaged Deployed State
ConditionState       REALLYDAMAGED DEPLOYED
Model              UVRecChT2_D
Animation          UVRecChT2_D.UVRecChT2_D
AnimationMode      ONCE
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject      UNDEPLOYED
ShowSubObject      DEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End
AliasConditionState  RUBBLE DEPLOYED

;Damaged Undeploying State
ConditionState       REALLYDAMAGED PACKING
Model              UVRecChT2_D
Animation          UVRecChT2_D.UVRecChT2_D
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject      NONE
ShowSubObject      DEPLOYED UNDEPLOYED
Turret             TURRET
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End

;Special disguised conditions

;Normal State
ConditionState       DISGUISED
Model              UVRecChT2
Animation          UVRecChT2.UVRecChT2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      DEPLOYED
ShowSubObject      UNDEPLOYED
Turret             TURRET
TurretArtAngle     180
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End

;Damaged State
ConditionState       DISGUISED REALLYDAMAGED
Model              UVRecChT2_D
Animation          UVRecChT2_D.UVRecChT2_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      DEPLOYED
ShowSubObject      UNDEPLOYED
Turret             TURRET
TurretArtAngle     180
WeaponLaunchBone   PRIMARY WeaponA
WeaponFireFXBone   PRIMARY Muzzle
WeaponRecoilBone   PRIMARY Recoil
End
AliasConditionState  DISGUISED RUBBLE


Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERDUMMY
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

MidRightMidTireBone          Tire01
MidLeftMidTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RecyclerT2China
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            10.0      ;in seconds
VisionRange          150
ShroudClearingRange  150

WeaponSet
Conditions         None

Weapon             PRIMARY RecyclerEmpCannonWeapon

Weapon             TERTIARY RecyclerTremorCannonDeployWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50 50 50 ;Experience point value at each level
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAVehicleRecyclerChinaTierTwoCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerChinaT2VoiceSelect
VoiceMove                RecyclerrChinaT2VoiceMove
VoiceAttack              RecyclerrChinaT2VoiceAttack
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerrChinaT2VoiceMove
VoiceEnter             RecyclerrChinaT2VoiceMove
TurretMoveLoop         RecyclerEmpCannonTurretMoveLoop
Deploy                 RecyclerEmpCannonDeploy
Undeploy               RecyclerEmpCannonUnDeploy
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DeployStyleAIUpdate ModuleTag_03

Turret
TurretTurnRate         20
NaturalTurretAngle     180
RecenterTime           99999999999
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End

PackTime  2970
UnpackTime  2970
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  No
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking

End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleRecycler

SelectPortrait  SURecycler_L
ButtonImage     SURecycler

Draw  W3DTruckDraw ModuleTag_RecyclerCabbin01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVRecylr
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVRecylr_D
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

Draw  W3DTruckDraw ModuleTag_RecyclerDumpster01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

;Idle Animations
ConditionState  NONE
Model  UVRecylrA
Animation  UVRecylrA_SKL.UVRecylrA_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
TransitionKey  TRANS_IDLE
HideSubObject  CRATE01
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_A

;Salvage Recovery Animations
ConditionState  FIRING_B
Model  UVRecylrC
Animation  UVRecylrA_SKL.UVRecylrA_A1
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  CRATE01
TransitionKey  TRANS_START_FIRING
End

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

CabBone  CABDUMMY
TrailerBone  TRAILERLINK
CabRotationMultiplier  1.0
TrailerRotationMultiplier  1.0

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0.2   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks  EXTireTrack.tga

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Recycler
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1400
BuildTime            14.0      ;in seconds
VisionRange          150
ShroudClearingRange  200

WeaponSet
Conditions         None
Weapon             SECONDARY RecyclerRecoverSalvageWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  GLABlackMarket
End

ExperienceValue          50 50 50 50 ;Experience point value at each level
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GLAVehicleRecyclerCommandSet

; *** AUDIO Parameters ***
VoiceSelect              RecyclerVoiceSelect
VoiceMove                RecyclerVoiceMove
SoundMoveStart           RecyclerTruckMoveStart
SoundMoveStartDamaged    RecyclerTruckMoveStart

UnitSpecificSounds
VoiceCreate            RecyclerVoiceCreate
VoiceCrush             RecyclerVoiceMove
VoiceEnter             RecyclerVoiceMove
VoiceFlameLocation     RecyclerVoiceRecoverSalvage
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ;EMP_HARDENED

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL VehicleRecyclerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

;;;;Special Upgrade Code Start;;;;
;everything in this section controls the part where the recycler "upgrades" its self into a different type of vehicle by replacing the object completely

Behavior  ProductionUpdate ModuleTag_UpgradeRecycler01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;USA Tier1 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler02
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER1
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler03
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER1
CreationList            OCL_RecyclerUpgradeToTechUSATier1
TransferPreviousHealth  Yes
End

;USA Tier2 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler04
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER2
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler05
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER2
CreationList            OCL_RecyclerUpgradeToTechUSATier2
TransferPreviousHealth  Yes
End

;China Tier1 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler06
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER3
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler07
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER3
CreationList            OCL_RecyclerUpgradeToTechChinaTier1
TransferPreviousHealth  Yes
End

;China Tier2 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler08
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER4
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler09
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER4
CreationList            OCL_RecyclerUpgradeToTechChinaTier2
TransferPreviousHealth  Yes
End

;GLA Tier1 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler10
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER5
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler11
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER5
CreationList            OCL_RecyclerUpgradeToTechGLATier1
TransferPreviousHealth  Yes
End

;GLA Tier2 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler12
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER6
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler13
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER6
CreationList            OCL_RecyclerUpgradeToTechGLATier2
TransferPreviousHealth  Yes
End

;Russia Tier1 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler14
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER7
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler15
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER7
CreationList            OCL_RecyclerUpgradeToTechRussiaTier1
TransferPreviousHealth  Yes
End

;Russia Tier2 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler16
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  STATUS_RIDER8
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler17
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER8
CreationList            OCL_RecyclerUpgradeToTechRussiaTier2
TransferPreviousHealth  Yes
End

;ECA Tier1 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler18
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  IS_CARBOMB
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler19
DeathTypes              NONE +SUICIDED
RequiredStatus          IS_CARBOMB
CreationList            OCL_RecyclerUpgradeToTechEuropeTier1
TransferPreviousHealth  Yes
End

;ECA Tier2 Upgrade
Behavior  FireWeaponCollide ModuleTag_UpgradeRecycler20
CollideWeapon   RecyclerSuicideWeapon
RequiredStatus  RECONSTRUCTING
End

Behavior                  CreateObjectDie ModuleTag_UpgradeRecycler21
DeathTypes              NONE +SUICIDED
RequiredStatus          RECONSTRUCTING
CreationList            OCL_RecyclerUpgradeToTechEuropeTier2
TransferPreviousHealth  Yes
End

Behavior  DefaultProductionExitUpdate ModuleTag_UpgradeRecycler22
UnitCreatePoint    X:  0.0   Y:0.0  Z:0.0
NaturalRallyPoint  X:  80.0  Y:0.0  Z:0.0
End

Behavior  FireWeaponUpdate ModuleTag_UpgradeRecycler23
Weapon  GenericCollisionDummyWeapon
End

Behavior  SlowDeathBehavior ModuleTag_UpgradeRecycler24
DestructionDelay   100
DeathTypes         NONE +SUICIDED
End

;;;;Special Upgrade Code End;;;;

Behavior  AutoHealBehavior ModuleTag_JunkRepair01
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -SUICIDED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RecyclerDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;Repair Aura Ability
Behavior            OCLSpecialPower ModuleTag_Repair01
SpecialPowerTemplate  SpecialAbilityRecyclerRepairAura
OCL                   OCL_RecyclerAreaRepairAuraAbility
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_Repair02
CollideWeapon   RecyclerAreaRepairWeapon
RequiredStatus  WET
End

Behavior  FireWeaponUpdate ModuleTag_RecoveryDecal01
Weapon  RecyclerRecoveryAreaDecalWeapon
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  12.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End
;------------------------------------------------------------------------------
Object GLAVehicleQuadCannon

; *** ART Parameters ***
SelectPortrait          SUQuadCannon_L
ButtonImage             SUQuadCannon

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVQdCnn
End
End

Prerequisites
Object GLAArmsDealer
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicle
End

; set cost and time fields here or else they won't work
BuildCost        800
BuildTime        9.0           ;in seconds

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleQuadCannon_Var1 GLAVehicleQuadCannon_Var2 GLAVehicleQuadCannon_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
Object GLAVehicleQuadCannon_Var1

; *** ART Parameters ***
SelectPortrait          SUQuadCannon_L
ButtonImage             SUQuadCannon

Draw  W3DTankTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
RecoilSettleSpeed     20
MaxRecoilDistance     2.5

ConditionState  NONE
Model  UVQdCnn
Animation  UVQdCnn.UVQdCnn
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03
End

ConditionState  USING_WEAPON_B
Model  UVQdCnn
Animation  UVQdCnn.UVQdCnn
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03
End


;Salavge 1
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnn
Animation  UVQdCnn.UVQdCnn
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnn
Animation  UVQdCnn.UVQdCnn
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03
End


;Salavge 2
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnn
Animation  UVQdCnn.UVQdCnn
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnn
Animation  UVQdCnn.UVQdCnn
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02
End


;;;;;ReallyDamaged and Rubble States


ConditionState  REALLYDAMAGED
Model  UVQdCnn_D
Animation  UVQdCnn_D.UVQdCnn_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model  UVQdCnn_D
Animation  UVQdCnn_D.UVQdCnn_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End
AliasConditionState  RUBBLE


;Salavge 1
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnn_D
Animation  UVQdCnn_D.UVQdCnn_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnn_D
Animation  UVQdCnn_D.UVQdCnn_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;Salavge 2
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnn_D
Animation  UVQdCnn_D.UVQdCnn_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnn_D
Animation  UVQdCnn_D.UVQdCnn_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;Canister Gun Upgrade conditions
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnn
HideSubObject  TURRET01 TURRET02 TURRET03
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnn_D
HideSubObject  TURRET01 TURRET02 TURRET03
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO


TrackMarks  EXTnkTrack.tga

TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This unit doesn't powerslide.
End

Draw                       W3DModelDraw ModuleTag_ECATier1

OkToChangeModelColor  Yes
RecoilSettleSpeed     15

DefaultConditionState
Model                  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  USING_WEAPON_B
AliasConditionState  USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED USING_WEAPON_B
AliasConditionState  REALLYDAMAGED USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03
End


;Salavge 1
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03
End


;Salavge 2
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02
End


;;;;;ReallyDamaged and Rubble States


ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE


;Salavge 1
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;Salavge 2
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VAR2 VAR3
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE

ConditionState  USER_1
Model  UVQdNk
Animation  UVQdNk.UVQdNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVQdNk
Animation  UVQdNk.UVQdNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVQdNk_D
Animation  UVQdNk_D.UVQdNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVQdNk_D
Animation  UVQdNk_D.UVQdNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End
AliasConditionState  RUBBLE USER_1


End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARB VARC
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVQdBomb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVQdBomb_D
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:QuadCannon
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

;Normal
WeaponSet
Conditions  None
Weapon  PRIMARY QuadCannonGun
Weapon  SECONDARY QuadCannonGunAir
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  CRATEUPGRADE_ONE
Weapon  PRIMARY QuadCannonGunUpgradeOne
Weapon  SECONDARY QuadCannonGunUpgradeOneAir
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  CRATEUPGRADE_TWO
Weapon  PRIMARY QuadCannonGunUpgradeTwo
Weapon  SECONDARY QuadCannonGunUpgradeTwoAir
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End

;Cannister Gun
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY QuadCannonCanisterGun
Weapon  SECONDARY QuadCannonCanisterGunAir
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_ONE
Weapon  PRIMARY QuadCannonCanisterGunUpgradeOne
Weapon  SECONDARY QuadCannonCanisterGunUpgradeOneAir
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_TWO
Weapon  PRIMARY QuadCannonCanisterGunUpgradeTwo
Weapon  SECONDARY QuadCannonCanisterGunUpgradeTwoAir
Weapon  TERTIARY SuicideWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            QuadCannonArmor
DamageFX         TankDamageFX
End

Prerequisites
Object GLAArmsDealer
End

BuildCost        800
BuildTime        9.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

CommandSet           GLAVehicleQuadCannonCommandSet

ExperienceValue     50 50 100 150   ;Experience point value at each level
ExperienceRequired  0 80 200 300    ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            QuadCannonVoiceSelect
VoiceMove              QuadCannonVoiceMove
VoiceAttack            QuadCannonVoiceAttack
VoiceAttackAir         QuadCannonVoiceAttackAir
SoundMoveStart         QuadCannonMoveStart
SoundMoveStartDamaged  QuadCannonMoveStart
VoiceGuard              QuadCannonVoiceMove
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          QuadCannonVoiceCreate
TurretMoveStart       NoSound
TurretMoveLoop        TurretMoveLoop
; Required for the W3DTruckDraw module
TruckLandingSound     NoSound
TruckPowerslideSound  NoSound
VoiceSalvage          QuadCannonVoiceSalvage
VoiceCrush            QuadCannonVoiceCrush
VoiceEnter              QuadCannonVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  440
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  360
TurretPitchRate  360
AllowsPitch  Yes
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End

Locomotor  SET_NORMAL QuadCannonLocomotor
Locomotor  SET_NORMAL_UPGRADED QuadCannonUpgradedLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;ECA Canister Guns
Behavior  WeaponSetUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

;China Nuclear Engine
Behavior  ModelConditionUpgrade ModuleTag_RecyclerUpgrade02
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  LocomotorSetUpgrade ModuleTag_RecyclerUpgrade03
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade04
DeathWeapon    NuclearTankDeathWeapon
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerWorthlessCommandSet
End

;GLA Suicide Packs
Behavior  ModelConditionUpgrade ModuleTag_RecyclerUpgrade05
ConditionFlag  USER_2
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade06
DeathWeapon    RecycleSuicidePackExplosionWeapon
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_RecyclerUpgrade07
CommandSet     GLAVehicleQuadCannonUpgradedCommandSet
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  411
DestructionDelay  150
DestructionDelayVariance  250
OCL  FINAL    OCL_QuadCannonDeathEffect
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  AutoHealBehavior ModuleTag_06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; A crushing defeat
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_11
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  WeaponBonusUpgrade ModuleTag_12
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  DestroyDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicle
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleQuadCannon_Var2 GLAVehicleQuadCannon_Var1

Draw  W3DTankTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
RecoilSettleSpeed     20
MaxRecoilDistance     2.5

ConditionState  NONE
Model  UVQdCnn2
Animation  UVQdCnn2.UVQdCnn2
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03
End

ConditionState  USING_WEAPON_B
Model  UVQdCnn2
Animation  UVQdCnn2.UVQdCnn2
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03
End


;Salavge 1
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnn2
Animation  UVQdCnn2.UVQdCnn2
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnn2
Animation  UVQdCnn2.UVQdCnn2
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03
End


;Salavge 2
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnn2
Animation  UVQdCnn2.UVQdCnn2
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnn2
Animation  UVQdCnn2.UVQdCnn2
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02
End


;;;;;ReallyDamaged and Rubble States


ConditionState  REALLYDAMAGED
Model  UVQdCnn2_D
Animation  UVQdCnn2_D.UVQdCnn2_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model  UVQdCnn2_D
Animation  UVQdCnn2_D.UVQdCnn2_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End
AliasConditionState  RUBBLE


;Salavge 1
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnn2_D
Animation  UVQdCnn2_D.UVQdCnn2_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnn2_D
Animation  UVQdCnn2_D.UVQdCnn2_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;Salavge 2
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnn2_D
Animation  UVQdCnn2_D.UVQdCnn2_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnn2_D
Animation  UVQdCnn2_D.UVQdCnn2_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;Canister Gun Upgrade conditions
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnn2
HideSubObject  TURRET01 TURRET02 TURRET03
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnn2_D
HideSubObject  TURRET01 TURRET02 TURRET03
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO


TrackMarks  EXTnkTrack.tga

TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This unit doesn't powerslide.
End

Draw                       W3DModelDraw ModuleTag_ECATier1

OkToChangeModelColor  Yes
RecoilSettleSpeed     15

DefaultConditionState
Model                  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  USING_WEAPON_B
AliasConditionState  USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED USING_WEAPON_B
AliasConditionState  REALLYDAMAGED USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03
End


;Salavge 1
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03
End


;Salavge 2
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02
End


;;;;;ReallyDamaged and Rubble States


ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE


;Salavge 1
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;Salavge 2
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VAR1 VAR3
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE

ConditionState  USER_1
Model  UVQdNk
Animation  UVQdNk.UVQdNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVQdNk
Animation  UVQdNk.UVQdNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVQdNk_D
Animation  UVQdNk_D.UVQdNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVQdNk_D
Animation  UVQdNk_D.UVQdNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End
AliasConditionState  RUBBLE USER_1


End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARB
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVQdBomb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVQdBomb_D
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleQuadCannon_Var3 GLAVehicleQuadCannon_Var1

Draw  W3DTankTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
RecoilSettleSpeed     20
MaxRecoilDistance     2.5

ConditionState  NONE
Model  UVQdCnn3
Animation  UVQdCnn3.UVQdCnn3
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03
End

ConditionState  USING_WEAPON_B
Model  UVQdCnn3
Animation  UVQdCnn3.UVQdCnn3
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03
End


;Salavge 1
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnn3
Animation  UVQdCnn3.UVQdCnn3
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03
End

ConditionState  WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnn3
Animation  UVQdCnn3.UVQdCnn3
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03
End


;Salavge 2
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnn3
Animation  UVQdCnn3.UVQdCnn3
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnn3
Animation  UVQdCnn3.UVQdCnn3
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02
End


;;;;;ReallyDamaged and Rubble States


ConditionState  REALLYDAMAGED
Model  UVQdCnn3_D
Animation  UVQdCnn3_D.UVQdCnn3_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model  UVQdCnn3_D
Animation  UVQdCnn3_D.UVQdCnn3_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End
AliasConditionState  RUBBLE


;Salavge 1
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnn3_D
Animation  UVQdCnn3_D.UVQdCnn3_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnn3_D
Animation  UVQdCnn3_D.UVQdCnn3_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;Salavge 2
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnn3_D
Animation  UVQdCnn3_D.UVQdCnn3_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnn3_D
Animation  UVQdCnn3_D.UVQdCnn3_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;Canister Gun Upgrade conditions
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnn3
HideSubObject  TURRET01 TURRET02 TURRET03
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnn3_D
HideSubObject  TURRET01 TURRET02 TURRET03
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO


TrackMarks  EXTnkTrack.tga

TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This unit doesn't powerslide.
End

Draw                       W3DModelDraw ModuleTag_ECATier1

OkToChangeModelColor  Yes
RecoilSettleSpeed     15

DefaultConditionState
Model                  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  USING_WEAPON_B
AliasConditionState  USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED USING_WEAPON_B
AliasConditionState  REALLYDAMAGED USING_WEAPON_B WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED USING_WEAPON_B WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03
End


;Salavge 1
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03
End


;Salavge 2
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnnstr
Animation  UVQdCnnstr.UVQdCnnstr
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02
End


;;;;;ReallyDamaged and Rubble States


ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   PRIMARY MuzzleFX1
WeaponMuzzleFlash  PRIMARY MuzzleFX1
WeaponLaunchBone   PRIMARY MuzzleFX1
WeaponRecoilBone   PRIMARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET01
TurretPitch  TURRETEL01
WeaponFireFXBone   SECONDARY MuzzleFX1
WeaponMuzzleFlash  SECONDARY MuzzleFX1
WeaponLaunchBone   SECONDARY MuzzleFX1
WeaponRecoilBone   SECONDARY Barrel
HideSubObject  TURRET02 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE


;Salavge 1
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   PRIMARY MuzzleFX2
WeaponMuzzleFlash  PRIMARY MuzzleFX2
WeaponLaunchBone   PRIMARY MuzzleFX2
WeaponRecoilBone   PRIMARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET02
TurretPitch  TURRETEL02
WeaponFireFXBone   SECONDARY MuzzleFX2
WeaponMuzzleFlash  SECONDARY MuzzleFX2
WeaponLaunchBone   SECONDARY MuzzleFX2
WeaponRecoilBone   SECONDARY Barrel2
HideSubObject  TURRET01 TURRET03 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;Salavge 2
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   PRIMARY MuzzleFX3
WeaponMuzzleFlash  PRIMARY MuzzleFX3
WeaponLaunchBone   PRIMARY MuzzleFX3
WeaponRecoilBone   PRIMARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO USING_WEAPON_B
Model  UVQdCnnstr_D
Animation  UVQdCnnstr_D.UVQdCnnstr_D
AnimationMode  LOOP
Turret  TURRET03
TurretPitch  TURRETEL03
WeaponFireFXBone   SECONDARY MuzzleFX3
WeaponMuzzleFlash  SECONDARY MuzzleFX3
WeaponLaunchBone   SECONDARY MuzzleFX3
WeaponRecoilBone   SECONDARY Barrel3
HideSubObject  TURRET01 TURRET02 TURRET04
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ChinaTier2

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VAR1 VAR2
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE

ConditionState  USER_1
Model  UVQdNk
Animation  UVQdNk.UVQdNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 MOVING
Model  UVQdNk
Animation  UVQdNk.UVQdNk
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End

ConditionState  REALLYDAMAGED USER_1
Model  UVQdNk_D
Animation  UVQdNk_D.UVQdNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USER_1 MOVING
Model  UVQdNk_D
Animation  UVQdNk_D.UVQdNk_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  FLAME01 FlameTowerBurnerFire
ParticleSysBone  FLAME02 FlameTowerBurnerFire
ParticleSysBone  FLAME03 FlameTowerBurnerFire
ParticleSysBone  FLAME04 FlameTowerBurnerFire
End
AliasConditionState  RUBBLE USER_1


End

Draw  W3DModelDraw ModuleTag_GLATier1

DefaultConditionState
Model  NVDeva_U2
HideSubObject  VARA VARC
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE USER_2

ConditionState  USER_2
Model  UVQdBomb
End

ConditionState  REALLYDAMAGED USER_2
Model  UVQdBomb_D
End

End

End
;------------------------------------------------------------------------------
Object GLAVehicleRadarVan

; *** ART Parameters ***
SelectPortrait          SURadarVan_L
ButtonImage             SURadarVan

Draw  W3DOverlordTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone  GPSFX01

ConditionState  None
Model  UVObsVan
Animation  UVObsVan.UVObsVan
AnimationMode  LOOP
HideSubObject  Upgrade01 Upgrade02
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED
Model  UVObsVan_D
Animation  UVObsVan_D.UVObsVan_D
AnimationMode  LOOP
HideSubObject  Upgrade01 Upgrade02
Flags  MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  RUBBLE

;Stealth Detection Upgrade
ConditionState  DOOR_3_OPENING
Model  UVObsVan
Animation  UVObsVan.UVObsVan
AnimationMode  LOOP
HideSubObject  Upgrade02
ShowSubObject  Upgrade01
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  DISH GLAVanRadarEffect
End

ConditionState  DOOR_3_OPENING REALLYDAMAGED
Model  UVObsVan_D
Animation  UVObsVan_D.UVObsVan_D
AnimationMode  LOOP
HideSubObject  Upgrade02
ShowSubObject  Upgrade01
Flags  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  DISH GLAVanRadarEffect
End
AliasConditionState  DOOR_3_OPENING RUBBLE

TrackMarks  EXTireTrack.tga

LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  2.5   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_EngineExhaust01

ConditionState         NONE
Model                UVObsVan_B
ParticleSysBone      EXHAUST01 GLATankEngineSmokeLight
End

ConditionState         MOVING
Model                UVObsVan_B
ParticleSysBone      EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RadarVan
Side  GLA
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)


WeaponSet
Conditions  None
Weapon             PRIMARY   SupportVehicleDummyWeapon
End


ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

BuildCost        200
BuildTime        5.0          ;in seconds
VisionRange      200
ShroudClearingRange  500

IsTrainable  No
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAVehicleRadarVanCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RadarVanVoiceSelect
VoiceMove  RadarVanVoiceMove
VoiceAttack  RadarVanVoiceMove
SoundMoveStart  RadarVanMoveStart
SoundMoveStartDamaged  RadarVanMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate  RadarVanVoiceCreate
VoiceCrush   RadarVanVoiceCrush
VoiceEnter   RadarVanVoiceMove
DisguiseStarted          BombTruckDisguiseStarted
DisguiseRevealedSuccess  BombTruckDisguiseRevealedSuccess
DisguiseRevealedFailure  BombTruckDisguiseRevealedFailure
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE CAN_ATTACK IGNORES_SELECT_ALL CANNOT_RETALIATE DISGUISER

Body  ActiveBody ModuleTag_02
MaxHealth        150
InitialHealth    150

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

ExperienceValue     5 5 5 5     ;Experience point value at each level


Behavior  AutoHealBehavior ModuleTag_08
HealingAmount  3
HealingDelay  500 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  AIUpdateInterface ModuleTag_09
Turret
TurretTurnRate  999999
ControlledWeaponSlots  PRIMARY SECONDARY
End
MoodAttackCheckRate         33
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL RadarVanLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

; The default explosion
Behavior  SlowDeathBehavior  ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay  0
DestructionDelayVariance  200
FX  FINAL FX_BuggyNewDeathExplosion
OCL  FINAL OCL_RadarVanDeathEffect
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Stealth Detection Equipment

Behavior  ObjectCreationUpgrade ModuleTag_RadarScan01
UpgradeObject  OCL_RadarVanScan
TriggeredBy    Upgrade_GLARadarVanScan
End

Behavior  ModelConditionUpgrade ModuleTag_RadarScan02
ConditionFlag  DOOR_3_OPENING
TriggeredBy    Upgrade_GLARadarVanScan
End

Behavior  CommandSetUpgrade ModuleTag_RadarScan03
TriggeredBy  Upgrade_GLARadarVanScan
CommandSet   GLAVehicleRadarVanScanUpgradedCommandSet
End

Behavior  ObjectCreationUpgrade ModuleTag_RadarScan04
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_RadarScan05
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       ObservationVanDetectionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        ObservationVanDetectionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  ObservationVanDetectionRangeIndicatorDecalWeapon
End

Behavior  StealthDetectorUpdate ModuleTag_RadarScan06
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE  ; with this module only mines
End

Behavior  StealthDetectorUpdate ModuleTag_RadarScan07
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP  ; with this module only demotraps
End

Behavior  MaxHealthUpgrade ModuleTag_RadarScan08
TriggeredBy    Upgrade_EuropeCeramicArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

;Disguise Modules

Behavior  SpecialAbility ModuleTag_Disguise01
SpecialPowerTemplate  SpecialAbilityDisguiseAsVehicle
UpdateModuleStartsAttack  Yes
;InitiateSound  BombTruckVoiceDisguise
End

Behavior  SpecialAbilityUpdate ModuleTag_Disguise02
SpecialPowerTemplate  SpecialAbilityDisguiseAsVehicle
StartAbilityRange  1000000.0
ApproachRequiresLOS  No
End

Behavior  StealthUpdate ModuleTag_Disguise03
StealthDelay                           1
DisguisesAsTeam                        Yes
RevealDistanceFromTarget               100.0
OrderIdleEnemiesToAttackMeUponReveal   Yes
DisguiseFX                             FX_BombTruckDisguise
DisguiseRevealFX                       FX_BombTruckDisguiseReveal
InnateStealth                          Yes
DisguiseTransitionTime                 2000
DisguiseRevealTransitionTime           1000
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Disguise05 ; allows use of command button hunt script with this unit.
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_17
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_18
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior                  TransitionDamageFX ModuleTag_19
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  6.0
GeometryHeight  12.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ;minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAObservationVanDetectionRangeIndicatorDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                20.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End
;------------------------------------------------------------------------------
;The Marauder Tank, for the Warlord General.
Object GLATankMarauder

; *** ART Parameters ***
SelectPortrait          SUMarauder_L
ButtonImage             SUMarauder

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVMrdr
End
End

; set cost and time fields here or else they won't work
BuildCost        1100
BuildTime        8.0          ;in seconds

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
Science SCIENCE_Rank2
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLATankMarauder_Var1 GLATankMarauder_Var2 GLATankMarauder_Var3 GLATankMarauder_Var4

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
Object GLATankMarauder_Var1

; *** ART Parameters ***
SelectPortrait          SUMarauder_L
ButtonImage             SUMarauder

Draw  W3DTankDraw ModuleTag_CHASSIS01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVMrdr
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVMrdr
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVMrdr_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVMrdr_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVMrdr
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVMrdr_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVMrdr
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVMrdr
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_D
Animation  UVMrdr_D.UVMrdr_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr_DA1
Animation  UVMrdr_DA1.UVMrdr_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_Headlight01

ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  NIGHT
Model  UVMrdr
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADING
Model  UVMrdr
Animation  UVMrdr.UVMrdr
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADED
Model  UVMrdr_A1
Animation  UVMrdr_A1.UVMrdr_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Marauder
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

;Default Weapon Sets
WeaponSet
Conditions  None
Weapon  PRIMARY MarauderTankGun
End
WeaponSet
Conditions  CRATEUPGRADE_ONE
Weapon  PRIMARY MarauderTankGunUpgradeOne

End
WeaponSet
Conditions  CRATEUPGRADE_TWO
Weapon  PRIMARY MarauderTankGunUpgradeTwo
End

;Rocket Weapon Sets
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY MarauderTankGun
PreferredAgainst  PRIMARY INFANTRY
Weapon  TERTIARY  MarauderRocketWeapon
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_ONE
Weapon  PRIMARY MarauderTankGunUpgradeOne
PreferredAgainst  PRIMARY INFANTRY
Weapon  TERTIARY  MarauderRocketWeaponPlusOne
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_TWO
Weapon  PRIMARY MarauderTankGunUpgradeTwo
PreferredAgainst  PRIMARY INFANTRY
Weapon  TERTIARY  MarauderRocketWeaponPlusTwo
End

ArmorSet
Conditions       None
Armor            MarauderTankArmor
DamageFX         TankDamageFX
End

;Upgraded with Russian ERA

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            MarauderEraTankArmor
DamageFX         TankEraDamageFX
End

BuildCost        1200
BuildTime        8.0          ;in seconds

VisionRange      250
ShroudClearingRange  275

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
End

ExperienceValue     80 80 150 300   ;Experience point value at each level
ExperienceRequired  0 200 300 600   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet            GLATankMarauderCommandSet

; *** AUDIO Parameters ***
VoiceSelect  MarauderTankVoiceSelect
VoiceMove  MarauderTankVoiceMove
VoiceGuard  MarauderTankVoiceMove
VoiceAttack  MarauderTankVoiceAttack
SoundMoveStart  MarauderTankMoveStart
SoundMoveStartDamaged  MarauderTankMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      MarauderTankVoiceCreate
;TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
VoiceSalvage  MarauderTankVoiceSalvage
VoiceCrush  MarauderTankVoiceCrush
VoiceEnter  MarauderTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        500.0
InitialHealth    500.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  860
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         50
TurretPitchRate        50
AllowsPitch            Yes
MinPhysicalPitch       -10
NaturalTurretPitch     5
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL MarauderLocomotor
Locomotor  SET_NORMAL_UPGRADED MarauderHoverLocomotor MarauderOverWaterHoverLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Russian ERA Armor
Behavior  ArmorUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  ModelConditionUpgrade ModuleTag_RecyclerUpgrade02
ConditionFlag  GARRISONED
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerRealCommandSet
End

;American Hover Engine
Behavior  PowerPlantUpgrade ModuleTag_RecyclerUpgrade03
TriggeredBy  Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  PowerPlantUpdate ModuleTag_RecyclerUpgrade04
RodsExtendTime  825
End

Behavior  LocomotorSetUpgrade ModuleTag_RecyclerUpgrade05
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  MaxHealthUpgrade ModuleTag_RecyclerUpgrade06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
AddMaxHealth   -100.0 ;20% less heatlh
ChangeType     PRESERVE_RATIO
End

;GLA Rocket Upgrade
Behavior  WeaponSetUpgrade ModuleTag_RecyclerUpgrade07
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  AutoHealBehavior ModuleTag_SelfHeal01
HealingAmount  4.0
HealingDelay  500
StartHealingDelay  5000
StartsActive  Yes
End

Behavior  AutoHealBehavior ModuleTag_05
HealingAmount  2
HealingDelay  500 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

;Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
ExemptStatus  STATUS_RIDER8
ProbabilityModifier  50
DestructionDelay  2200
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_MarauderTankDeathEffect
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

;Hover Drive Death
Behavior  SlowDeathBehavior ModuleTag_0622131
DeathTypes  ALL
RequiredStatus  STATUS_RIDER8
ProbabilityModifier  50
DestructionDelay  2200
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_MarauderTankHoverdriveDeathEffect
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  StatusBitsUpgrade ModuleTag_06221314
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     STATUS_RIDER8
ConflictsWith   Upgrade_GLAWorkerWorthlessCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  CreateCrateDie ModuleTag_07
CrateData  SalvageCrateDataGLATier1
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; A crushing defeat
Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  ModelConditionUpgrade ModuleTag_UpgradeVissual01
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAToxinShells
End

Geometry  BOX
GeometryMajorRadius  17.0
GeometryMinorRadius  10.0
GeometryHeight  9.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------------------------------------------------
ObjectReskin GLATankMarauder_Var2 GLATankMarauder_Var1

Draw  W3DTankDraw ModuleTag_CHASSIS01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVMrdr2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVMrdr2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVMrdr2_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVMrdr2_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01 ROLLER_L ROLLER_R ROLLERS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

;Mine Rollers
Draw  W3DTruckDraw ModuleTag_Rollers01

ConditionState  NONE
Model  UVMrdr2
ShowSubObject  ROLLER_L ROLLER_R
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01 ROLLERS
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  ROLLERS
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01  ROLLER_L ROLLER_R
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  ROLLERS
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01  ROLLER_L ROLLER_R
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVMrdr2_D
ShowSubObject  ROLLER_L ROLLER_R
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01 ROLLERS
End
AliasConditionState  RUBBLE

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  ROLLERS
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01  ROLLER_L ROLLER_R
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  ROLLERS
HideSubObject  CHASSIS TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01  ROLLER_L ROLLER_R
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone            ROLLER_L
RightFrontTireBone           ROLLER_R
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVMrdr2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVMrdr2_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVMrdr2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVMrdr2
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ROLLER_L ROLLER_R ROLLERS
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ROLLER_L ROLLER_R ROLLERS
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_D
Animation  UVMrdr2_D.UVMrdr2_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr2_DA1
Animation  UVMrdr2_DA1.UVMrdr2_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ROLLER_L ROLLER_R ROLLERS
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_Headlight01

ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  NIGHT
Model  UVMrdr2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;transition to hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADING
Model  UVMrdr2
Animation  UVMrdr2.UVMrdr2
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

;hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADED
Model  UVMrdr2_A1
Animation  UVMrdr2_A1.UVMrdr2_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 ROLLER_L ROLLER_R ROLLERS
End

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

End

;------------------------------------------------------------------------------
ObjectReskin GLATankMarauder_Var3 GLATankMarauder_Var1

Draw  W3DTankDraw ModuleTag_CHASSIS01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVMrdr3
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVMrdr3
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVMrdr3_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVMrdr3_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVMrdr3
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVMrdr3_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVMrdr3
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr3
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVMrdr3
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_D
Animation  UVMrdr3_D.UVMrdr3_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr3_DA1
Animation  UVMrdr3_DA1.UVMrdr3_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_Headlight01

ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  NIGHT
Model  UVMrdr3
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADING
Model  UVMrdr3
Animation  UVMrdr3.UVMrdr3
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADED
Model  UVMrdr3_A1
Animation  UVMrdr3_A1.UVMrdr3_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

End

;------------------------------------------------------------------------------
ObjectReskin GLATankMarauder_Var4 GLATankMarauder_Var1

Draw  W3DTankDraw ModuleTag_CHASSIS01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVMrdr4
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVMrdr4
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADING MOVING
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  POWER_PLANT_UPGRADED MOVING
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;damaged conditions
ConditionState  REALLYDAMAGED
Model  UVMrdr4_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED MOVING
Model  UVMrdr4_D
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADNL01 TREADNR01 FAN01 FAN02 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING MOVING
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED MOVING
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject  FAN01 FAN02 TREADNL01 TREADNR01
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03 TREADSL01 TREADSR01 LIGHT01
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

TrackMarks  EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes
RecoilSettleSpeed  4

;no crate upgrade
ConditionState  NONE
Model  UVMrdr4
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;crate upgrade one
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;crate upgrade two
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED
Model  UVMrdr4_D
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELA
HideSubObject  TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelA
WeaponMuzzleFlash  PRIMARY MuzzleFXA
WeaponLaunchBone   PRIMARY MuzzleA
WeaponFireFXBone   PRIMARY MuzzleA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELB
HideSubObject  TURRETA TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelB
WeaponMuzzleFlash  PRIMARY MuzzleFXB
WeaponLaunchBone   PRIMARY MuzzleB
WeaponFireFXBone   PRIMARY MuzzleB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
TurretPitch  TURRETELC
HideSubObject  TURRETA TURRETB CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponRecoilBone   PRIMARY BarrelC
WeaponMuzzleFlash  PRIMARY MuzzleFXC
WeaponLaunchBone   PRIMARY MuzzleC
WeaponFireFXBone   PRIMARY MuzzleC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_ToxinShell01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  USER_1
Model  UVMrdr4
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;crate upgrade one
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;crate upgrade two
ConditionState  USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING USER_1
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED USER_1
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED USER_1
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1

;crate upgrade one
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE USER_1 WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING USER_1 WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK01
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK02
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  TOXINTANK03
HideSubObject  TURRETA TURRETB TURRETC CHASSIS LIGHT01 RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 ARMOR01 ARMOR02 ARMOR03
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED USER_1 WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_GLATier1Rockets

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

ConditionState  NONE
Model  NVDeva_U2
WeaponLaunchBone   TERTIARY WeaponB
WeaponFireFXBone   TERTIARY WeaponB
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr4
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;crate upgrade one
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;crate upgrade two
ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;transition to hover upgrade
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;transition to hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;transition to hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;hover upgrade
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End

;hover upgrade + crate upgrade one
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End

;hover upgrade + crate upgrade two
ConditionState  POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE

;crate upgrade one
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODA
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketA
WeaponFireFXBone   TERTIARY RocketA
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODB
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketB
WeaponFireFXBone   TERTIARY RocketB
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  RPODC
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
WeaponLaunchBone   TERTIARY RocketC
WeaponFireFXBone   TERTIARY RocketC
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_RussiaTier2Era

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

;no crate upgrade
ConditionState  GARRISONED
Model  UVMrdr4
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03
End

;crate upgrade one
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;crate upgrade two
ConditionState  GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End

;transition to hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End

;transition to hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;transition to hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;hover upgrade
ConditionState  GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End

;hover upgrade + crate upgrade one
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;hover upgrade + crate upgrade two
ConditionState  GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End

;damaged conditions

;no crate upgrade
ConditionState  REALLYDAMAGED GARRISONED
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED

;crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_ONE

;crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Turret  TURRET
ShowSubObject  ARMOR01 ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 MISSLERACKA MISSLERACKB MISSLERACKB MISSLERACKC
End
AliasConditionState  RUBBLE GARRISONED WEAPONSET_CRATEUPGRADE_TWO

;transition to hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING

;transition to hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_ONE

;transition to hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_D
Animation  UVMrdr4_D.UVMrdr4_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADING WEAPONSET_CRATEUPGRADE_TWO

;hover upgrade
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR03
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED

;hover upgrade + crate upgrade one
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_ONE

;hover upgrade + crate upgrade two
ConditionState  REALLYDAMAGED GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO
Model  UVMrdr4_DA1
Animation  UVMrdr4_DA1.UVMrdr4_DA1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
Turret  TURRET
ShowSubObject  ARMOR02 ARMOR03
HideSubObject  CHASSIS LIGHT01 TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01
End
AliasConditionState  RUBBLE GARRISONED POWER_PLANT_UPGRADED WEAPONSET_CRATEUPGRADE_TWO

End

Draw  W3DModelDraw ModuleTag_Headlight01

ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  NIGHT
Model  UVMrdr4
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;transition to hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADING
Model  UVMrdr4
Animation  UVMrdr4.UVMrdr4
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

;hover upgrade
ConditionState  NIGHT POWER_PLANT_UPGRADED
Model  UVMrdr4_A1
Animation  UVMrdr4_A1.UVMrdr4_A1
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  TURRETA TURRETB TURRETC RPODA RPODB RPODC TOXINTANK01 TOXINTANK02 TOXINTANK03 ARMOR01 ARMOR02 ARMOR03
End

End

Draw  W3DModelDraw ModuleTag_DownDraftEffects01

ConditionState  NONE
Model  NONE
End
AliasConditionState    OVER_WATER
AliasConditionState    SNOW
AliasConditionState    SNOW OVER_WATER

ConditionState  POWER_PLANT_UPGRADED
Model            NONE
ParticleSysBone  NONE ShattererDownDraft
End

ConditionState  POWER_PLANT_UPGRADED SNOW
Model            NONE
ParticleSysBone  NONE ShattererDownDraftSnow
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model            NONE
ParticleSysBone  NONE AmphibWaveRest
ParticleSysBone  NONE HoverCraftLandingShipEffect
End
AliasConditionState    POWER_PLANT_UPGRADED SNOW OVER_WATER

End

End
;------------------------------------------------------------------------------
Object GLAVehicleGrad

; *** ART Parameters ***
SelectPortrait          SUBM21_L
ButtonImage             SUBM21

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVGradA
End
End

; set cost and time fields here or else they won't work
BuildCost        1500
BuildTime        14.0    ;in seconds

Prerequisites
Object  GLAPalace
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleGrad_Var1 GLAVehicleGrad_Var2 GLAVehicleGrad_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
Object GLAVehicleGrad_Var1

; *** ART Parameters ***
SelectPortrait          SUBM21_L
ButtonImage             SUBM21

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVGradA
End

ConditionState  REALLYDAMAGED
Model  UVGradA_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Turrret01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVGradTrrt
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  RUBBLE

;Salvage 1

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradTrrt
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE

ConditionState  WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE RUBBLE

;Salvage 2

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO RUBBLE

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

;When upgraded with Guided Missile

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED


End

Draw                       W3DModelDraw ModuleTag_USATier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
TransitionKey  TRANS_UNUPGRADED
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  ATTACKING
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_TWO

;No Salvage
TransitionState  TRANS_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

;Salvage 2
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

;No Salvage Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

;Salvage 2 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:BM21Grad
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   10

WeaponSet
Conditions  None
Weapon  PRIMARY GLABM21GradRocketLauncherWeapon
Weapon  SECONDARY GLABM21GradRocketLauncherWeaponSingleFire
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End
WeaponSet
Conditions  CRATEUPGRADE_ONE
Weapon  PRIMARY GLABM21GradRocketLauncherWeaponUpgrade1
Weapon  SECONDARY GLABM21GradRocketLauncherWeaponSingleFireUpgrade1
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End
WeaponSet
Conditions  CRATEUPGRADE_TWO
Weapon  PRIMARY GLABM21GradRocketLauncherWeaponUpgrade2
Weapon  SECONDARY GLABM21GradRocketLauncherWeaponSingleFireUpgrade2
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;With Missile Upgrade
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY GLABM21MissileLauncher
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_ONE
Weapon  PRIMARY GLABM21MissileLauncherPlusOne
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_TWO
Weapon  PRIMARY GLABM21MissileLauncherPlusTwo
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

BuildCost        1500
BuildTime        14.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  GLAPalace
End

ExperienceValue     75 100 150 200   ;Experience point value at each level
ExperienceRequired  0 200 400 800   ;Experience points needed to gain each levell
IsTrainable            Yes             ;Can gain experience
CrusherLevel           2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel         2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet             GLABM21GradCommandSet

; *** AUDIO Parameters ***
VoiceSelect            BM21GradVoiceSelect
VoiceMove              BM21GradVoiceMove
VoiceGuard             BM21GradVoiceMove
VoiceAttack            BM21GradVoiceAttack
SoundMoveStart         BM21GradTruckMoveStart
SoundMoveStartDamaged  BM21GradTruckMoveStart

UnitSpecificSounds
VoiceCreate           BM21GradVoiceCreate
VoiceCrush            BM21GradVoiceAttack
VoiceEnter            BM21GradVoiceMove
VoicePrimaryWeaponMode    BM21GradVoiceBarrageMode
VoiceSecondaryWeaponMode  BM21GradVoiceSustainedMode
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER DONT_AUTO_CRUSH_INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        200
InitialHealth    200
SubdualDamageCap  400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  30
TurretPitchRate  30
AllowsPitch  Yes
FirePitch  30
NaturalTurretPitch  5
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End

Locomotor  SET_NORMAL Bm21Locomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_09
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_GLABM21GradDeathEffect
FX   FINAL    FX_ScudLauncherExplosionOneFinal
End

; A crushing defeat
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_Damage09
;ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_22
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_Repair06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;USA Guided Missile Upgrade
Behavior  WeaponSetUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_RecyclerUpgrade02
CommandSet     GLABM21GradUpgradedCommandSet
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CreateCrateDie ModuleTag_salvage25
CrateData  SalvageCrateDataGLATier2
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------------------------------------------------
ObjectReskin GLAVehicleGrad_Var2 GLAVehicleGrad_Var1

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVGradB
End

ConditionState  REALLYDAMAGED
Model  UVGradB_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Turrret01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVGradTrrt
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  RUBBLE

;Salvage 1

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradTrrt
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE

ConditionState  WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE RUBBLE

;Salvage 2

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO RUBBLE

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

;When upgraded with Guided Missile

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED


End

Draw                       W3DModelDraw ModuleTag_USATier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
TransitionKey  TRANS_UNUPGRADED
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  ATTACKING
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_TWO

;No Salvage
TransitionState  TRANS_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

;Salvage 2
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

;No Salvage Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

;Salvage 2 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

End

End



;------------------------------------------------------------------------------
ObjectReskin GLAVehicleGrad_Var3 GLAVehicleGrad_Var1

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVGradC
End

ConditionState  REALLYDAMAGED
Model  UVGradC_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Turrret01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVGradTrrt
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  RUBBLE

;Salvage 1

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradTrrt
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE

ConditionState  WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE RUBBLE

;Salvage 2

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO RUBBLE

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

;When upgraded with Guided Missile

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED


End

Draw                       W3DModelDraw ModuleTag_USATier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
TransitionKey  TRANS_UNUPGRADED
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  ATTACKING
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_TWO

;No Salvage
TransitionState  TRANS_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

;Salvage 2
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

;No Salvage Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

;Salvage 2 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

End

End
;------------------------------------------------------------------------------
Object GLAVehicleDemoTruck

; *** ART Parameters ***
SelectPortrait          SUDemoTruck_L
ButtonImage             SUDemoTruck

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
; give it a model so it'll show up in WB
Model  UVDemoTrck
End
End

; set cost and time fields here or else they won't work
BuildCost        1000
BuildTime        10.0         ;in seconds

Prerequisites
Object  GLABlackMarket
;Science  SCIENCE_HighExplosiveCaches
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleDemoTruck_Var1 GLAVehicleDemoTruck_Var2 GLAVehicleDemoTruck_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE TRANSPORT

End

;------------------------------------------------------------------------------
Object GLAVehicleDemoTruck_Var1

; *** ART Parameters ***
SelectPortrait          SUDemoTruck_L
ButtonImage             SUDemoTruck

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                UVDemoTrck
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeLight
End
AliasConditionState    RIDER1 RIDER2

ConditionState         MOVING
Model                UVDemoTrck
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
End
AliasConditionState    MOVING RIDER1 RIDER2

ConditionState         REALLYDAMAGED
Model                UVDemoTrck_D
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeLight
End
AliasConditionState    REALLYDAMAGED RIDER1 RIDER2

ConditionState         REALLYDAMAGED MOVING
Model                UVDemoTrck_D
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
End
AliasConditionState    REALLYDAMAGED MOVING RIDER1 RIDER2

ConditionState         RUBBLE
Model                UVDemoTrck_D1
End
AliasConditionState    RUBBLE RIDER1 RIDER2

TrackMarks                   EXTireTrack.tga
Dust                         TechnicalDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2        ; this * speed  rotation.
PowerslideRotationAddition   2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Trap01

OkToChangeModelColor  Yes

ConditionState         NONE
Model                UVDemoTrck
Animation            UVDemoTrck.UVDemoTrck
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS
ShowSubObject        BOMB01 RAMP
TransitionKey        TRANS_ARMED
End
AliasConditionState    RIDER1

TransitionState        TRANS_ARMED TRANS_EMPTY
Model                UVDemoTrck
Animation            UVDemoTrck.UVDemoTrck
AnimationMode        ONCE
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
End

ConditionState         RIDER2
Model                UVDemoTrck
Animation            UVDemoTrck.UVDemoTrck
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
TransitionKey        TRANS_EMPTY
End

;;;;;Really Damaged

ConditionState         REALLYDAMAGED
Model                UVDemoTrck_D
Animation            UVDemoTrck_D.UVDemoTrck_D
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS
ShowSubObject        BOMB01 RAMP
TransitionKey        TRANS_ARMED_DAMAGED
End
AliasConditionState    REALLYDAMAGED RIDER1

TransitionState        TRANS_ARMED_DAMAGED TRANS_EMPTY_DAMAGED
Model                UVDemoTrck_D
Animation            UVDemoTrck_D.UVDemoTrck_D
AnimationMode        ONCE
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
End

ConditionState         REALLYDAMAGED RIDER2
Model                UVDemoTrck_D
Animation            UVDemoTrck_D.UVDemoTrck_D
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
TransitionKey        TRANS_EMPTY_DAMAGED
End

ConditionState         RUBBLE
Model                NONE
End
AliasConditionState    RUBBLE RIDER1
AliasConditionState    RUBBLE RIDER2

End

Draw  W3DModelDraw ModuleTag_HeadLights01

ConditionState  NONE
Model  UVDemoTrck_N
End
AliasConditionState  REALLYDAMAGED

ConditionState  RUBBLE
Model  NONE
End

End

Draw  W3DModelDraw ModuleTag_ChinaTier1

DefaultConditionState
Model  UVDTkNplA
HideSubObject  NAPALM
End

ConditionState  REALLYDAMAGED
Model  UVDTkNplA_D
End

End

Draw  W3DModelDraw ModuleTag_ECATier2

DefaultConditionState
Model  UVDTkCBmbA
HideSubObject  SHELL01 WIREO01 TAPE01
End

ConditionState  REALLYDAMAGED
Model  UVDTkCBmbA_D
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:DemoTruck
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  3

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   DemoTruckSuicideWeapon
Weapon             SECONDARY DemoTruckSuicideWeapon
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   DemoTruckSuicideWeapon
Weapon             SECONDARY DemoTruckSuicideWeapon
End

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End

BuildCost        800
BuildTime        10.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  GLABlackMarket
;    Science  SCIENCE_HighExplosiveCaches
End

IsTrainable  No
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            DemoTruckVoiceSelect
VoiceMove              DemoTruckVoiceMove
VoiceAttack            DemoTruckVoiceAttack
SoundMoveStart         TechnicalMoveStart
SoundMoveStartDamaged  TechnicalMoveStart

UnitSpecificSounds
VoiceCreate      DemoTruckVoiceCreate
VoiceCrush       DemoTruckVoiceMove
VoiceEnter       DemoTruckVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE GARRISONABLE_UNTIL_DESTROYED

Body  ActiveBody ModuleTag_02
MaxHealth        160.0
InitialHealth    160.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

ExperienceValue      30 30 30 30  ; Experience point value at each level


Behavior  AutoHealBehavior ModuleTag_08
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL GLAVehicleDemoTruckLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  40.0
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Napalm Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ShowSubObjects  NAPALM
ConflictsWith   Upgrade_GLAWorkerRealCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade02
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
DeathWeapon    DemoTruckNapalmDeathExplosionWeapon
StartsActive   No
ConflictsWith  Upgrade_GLAWorkerRealCommandSet
End

;Cluster Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade03
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
ShowSubObjects  SHELL01 WIREO01 TAPE01
ConflictsWith   Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade04
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
DeathWeapon    DemoTruckClusterBombDeathExplosionWeapon
StartsActive   No
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; The default explosion
Behavior  SlowDeathBehavior ModuleTag_11
RequiredStatus  STATUS_RIDER2
ExemptStatus  STATUS_RIDER1
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_GLADemoTruckDeathEffect
FX  INITIAL FX_DemoTruckDeathGroundPart
OCL  FINAL OCL_RocketBuggyAirDeath
FX  FINAL FX_RocketBuggyAirDeathAirPart
End

Behavior  SlowDeathBehavior ModuleTag_1125782
RequiredStatus  STATUS_RIDER1
ExemptStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_GLADemoTruckArmedDeathEffect
FX  INITIAL FX_DemoTruckDeathGroundPart
OCL  FINAL OCL_RocketBuggyAirDeath
FX  FINAL FX_RocketBuggyAirDeathAirPart
End

;The detonation without a demotrap
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Armed01
RequiredStatus   STATUS_RIDER2
ExemptStatus     STATUS_RIDER1
DeathWeapon      DemoTruckSuicideDynamiteDetonationWeapon
StartsActive     Yes
DeathTypes       ALL +SUICIDED +CRUSHED +SPLATTED +TOPPLED
End

;The detonation with a demotrap
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Armed02
RequiredStatus   STATUS_RIDER1
ExemptStatus     STATUS_RIDER2
DeathWeapon      DemoTruckSuicideDemoTrapDetonationWeapon
StartsActive     Yes
DeathTypes       ALL +SUICIDED +CRUSHED +SPLATTED +TOPPLED
End

;***************************************
;******Transformation Code Start********
;***************************************

Behavior  RiderChangeContain ModuleTag_DemoTrap01

;Armed with demotrap
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleDemoTruckArmedCommandSet SET_NORMAL

;Demotrap dropped
Rider2  GenericFakeRider2_Default_Rank  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleDemoTruckEmptyCommandSet SET_NORMAL

ScuttleDelay           1500
ScuttleStatus          TOPPLED

Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
AllowInsideKindOf      CAN_ATTACK
End

Behavior  ProductionUpdate ModuleTag_DemoTrap02
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_DemoTrap03
UpgradeObject  OCL_DemoTruckNewDemoTrapPurchased
TriggeredBy    Upgrade_DemoTruckPurchaseDemoTrap
End

Behavior  ObjectCreationUpgrade ModuleTag_DemoTrap04
UpgradeObject  OCL_DemoTruckDemoTrapPlaced
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

;*************************************
;******Transformation Code End********
;*************************************

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3        ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  CreateCrateDie ModuleTag_15
CrateData  SalvageCrateDataGLATier1
End

; A crushing defeat
Behavior  FXListDie ModuleTag_17
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_18
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior                  TransitionDamageFX ModuleTag_19
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

;This module is required to make the GPS scrambler work
Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  17.5
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleDemoTruck_Var2 GLAVehicleDemoTruck_Var1

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                UVDemoVan
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeLight
End
AliasConditionState    RIDER1 RIDER2

ConditionState         MOVING
Model                UVDemoVan
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
End
AliasConditionState    MOVING RIDER1 RIDER2

ConditionState         REALLYDAMAGED
Model                UVDemoVan_D
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeLight
End
AliasConditionState    REALLYDAMAGED RIDER1 RIDER2

ConditionState         REALLYDAMAGED MOVING
Model                UVDemoVan_D
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
End
AliasConditionState    REALLYDAMAGED MOVING RIDER1 RIDER2

ConditionState         RUBBLE
Model                UVDemoVan_D1
End
AliasConditionState    RUBBLE RIDER1 RIDER2

TrackMarks                   EXTireTrack.tga
Dust                         TechnicalDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire04
RightRearTireBone            Tire03
TireRotationMultiplier       0.2        ; this * speed  rotation.
PowerslideRotationAddition   2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Trap01

OkToChangeModelColor  Yes

ConditionState         NONE
Model                UVDemoVan
Animation            UVDemoVan.UVDemoVan
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS
ShowSubObject        BOMB01 RAMP
TransitionKey        TRANS_ARMED
End
AliasConditionState    RIDER1

TransitionState        TRANS_ARMED TRANS_EMPTY
Model                UVDemoVan
Animation            UVDemoVan.UVDemoVan
AnimationMode        ONCE
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
End

ConditionState         RIDER2
Model                UVDemoVan
Animation            UVDemoVan.UVDemoVan
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
TransitionKey        TRANS_EMPTY
End

;;;;;Really Damaged

ConditionState         REALLYDAMAGED
Model                UVDemoVan_D
Animation            UVDemoVan_D.UVDemoVan_D
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS
ShowSubObject        BOMB01 RAMP
TransitionKey        TRANS_ARMED_DAMAGED
End
AliasConditionState    REALLYDAMAGED RIDER1

TransitionState        TRANS_ARMED_DAMAGED TRANS_EMPTY_DAMAGED
Model                UVDemoVan_D
Animation            UVDemoVan_D.UVDemoVan_D
AnimationMode        ONCE
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
End

ConditionState         REALLYDAMAGED RIDER2
Model                UVDemoVan_D
Animation            UVDemoVan_D.UVDemoVan_D
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
TransitionKey        TRANS_EMPTY_DAMAGED
End

ConditionState         RUBBLE
Model                NONE
End
AliasConditionState    RUBBLE RIDER1
AliasConditionState    RUBBLE RIDER2

End

Draw  W3DModelDraw ModuleTag_HeadLights01

ConditionState  NONE
Model  UVDemoVan_N
End
AliasConditionState  REALLYDAMAGED

ConditionState  RUBBLE
Model  NONE
End

End

Draw  W3DModelDraw ModuleTag_ChinaTier1

DefaultConditionState
Model  UVDTkNplB
HideSubObject  NAPALM
End

ConditionState  REALLYDAMAGED
Model  UVDTkNplB_D
End

End

Draw  W3DModelDraw ModuleTag_ECATier2

DefaultConditionState
Model  UVDTkCBmbB
HideSubObject  SHELL01 WIREO01 TAPE01
End

ConditionState  REALLYDAMAGED
Model  UVDTkCBmbB_D
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleDemoTruck_Var3 GLAVehicleDemoTruck_Var1
Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                UVDemoTech
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeLight
End
AliasConditionState    RIDER1 RIDER2

ConditionState         MOVING
Model                UVDemoTech
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
End
AliasConditionState    MOVING RIDER1 RIDER2

ConditionState         REALLYDAMAGED
Model                UVDemoTech_D
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeLight
End
AliasConditionState    REALLYDAMAGED RIDER1 RIDER2

ConditionState         REALLYDAMAGED MOVING
Model                UVDemoTech_D
HideSubObject        BOMB01 RAMP
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
End
AliasConditionState    REALLYDAMAGED MOVING RIDER1 RIDER2

ConditionState         RUBBLE
Model                UVDemoTech_D1
End
AliasConditionState    RUBBLE RIDER1 RIDER2

TrackMarks                   EXTireTrack.tga
Dust                         TechnicalDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire04
RightRearTireBone            Tire03
TireRotationMultiplier       0.2        ; this * speed  rotation.
PowerslideRotationAddition   2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Trap01

OkToChangeModelColor  Yes

ConditionState         NONE
Model                UVDemoTech
Animation            UVDemoTech.UVDemoTech
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS
ShowSubObject        BOMB01 RAMP
TransitionKey        TRANS_ARMED
End
AliasConditionState    RIDER1

TransitionState        TRANS_ARMED TRANS_EMPTY
Model                UVDemoTech
Animation            UVDemoTech.UVDemoTech
AnimationMode        ONCE
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
End

ConditionState         RIDER2
Model                UVDemoTech
Animation            UVDemoTech.UVDemoTech
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
TransitionKey        TRANS_EMPTY
End

;;;;;Really Damaged

ConditionState         REALLYDAMAGED
Model                UVDemoTech_D
Animation            UVDemoTech_D.UVDemoTech_D
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS
ShowSubObject        BOMB01 RAMP
TransitionKey        TRANS_ARMED_DAMAGED
End
AliasConditionState    REALLYDAMAGED RIDER1

TransitionState        TRANS_ARMED_DAMAGED TRANS_EMPTY_DAMAGED
Model                UVDemoTech_D
Animation            UVDemoTech_D.UVDemoTech_D
AnimationMode        ONCE
Flags                START_FRAME_FIRST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
End

ConditionState         REALLYDAMAGED RIDER2
Model                UVDemoTech_D
Animation            UVDemoTech_D.UVDemoTech_D
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        CHASSIS BOMB01
ShowSubObject        RAMP
TransitionKey        TRANS_EMPTY_DAMAGED
End

ConditionState         RUBBLE
Model                NONE
End
AliasConditionState    RUBBLE RIDER1
AliasConditionState    RUBBLE RIDER2

End

Draw  W3DModelDraw ModuleTag_HeadLights01

ConditionState  NONE
Model  UVDemoTech_N
End
AliasConditionState  REALLYDAMAGED

ConditionState  RUBBLE
Model  NONE
End

End

Draw  W3DModelDraw ModuleTag_ChinaTier1

DefaultConditionState
Model  UVDTkNplC
HideSubObject  NAPALM
End

ConditionState  REALLYDAMAGED
Model  UVDTkNplC_D
End

End

Draw  W3DModelDraw ModuleTag_ECATier2

DefaultConditionState
Model  UVDTkCBmbC
HideSubObject  SHELL01 WIREO01 TAPE01
End

ConditionState  REALLYDAMAGED
Model  UVDTkCBmbC_D
End

End

End
;------------------------------------------------------------------------------
Object GLAVehicleCommandTruck

; *** ART Parameters ***
SelectPortrait          SUCmdTruck_L
ButtonImage             SUCmdTruck

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  None
Model  UVCmdTrkM
Animation  UVCmdTrkM.UVCmdTrkM
AnimationMode  LOOP
HideSubObject  UPGRADE01
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  MOVING
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A

ConditionState     UNPACKING
Model  UVCmdTrkM
Animation  UVCmdTrkM.UVCmdTrkM
AnimationMode  MANUAL
HideSubObject  UPGRADE01
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_C

ConditionState   DEPLOYED
Model  UVCmdTrkD
Animation  UVCmdTrkD.UVCmdTrkD
AnimationMode  LOOP
HideSubObject  UPGRADE01
End
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED MOVING

ConditionState     PACKING
Model  UVCmdTrkM
Animation  UVCmdTrkM.UVCmdTrkM
AnimationMode  MANUAL
HideSubObject  UPGRADE01
End
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_C


;;;Damaged Conditions

ConditionState  REALLYDAMAGED
Model  UVCmdTrkM_D
Animation  UVCmdTrkM_D.UVCmdTrkM_D
AnimationMode  LOOP
HideSubObject  UPGRADE01
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RUBBLE

ConditionState     REALLYDAMAGED UNPACKING
Model  UVCmdTrkM_D
Animation  UVCmdTrkM_D.UVCmdTrkM_D
AnimationMode  MANUAL
HideSubObject  UPGRADE01
End
AliasConditionState  REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_C

ConditionState   REALLYDAMAGED DEPLOYED
Model  UVCmdTrkD_D
Animation  UVCmdTrkD_D.UVCmdTrkD_D
AnimationMode  LOOP
HideSubObject  UPGRADE01
End
AliasConditionState  REALLYDAMAGED DEPLOYED FIRING_C
AliasConditionState  REALLYDAMAGED DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED DEPLOYED RELOADING_C
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING

ConditionState     REALLYDAMAGED PACKING
Model  UVCmdTrkM_D
Animation  UVCmdTrkM_D.UVCmdTrkM_D
AnimationMode  MANUAL
HideSubObject  UPGRADE01
End
AliasConditionState  REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_C



TrackMarks  EXTireTrack.tga

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust             RocketBuggyDust
DirtSpray        RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Stowage01

OkToChangeModelColor  Yes

ConditionState  None
Model  UVCmdTrkA
Animation  UVCmdTrkA.UVCmdTrkA
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  MOVING
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A

ConditionState     UNPACKING
Model  UVCmdTrkA
Animation  UVCmdTrkA.UVCmdTrkA
AnimationMode  MANUAL
ShowSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES STRAPS CRATES01 GUN CLOTH NET CRATES02
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_C

ConditionState   DEPLOYED
Model  UVCmdTrkA
Animation  UVCmdTrkA.UVCmdTrkA
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  BOX02 BOX03 NET CRATES01 CRATES02 STRAPS CLOTH GUN
ShowSubObject  SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES
End
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED MOVING

ConditionState     PACKING
Model  UVCmdTrkA
Animation  UVCmdTrkA.UVCmdTrkA
AnimationMode  MANUAL
ShowSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES STRAPS CRATES01 GUN CLOTH NET CRATES02
End
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_C

;;;Damaged Conditions

ConditionState  REALLYDAMAGED
Model  UVCmdTrkA_D
Animation  UVCmdTrkA_D.UVCmdTrkA_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW REALLYDAMAGED MOVING
AliasConditionState  SNOW REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A

ConditionState     REALLYDAMAGED UNPACKING
Model  UVCmdTrkA_D
Animation  UVCmdTrkA_D.UVCmdTrkA_D
AnimationMode  MANUAL
ShowSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES STRAPS CRATES01 GUN CLOTH NET CRATES02
End
AliasConditionState  REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW REALLYDAMAGED UNPACKING
AliasConditionState  SNOW REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_C

ConditionState   REALLYDAMAGED DEPLOYED
Model  UVCmdTrkA_D
Animation  UVCmdTrkA_D.UVCmdTrkA_D
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  BOX02 BOX03 NET CRATES01 CRATES02 STRAPS CLOTH GUN
ShowSubObject  SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES
End
AliasConditionState  REALLYDAMAGED DEPLOYED FIRING_C
AliasConditionState  REALLYDAMAGED DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED DEPLOYED RELOADING_C
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED FIRING_C
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED RELOADING_C
AliasConditionState  SNOW REALLYDAMAGED DEPLOYED MOVING

ConditionState     REALLYDAMAGED PACKING
Model  UVCmdTrkA_D
Animation  UVCmdTrkA_D.UVCmdTrkA_D
AnimationMode  MANUAL
ShowSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES STRAPS CRATES01 GUN CLOTH NET CRATES02
End
AliasConditionState  REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW REALLYDAMAGED PACKING
AliasConditionState  SNOW REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_C

;;;Snow Conditions

ConditionState  SNOW
Model  UVCmdTrkA_S
Animation  UVCmdTrkA_S.UVCmdTrkA_S
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES
End
AliasConditionState  SNOW BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW MOVING
AliasConditionState  SNOW MOVING BETWEEN_FIRING_SHOTS_A

ConditionState     SNOW UNPACKING
Model  UVCmdTrkA_S
Animation  UVCmdTrkA_S.UVCmdTrkA_S
AnimationMode  MANUAL
ShowSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES STRAPS CRATES01 GUN CLOTH NET CRATES02
End
AliasConditionState  SNOW UNPACKING BETWEEN_FIRING_SHOTS_C

ConditionState   SNOW DEPLOYED
Model  UVCmdTrkA_S
Animation  UVCmdTrkA_S.UVCmdTrkA_S
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  BOX02 BOX03 NET CRATES01 CRATES02 STRAPS CLOTH GUN
ShowSubObject  SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES
End
AliasConditionState  SNOW DEPLOYED FIRING_C
AliasConditionState  SNOW DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW DEPLOYED RELOADING_C
AliasConditionState  SNOW DEPLOYED MOVING

ConditionState     SNOW PACKING
Model  UVCmdTrkA_S
Animation  UVCmdTrkA_S.UVCmdTrkA_S
AnimationMode  MANUAL
ShowSubObject  BOX02 BOX03 SANDBAGS01 CRATES03 CRATES04 HOUSECOLOR02 GUN02 CLOTH02 POLES STRAPS CRATES01 GUN CLOTH NET CRATES02
End
AliasConditionState  SNOW PACKING BETWEEN_FIRING_SHOTS_C

End

Draw  W3DModelDraw ModuleTag_EngineExhaust01

ConditionState         NONE
Model                UVCmdTrkM_B
ParticleSysBone      EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone      EXHAUST02 GLATankEngineSmokeLight
End

ConditionState         MOVING
Model                UVCmdTrkM_B
ParticleSysBone      EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone      EXHAUST02 GLATankEngineSmokeHeavy
End

ConditionState         DEPLOYED
Model                UVCmdTrkM_B
End
AliasConditionState  DEPLOYED MOVING

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CommandTruck
Side  GLA
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)
MaxSimultaneousOfType  1

WeaponSet
Conditions  None
Weapon             PRIMARY GLACommandTruckRadarDummyDeployWeapon
AutoChooseSources  PRIMARY NONE
Weapon             SECONDARY GLACommandTruckRadarDummyDeployWeapon
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY GLACommandTruckRadarDummyDeployWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End

BuildCost        2000
BuildTime        30.0          ;in seconds
VisionRange      200
ShroudClearingRange  500

IsTrainable  No
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAVehicleCommandTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect            CommandTruckVoiceSelect
VoiceMove              CommandTruckVoiceMove
VoiceAttack            CommandTruckVoiceMove
SoundMoveStart         GLACommandTruckMoveStart
SoundMoveStartDamaged  GLACommandTruckMoveStart
SoundEnter             HumveeEnter
SoundExit              HumveeExit

UnitSpecificSounds
VoiceCreate      CommandTruckVoiceCreate
VoiceCrush       CommandTruckVoiceMove
VoiceEnter       CommandTruckVoiceEnter
VoiceGarrison    CommandTruckVoiceEnter
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE IMMUNE_TO_CAPTURE IGNORES_SELECT_ALL HUGE_VEHICLE FS_FACTORY FS_WARFACTORY

Body  ActiveBody ModuleTag_02
MaxHealth        800
InitialHealth    800

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

ExperienceValue     100 100 100 100     ;Experience point value at each level


Behavior  AutoHealBehavior ModuleTag_08
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  DeployStyleAIUpdate ModuleTag_04
Turret
TurretTurnRate         360
TurretPitchRate        360
RecenterTime           5000         ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
NaturalTurretAngle     0
InitiallyDisabled      Yes
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
PackTime  2400
UnpackTime  2400
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  Yes
End

Locomotor  SET_NORMAL CommandTruckLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

Behavior  TransportContain ModuleTag_16
Slots  2
AllowInsideKindOf    DOZER
ForbidInsideKindOf   VEHICLE
DamagePercentToUnits  100%
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

; The default explosion
Behavior  SlowDeathBehavior  ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay  0
DestructionDelayVariance  200
FX  FINAL FX_BuggyNewDeathExplosion
OCL  FINAL OCL_CommandTruckDeathEffect
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  CreateCrateDie ModuleTag_15
CrateData  SalvageCrateData
End

; A crushing defeat
Behavior  FXListDie ModuleTag_17
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_18
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  FireWeaponUpdate ModuleTag_VictoryCondition01
Weapon  GLACommandTruckVictoryDummyWeapon
End

Behavior                  TransitionDamageFX ModuleTag_19
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2500 ; msec
RequiredStatus               DEPLOYED
MoveThresholdSpeed           3
InnateStealth                No
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLARadarVanScan
End

Behavior  SubObjectsUpgrade ModuleTag_Stealth03
TriggeredBy     Upgrade_GLARadarVanScan
ShowSubObjects  UPGRADE01
End

Behavior  OCLSpecialPower ModuleTag_RadarScan01
SpecialPowerTemplate  SpecialPowerRadarVanScan
OCL                   SUPERWEAPON_RadarVanScan
CreateLocation        CREATE_AT_LOCATION
StartsPaused          No
End

Behavior  GrantScienceUpgrade ModuleTag_RadarScan02
GrantScience  SCIENCE_CommandTruckRadarScan
TriggeredBy   Upgrade_GLARadarVanScan
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_RadarWhenDeployed02
CollideWeapon   GLACommandTruckRadarDummyWeapon
RequiredStatus  DEPLOYED
End

Behavior  FireWeaponUpdate ModuleTag_RadarInChemLab01
Weapon  GLACommandTruckChemlabRadarCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_DeployMarkerDecal01
CollideWeapon   GLACommandTruckDeployedDecalWeapon
RequiredStatus  DEPLOYED
End

Behavior  CashBountyPower ModuleTag_CashBounty01
SpecialPowerTemplate     SpecialAbilityCashBounty1
Bounty                   10%
End
Behavior  CashBountyPower ModuleTag_CashBounty02
SpecialPowerTemplate     SpecialAbilityCashBounty2
Bounty                   20%
End
Behavior  CashBountyPower ModuleTag_CashBounty03
SpecialPowerTemplate     SpecialAbilityCashBounty3
Bounty                   30%
End

;;;;;;;;;;;;;Start Command Center Generals Powers  ;;;;;;;;;;;;;

Behavior            OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponRebelAmbush
UpgradeOCL            SCIENCE_RebelAmbush3 SUPERWEAPON_RebelAmbush3
UpgradeOCL            SCIENCE_RebelAmbush2 SUPERWEAPON_RebelAmbush2
OCL                   SUPERWEAPON_RebelAmbush1
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponAnthraxBomb
UpgradeOCL            SCIENCE_AnthraxBomb_BetaUpgrade  SUPERWEAPON_AnthraxBomb
OCL                   SUPERWEAPON_AnthraxBomb
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower05
SpecialPowerTemplate  SuperweaponSneakAttack
OCL                   OCL_CreateSneakAttackTunnelStart
ReferenceObject       GLASneakAttackTunnelNetwork
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower06
SpecialPowerTemplate  SuperweaponOilSabotage
OCL                   SUPERWEAPON_OilSabotage1
UpgradeOCL            SCIENCE_OilSabotage3 SUPERWEAPON_OilSabotage3
UpgradeOCL            SCIENCE_OilSabotage2 SUPERWEAPON_OilSabotage2
ReferenceObject       OilSabotageDecalObject
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower07
SpecialPowerTemplate  SuperWeaponGlaInformant
OCL                   SUPERWEAPON_Informant
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower08
SpecialPowerTemplate  SuperweaponInsurrection
OCL                   SUPERWEAPON_Insurrection
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponCombatDrugs
OCL                   SUPERWEAPON_CombatDrugs
UpgradeOCL            SCIENCE_RefinedCombatDrugs SUPERWEAPON_RefinedCombatDrugs
ReferenceObject       CombatDrugsCursor
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  No
End

Behavior            OCLSpecialPower ModuleTag_GenPower11
SpecialPowerTemplate  SuperweaponEmergencyRepair
OCL                   SUPERWEAPON_RepairVehicles1
CreateLocation        CREATE_AT_LOCATION
End

Behavior    = OCLSpecialPower ModuleTag_GenPower012
SpecialPowerTemplate = SuperweaponCrateDrop
OCL                  = SUPERWEAPON_GLACrateDrop
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior = OCLSpecialPower ModuleTag_GenPower013
SpecialPowerTemplate = SuperweaponScrapUpgrade
;UpgradeOCL = SCIENCE_EmergencyRepair3 SUPERWEAPON_SalvageRepair3
;UpgradeOCL = Fort_SCIENCE_Tree14 SUPERWEAPON_SalvageRepair3 ;SUPERWEAPON_JunkBomb ; ;SCIENCE_EmergencyRepair2 SUPERWEAPON_SalvageRepair2
OCL = SUPERWEAPON_SalvageScrap1
CreateLocation = CREATE_AT_LOCATION ;CREATE_AT_EDGE_NEAR_SOURCE ;
End

Behavior = OCLSpecialPower ModuleTag_GenPower014
SpecialPowerTemplate SuperweaponDemoTrapDrop
;UpgradeOCL = SCIENCE_GLADemoTrapDrop2 Demo_SUPERWEAPON_DemoTrapDrop2
OCL = SUPERWEAPON_DemoTrapDrop1
CreateLocation = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower015
SpecialPowerTemplate  SuperweaponOverwatch
OCL                   SUPERWEAPON_SuicidePlane_OverWatch_1
;UpgradeOCL            SCIENCE_GLAAirforce3 SUPERWEAPON_SuicidePlane_OverWatch_2
ReferenceObject       OverwatchMarker
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  Yes
End

Behavior = OCLSpecialPower ModuleTag_GenPower016
SpecialPowerTemplate = SuperweaponGLAClusterBomb
OCL = SUPERWEAPON_GLAClusterCarpetBombing ;ZGla_KirovAttack ;SUPERWEAPON_AnthraxBomb
CreateLocation = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower017
SpecialPowerTemplate  SuperweaponAirdropArmorVehicle_GLA
;UpgradeOCL            SCIENCE_RebelAmbush3 SUPERWEAPON_RebelAmbush3
;UpgradeOCL            SCIENCE_RebelAmbush2 SUPERWEAPON_RebelAmbush2
OCL                   SUPERWEAPON_AirdropArmorVehicle_GLA_1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes
End

Behavior = OCLSpecialPower ModuleTag_GenPower018
SpecialPowerTemplate = SuperweaponDemoralize
OCL                  = SUPERWEAPON_Demoralize
CreateLocation       = CREATE_AT_LOCATION
End

;;;;;;;;;;;;;End Command Center Generals Powers  ;;;;;;;;;;;;;
Behavior  ProductionUpdate ModuleTag_Production01
End

Behavior  DefaultProductionExitUpdate ModuleTag_Production02
UnitCreatePoint    X: 5.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior              SpawnBehavior ModuleTag_Spawner01
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName   GLASuperWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End
Behavior              SpawnBehavior ModuleTag_Spawner02
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName    GLASupportWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  19.0
GeometryHeight  17.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End
;------------------------------------------------------------------------------
;GLA Combat Bike
Object GLAVehicleCombatBike
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUComBike_L
ButtonImage             SUComBike

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal Bike
;------------------------------
DefaultConditionState
Model  UVComBike
ParticleSysBone      SMOKE CombatBikeSmokeLight

HideSubObject  BOMBBIKE MuzzleFX_B01 MuzzleFX_B02; Hide from all states except terrorist (rider 5)


End
AliasConditionState RIDER6
AliasConditionState RIDER6 MOVING
ConditionState  REALLYDAMAGED
Model  UVComBike_d
End
AliasConditionState RIDER6 REALLYDAMAGED
AliasConditionState RIDER6 MOVING REALLYDAMAGED

ConditionState  TOPPLED
Model  UVComBike_F
Animation            UVComBike_F.UVComBike_F
AnimationMode        ONCE
End
ConditionState  TOPPLED REALLYDAMAGED
Model  UVComBike_dF
Animation            UVComBike_DF.UVComBike_DF
AnimationMode        ONCE
End

ConditionState  RIDER6 MOVING CENTER_TO_LEFT
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
ConditionState  RIDER6 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End

ConditionState  RIDER6 MOVING LEFT_TO_CENTER
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
ConditionState  RIDER6 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End

ConditionState  RIDER6 MOVING CENTER_TO_RIGHT
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
ConditionState  RIDER6 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End

ConditionState  RIDER6 MOVING RIGHT_TO_CENTER
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
ConditionState  RIDER6 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End






;Terror Bike
;------------------------------
ConditionState  RIDER5
Model  UVComBike
ParticleSysBone      SMOKE CombatBikeSmokeLight
ShowSubObject  BOMBBIKE
End
AliasConditionState RIDER5 MOVING

ConditionState  REALLYDAMAGED RIDER5
Model  UVComBike_d
ShowSubObject  BOMBBIKE
End
AliasConditionState RIDER5 MOVING REALLYDAMAGED

ConditionState  TOPPLED RIDER5
Model  UVComBike_F
Animation            UVComBike_F.UVComBike_F
AnimationMode        ONCE
ShowSubObject  BOMBBIKE
End
ConditionState  TOPPLED REALLYDAMAGED RIDER5
Model  UVComBike_dF
Animation            UVComBike_DF.UVComBike_DF
AnimationMode        ONCE
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING CENTER_TO_LEFT
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING LEFT_TO_CENTER
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING CENTER_TO_RIGHT
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING RIGHT_TO_CENTER
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  RIDER5 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End








;Gun Bike
;------------------------------
ConditionState  RIDER2
Model  UVComBikeG
End
AliasConditionState RIDER2 MOVING
AliasConditionState RIDER4
AliasConditionState RIDER4 MOVING
AliasConditionState RIDER7
AliasConditionState RIDER7 MOVING

ConditionState  RIDER2 REALLYDAMAGED
Model  UVComBikeG_d
End
AliasConditionState RIDER2 MOVING REALLYDAMAGED
AliasConditionState RIDER4 REALLYDAMAGED
AliasConditionState RIDER4 MOVING REALLYDAMAGED
AliasConditionState RIDER7 REALLYDAMAGED
AliasConditionState RIDER7 MOVING REALLYDAMAGED

ConditionState  RIDER2 MOVING CENTER_TO_LEFT
Model  UVComBikeG
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING CENTER_TO_LEFT
AliasConditionState RIDER7 MOVING CENTER_TO_LEFT
ConditionState  RIDER2 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING CENTER_TO_LEFT REALLYDAMAGED
AliasConditionState RIDER7 MOVING CENTER_TO_LEFT REALLYDAMAGED

ConditionState  RIDER2 MOVING LEFT_TO_CENTER
Model  UVComBikeG
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING LEFT_TO_CENTER
AliasConditionState RIDER7 MOVING LEFT_TO_CENTER
ConditionState  RIDER2 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING LEFT_TO_CENTER REALLYDAMAGED
AliasConditionState RIDER7 MOVING LEFT_TO_CENTER REALLYDAMAGED

ConditionState  RIDER2 MOVING CENTER_TO_RIGHT
Model  UVComBikeG
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER7 MOVING CENTER_TO_RIGHT
ConditionState  RIDER2 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT REALLYDAMAGED
AliasConditionState RIDER7 MOVING CENTER_TO_RIGHT REALLYDAMAGED

ConditionState  RIDER2 MOVING RIGHT_TO_CENTER
Model  UVComBikeG
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER
ConditionState  RIDER2 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER REALLYDAMAGED
AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER REALLYDAMAGED

;Missile Bike
;------------------------------
ConditionState  RIDER3
Model  UVComBikeTN
End
AliasConditionState RIDER3 MOVING
AliasConditionState RIDER1
AliasConditionState RIDER1 MOVING

ConditionState  RIDER3 REALLYDAMAGED
Model  UVComBikeTN_d
End
AliasConditionState  RIDER3 MOVING REALLYDAMAGED
AliasConditionState  RIDER1 REALLYDAMAGED
AliasConditionState  RIDER1 MOVING REALLYDAMAGED

ConditionState  RIDER3 MOVING CENTER_TO_LEFT
Model  UVComBikeTN_A1
Animation            UVComBikeTN_A1.UVComBikeTN_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState   RIDER1 MOVING CENTER_TO_LEFT
ConditionState  RIDER3 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBikeTN_A1d
Animation            UVComBikeTN_A1D.UVComBikeTN_A1D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState   RIDER1 MOVING CENTER_TO_LEFT REALLYDAMAGED

ConditionState  RIDER3 MOVING LEFT_TO_CENTER
Model  UVComBikeTN_A1
Animation            UVComBikeTN_A1.UVComBikeTN_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState   RIDER1 MOVING LEFT_TO_CENTER
ConditionState  RIDER3 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBikeTN_A1d
Animation            UVComBikeTN_A1D.UVComBikeTN_A1D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState   RIDER1 MOVING LEFT_TO_CENTER REALLYDAMAGED

ConditionState  RIDER3 MOVING CENTER_TO_RIGHT
Model  UVComBikeTN_A2
Animation            UVComBikeTN_A2.UVComBikeTN_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState   RIDER1 MOVING CENTER_TO_RIGHT
ConditionState  RIDER3 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBikeTN_A2D
Animation            UVComBikeTN_A2D.UVComBikeTN_A2D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState  RIDER1 MOVING CENTER_TO_RIGHT REALLYDAMAGED

ConditionState  RIDER3 MOVING RIGHT_TO_CENTER
Model  UVComBikeTN_A2
Animation            UVComBikeTN_A2.UVComBikeTN_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState  RIDER1 MOVING RIGHT_TO_CENTER
ConditionState  RIDER3 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBikeTN_A2D
Animation            UVComBikeTN_A2D.UVComBikeTN_A2D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
End
AliasConditionState  RIDER1 MOVING RIGHT_TO_CENTER REALLYDAMAGED

;Riderless Bike (is one static model)
;-----------------------
ConditionState  RIDER8
Model  None
ParticleSysBone      SMOKE None
End
AliasConditionState RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER8 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState RIDER8 MOVING LEFT_TO_CENTER

ConditionState  RIDER8 REALLYDAMAGED
Model  None
ParticleSysBone      SMOKE None
End
AliasConditionState RIDER8 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER8 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER8 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER8 REALLYDAMAGED MOVING LEFT_TO_CENTER






;;;;;;;;;;;;;;New Snow conditions which hides the normal wheels and in an other module they get replaced by snow bike addons.


ConditionState  SNOW
Model  UVComBike
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER6
AliasConditionState SNOW RIDER6 MOVING

ConditionState  SNOW REALLYDAMAGED
Model  UVComBike_d
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER6 REALLYDAMAGED
AliasConditionState SNOW RIDER6 MOVING REALLYDAMAGED

ConditionState  SNOW TOPPLED
Model  UVComBike_F
Animation            UVComBike_F.UVComBike_F
AnimationMode        ONCE
HideSubObject  Tire01 Tire00
End
ConditionState  SNOW TOPPLED REALLYDAMAGED
Model  UVComBike_dF
Animation            UVComBike_DF.UVComBike_DF
AnimationMode        ONCE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER6 MOVING CENTER_TO_LEFT
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
ConditionState  SNOW RIDER6 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER6 MOVING LEFT_TO_CENTER
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
ConditionState  SNOW RIDER6 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER6 MOVING CENTER_TO_RIGHT
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
ConditionState  SNOW RIDER6 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER6 MOVING RIGHT_TO_CENTER
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
ConditionState  SNOW RIDER6 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End






;Terror Bike
;------------------------------
ConditionState  SNOW RIDER5
Model  UVComBike
ParticleSysBone      SMOKE CombatBikeSmokeLight
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER5 MOVING

ConditionState  REALLYDAMAGED SNOW RIDER5
Model  UVComBike_d
ShowSubObject  BOMBBIKE
End
AliasConditionState SNOW RIDER5 MOVING REALLYDAMAGED

ConditionState  TOPPLED SNOW RIDER5
Model  UVComBike_F
Animation            UVComBike_F.UVComBike_F
AnimationMode        ONCE
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End
ConditionState  TOPPLED REALLYDAMAGED SNOW RIDER5
Model  UVComBike_dF
Animation            UVComBike_DF.UVComBike_DF
AnimationMode        ONCE
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER5 MOVING CENTER_TO_LEFT
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER5 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  SNOW RIDER5 MOVING LEFT_TO_CENTER
Model  UVComBike_A1
Animation            UVComBike_A1.UVComBike_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER5 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A1d
Animation            UVComBike_A1D.UVComBike_A1D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER5 MOVING CENTER_TO_RIGHT
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER5 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER5 MOVING RIGHT_TO_CENTER
Model  UVComBike_A2
Animation            UVComBike_A2.UVComBike_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End

ConditionState  SNOW RIDER5 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBike_A2d
Animation            UVComBike_A2D.UVComBike_A2D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
HideSubObject  Tire01 Tire00
End








;Gun Bike
;------------------------------
ConditionState  SNOW RIDER2
Model  UVComBikeG
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER2 MOVING
AliasConditionState SNOW RIDER4
AliasConditionState SNOW RIDER4 MOVING
AliasConditionState SNOW RIDER7
AliasConditionState SNOW RIDER7 MOVING
ConditionState  SNOW RIDER2 REALLYDAMAGED
Model  UVComBikeG_d
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER2 MOVING REALLYDAMAGED
AliasConditionState SNOW RIDER4 REALLYDAMAGED
AliasConditionState SNOW RIDER4 MOVING REALLYDAMAGED
AliasConditionState SNOW RIDER7 REALLYDAMAGED
AliasConditionState SNOW RIDER7 MOVING REALLYDAMAGED

ConditionState  SNOW RIDER2 MOVING CENTER_TO_LEFT
Model  UVComBikeG
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER7 MOVING CENTER_TO_LEFT
ConditionState  SNOW RIDER2 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING CENTER_TO_LEFT REALLYDAMAGED
AliasConditionState SNOW RIDER7 MOVING CENTER_TO_LEFT REALLYDAMAGED

ConditionState  SNOW RIDER2 MOVING LEFT_TO_CENTER
Model  UVComBikeG
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER7 MOVING LEFT_TO_CENTER
ConditionState  SNOW RIDER2 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A1.UVComBikeG_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING LEFT_TO_CENTER REALLYDAMAGED
AliasConditionState SNOW RIDER7 MOVING LEFT_TO_CENTER REALLYDAMAGED

ConditionState  SNOW RIDER2 MOVING CENTER_TO_RIGHT
Model  UVComBikeG
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER7 MOVING CENTER_TO_RIGHT
ConditionState  SNOW RIDER2 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING CENTER_TO_RIGHT REALLYDAMAGED
AliasConditionState SNOW RIDER7 MOVING CENTER_TO_RIGHT REALLYDAMAGED

ConditionState  SNOW RIDER2 MOVING RIGHT_TO_CENTER
Model  UVComBikeG
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER7 MOVING RIGHT_TO_CENTER
ConditionState  SNOW RIDER2 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBikeG_d
Animation            UVComBikeG_A2.UVComBikeG_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER4 MOVING RIGHT_TO_CENTER REALLYDAMAGED
AliasConditionState SNOW RIDER7 MOVING RIGHT_TO_CENTER REALLYDAMAGED

;Missile Bike
;------------------------------
ConditionState  SNOW RIDER3
Model  UVComBikeTN
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER3 MOVING
AliasConditionState  SNOW RIDER1
AliasConditionState  SNOW RIDER1 MOVING

ConditionState  SNOW RIDER3 REALLYDAMAGED
Model  UVComBikeTN_d
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER3 MOVING REALLYDAMAGED
AliasConditionState  SNOW RIDER1 REALLYDAMAGED
AliasConditionState  SNOW RIDER1 MOVING REALLYDAMAGED

ConditionState  SNOW RIDER3 MOVING CENTER_TO_LEFT
Model  UVComBikeTN_A1
Animation            UVComBikeTN_A1.UVComBikeTN_A1
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING CENTER_TO_LEFT
ConditionState  SNOW RIDER3 MOVING CENTER_TO_LEFT REALLYDAMAGED
Model  UVComBikeTN_A1D
Animation            UVComBikeTN_A1D.UVComBikeTN_A1D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING CENTER_TO_LEFT REALLYDAMAGED

ConditionState  SNOW RIDER3 MOVING LEFT_TO_CENTER
Model  UVComBikeTN_A1
Animation            UVComBikeTN_A1.UVComBikeTN_A1
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING LEFT_TO_CENTER
ConditionState  SNOW RIDER3 MOVING LEFT_TO_CENTER REALLYDAMAGED
Model  UVComBikeTN_A1D
Animation            UVComBikeTN_A1D.UVComBikeTN_A1D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING LEFT_TO_CENTER REALLYDAMAGED

ConditionState  SNOW RIDER3 MOVING CENTER_TO_RIGHT
Model  UVComBikeTN_A2
Animation            UVComBikeTN_A2.UVComBikeTN_A2
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING CENTER_TO_RIGHT
ConditionState  SNOW RIDER3 MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model  UVComBikeTN_A2D
Animation            UVComBikeTN_A2D.UVComBikeTN_A2D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING CENTER_TO_RIGHT REALLYDAMAGED

ConditionState  SNOW RIDER3 MOVING RIGHT_TO_CENTER
Model  UVComBikeTN_A2
Animation            UVComBikeTN_A2.UVComBikeTN_A2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING RIGHT_TO_CENTER
ConditionState  SNOW RIDER3 MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model  UVComBikeTN_A2D
Animation            UVComBikeTN_A2D.UVComBikeTN_A2D
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
HideSubObject  Tire01 Tire00
End
AliasConditionState  SNOW RIDER1 MOVING RIGHT_TO_CENTER REALLYDAMAGED

;Riderless Bike (is one static model)
;-----------------------
ConditionState  SNOW RIDER8
Model  None
ParticleSysBone      SMOKE None
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER8 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER8 MOVING LEFT_TO_CENTER

ConditionState  SNOW RIDER8 REALLYDAMAGED
Model  None
ParticleSysBone      SMOKE None
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING LEFT_TO_CENTER


TrackMarks  EXTireTrack03.tga

Dust                         CombatBikeDust
DirtSpray                    CombatBikeDirtSpray
PowerslideSpray              CombatBikeDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
LeftRearTireBone             Tire00
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Riderless
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVComBike_EPT
HideSubObject  CHASSIS HEADLIGHT01 HOUSECOLOR03 SMOKE
End
AliasConditionState  RIDER1
AliasConditionState RIDER1 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER1 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER1 MOVING CENTER_TO_LEFT
AliasConditionState RIDER1 MOVING LEFT_TO_CENTER
AliasConditionState RIDER1 REALLYDAMAGED
AliasConditionState RIDER1 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER1 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER1 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER1 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState RIDER2
AliasConditionState RIDER2 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER2 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER2 MOVING CENTER_TO_LEFT
AliasConditionState RIDER2 MOVING LEFT_TO_CENTER
AliasConditionState RIDER2 REALLYDAMAGED
AliasConditionState RIDER2 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER2 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER2 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER2 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState RIDER3
AliasConditionState RIDER3 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER3 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER3 MOVING CENTER_TO_LEFT
AliasConditionState RIDER3 MOVING LEFT_TO_CENTER
AliasConditionState RIDER3 REALLYDAMAGED
AliasConditionState RIDER3 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER3 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER3 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER3 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState RIDER4
AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER4 MOVING CENTER_TO_LEFT
AliasConditionState RIDER4 MOVING LEFT_TO_CENTER
AliasConditionState RIDER4 REALLYDAMAGED
AliasConditionState RIDER4 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER4 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER4 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER4 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState RIDER5
AliasConditionState RIDER5 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER5 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER5 MOVING CENTER_TO_LEFT
AliasConditionState RIDER5 MOVING LEFT_TO_CENTER
AliasConditionState RIDER5 REALLYDAMAGED
AliasConditionState RIDER5 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER5 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER5 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER5 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState RIDER6
AliasConditionState RIDER6 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER6 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER6 MOVING CENTER_TO_LEFT
AliasConditionState RIDER6 MOVING LEFT_TO_CENTER
AliasConditionState RIDER6 REALLYDAMAGED
AliasConditionState RIDER6 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER6 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER6 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER6 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState RIDER7
AliasConditionState RIDER7 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER7 MOVING CENTER_TO_LEFT
AliasConditionState RIDER7 MOVING LEFT_TO_CENTER
AliasConditionState RIDER7 REALLYDAMAGED
AliasConditionState RIDER7 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER7 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER7 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER7 REALLYDAMAGED MOVING LEFT_TO_CENTER

ConditionState  RIDER8
Model  UVComBike_EPT
ParticleSysBone      SMOKE CombatBikeSmokeLight
ShowSubObject  CHASSIS HEADLIGHT01 HOUSECOLOR03 SMOKE
End
AliasConditionState RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER8 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState RIDER8 MOVING LEFT_TO_CENTER

ConditionState  RIDER8 REALLYDAMAGED
Model  UVComBike_EPTD
ParticleSysBone      SMOKE CombatBikeSmokeLight
ShowSubObject  CHASSIS HEADLIGHT01 HOUSECOLOR03 SMOKE
End
AliasConditionState RIDER8 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER8 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER8 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER8 REALLYDAMAGED MOVING LEFT_TO_CENTER




ConditionState  SNOW
Model  UVComBike_EPT
HideSubObject  CHASSIS HEADLIGHT01 HOUSECOLOR03 SMOKE Tire01 Tire00
End
AliasConditionState  SNOW RIDER1
AliasConditionState SNOW RIDER1 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER1 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER1 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER1 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER1 REALLYDAMAGED
AliasConditionState SNOW RIDER1 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER1 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER1 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER1 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER2
AliasConditionState SNOW RIDER2 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER2 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER2 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER2 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER2 REALLYDAMAGED
AliasConditionState SNOW RIDER2 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER2 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER2 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER2 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER3
AliasConditionState SNOW RIDER3 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER3 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER3 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER3 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER3 REALLYDAMAGED
AliasConditionState SNOW RIDER3 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER3 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER3 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER3 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER4
AliasConditionState SNOW RIDER4 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER4 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER4 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER4 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER4 REALLYDAMAGED
AliasConditionState SNOW RIDER4 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER4 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER4 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER4 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER5
AliasConditionState SNOW RIDER5 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER5 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER5 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER5 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER5 REALLYDAMAGED
AliasConditionState SNOW RIDER5 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER5 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER5 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER5 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER6
AliasConditionState SNOW RIDER6 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER6 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER6 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER6 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER6 REALLYDAMAGED
AliasConditionState SNOW RIDER6 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER6 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER6 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER6 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER7
AliasConditionState SNOW RIDER7 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER7 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER7 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER7 MOVING LEFT_TO_CENTER
AliasConditionState SNOW RIDER7 REALLYDAMAGED
AliasConditionState SNOW RIDER7 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER7 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER7 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER7 REALLYDAMAGED MOVING LEFT_TO_CENTER

ConditionState  SNOW RIDER8
Model  UVComBike_EPT
ParticleSysBone      SMOKE CombatBikeSmokeLight
ShowSubObject  CHASSIS HEADLIGHT01 HOUSECOLOR03 SMOKE
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER8 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER8 MOVING LEFT_TO_CENTER

ConditionState  SNOW RIDER8 REALLYDAMAGED
Model  UVComBike_EPTD
ParticleSysBone      SMOKE CombatBikeSmokeLight
ShowSubObject  CHASSIS HEADLIGHT01 HOUSECOLOR03 SMOKE
HideSubObject  Tire01 Tire00
End
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING LEFT_TO_CENTER

End

Draw  W3DTankTruckDraw ModuleTag_SnowBike01

DefaultConditionState
Model  None
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  MOVING
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState  RIDER8 MOVING RIGHT_TO_CENTER
AliasConditionState  RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState  RIDER8 MOVING LEFT_TO_CENTER
AliasConditionState  RIDER8 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState  RIDER8 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState  RIDER8 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState  RIDER8 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState  MOVING CENTER_TO_LEFT
AliasConditionState  MOVING LEFT_TO_CENTER
AliasConditionState  MOVING CENTER_TO_RIGHT
AliasConditionState  MOVING RIGHT_TO_CENTER
AliasConditionState  MOVING REALLYDAMAGED CENTER_TO_RIGHT
AliasConditionState  MOVING REALLYDAMAGED RIGHT_TO_CENTER
AliasConditionState  MOVING REALLYDAMAGED CENTER_TO_LEFT
AliasConditionState  MOVING REALLYDAMAGED LEFT_TO_CENTER

ConditionState  SNOW
Model  UVCmbtBK_S
End
AliasConditionState SNOW MOVING
AliasConditionState SNOW RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER8 MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER8 MOVING LEFT_TO_CENTER

ConditionState  REALLYDAMAGED SNOW
Model  UVCmbtBK_SD
End
AliasConditionState SNOW MOVING REALLYDAMAGED
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState SNOW RIDER8 REALLYDAMAGED MOVING LEFT_TO_CENTER

ConditionState  SNOW MOVING CENTER_TO_LEFT
Model                UVCmbtBK_SA1
Animation            UVCmbtBK_SA1.UVCmbtBK_SA1
AnimationMode        ONCE
End

ConditionState  SNOW MOVING CENTER_TO_LEFT REALLYDAMAGED
Model                UVCmbtBK_SA1D
Animation            UVCmbtBK_SA1D.UVCmbtBK_SA1D
AnimationMode        ONCE
ParticleSysBone      SMOKE CombatBikeSmokeHeavy
ShowSubObject  BOMBBIKE
End

ConditionState  SNOW MOVING LEFT_TO_CENTER
Model                UVCmbtBK_SA1
Animation            UVCmbtBK_SA1.UVCmbtBK_SA1
AnimationMode        ONCE_BACKWARDS
End

ConditionState  SNOW MOVING LEFT_TO_CENTER REALLYDAMAGED
Model                UVCmbtBK_SA1D
Animation            UVCmbtBK_SA1D.UVCmbtBK_SA1D
AnimationMode        ONCE_BACKWARDS
End

ConditionState  SNOW MOVING CENTER_TO_RIGHT
Model                UVCmbtBK_SA2
Animation            UVCmbtBK_SA2.UVCmbtBK_SA2
AnimationMode        ONCE
End

ConditionState  SNOW MOVING CENTER_TO_RIGHT REALLYDAMAGED
Model                UVCmbtBK_SA2D
Animation            UVCmbtBK_SA2D.UVCmbtBK_SA2D
AnimationMode        ONCE
End

ConditionState  SNOW MOVING RIGHT_TO_CENTER
Model                UVCmbtBK_SA2
Animation            UVCmbtBK_SA2.UVCmbtBK_SA2
AnimationMode        ONCE_BACKWARDS
End

ConditionState  SNOW MOVING RIGHT_TO_CENTER REALLYDAMAGED
Model                UVCmbtBK_SA2D
Animation            UVCmbtBK_SA2D.UVCmbtBK_SA2D
AnimationMode        ONCE_BACKWARDS
End

TreadAnimationRate  3.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

End

Draw  W3DModelDraw ModuleTag_NewBones01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVCmbtBK_B
HideSubObject  BOX08
WeaponFireFXBone   PRIMARY   Muzzle_B
WeaponLaunchBone   PRIMARY   Muzzle_B
WeaponMuzzleFlash  PRIMARY   MuzzleFX_B
WeaponFireFXBone   SECONDARY RocketFX03
WeaponLaunchBone   SECONDARY RocketFX03
WeaponLaunchBone   TERTIARY  Muzzle_B
WeaponFireFXBone   TERTIARY  Muzzle_B
End
AliasConditionState MOVING
AliasConditionState RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER8 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState RIDER8 MOVING LEFT_TO_CENTER
AliasConditionState REALLYDAMAGED
AliasConditionState MOVING REALLYDAMAGED
AliasConditionState RIDER8 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER8 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER8 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER8 REALLYDAMAGED MOVING LEFT_TO_CENTER

ConditionState  MOVING CENTER_TO_LEFT
Model                UVCmbtBK_BA1
Animation            UVCmbtBK_BA1.UVCmbtBK_BA1
AnimationMode        ONCE
End
AliasConditionState  MOVING CENTER_TO_LEFT REALLYDAMAGED


ConditionState  MOVING LEFT_TO_CENTER
Model                UVCmbtBK_BA1
Animation            UVCmbtBK_BA1.UVCmbtBK_BA1
AnimationMode        ONCE_BACKWARDS
End
AliasConditionState  MOVING LEFT_TO_CENTER REALLYDAMAGED


ConditionState  MOVING CENTER_TO_RIGHT
Model                UVCmbtBK_BA2
Animation            UVCmbtBK_BA2.UVCmbtBK_BA2
AnimationMode        ONCE
End
AliasConditionState  MOVING CENTER_TO_RIGHT REALLYDAMAGED


ConditionState  MOVING RIGHT_TO_CENTER
Model                UVCmbtBK_BA2
Animation            UVCmbtBK_BA2.UVCmbtBK_BA2
AnimationMode        ONCE_BACKWARDS
End
AliasConditionState  MOVING RIGHT_TO_CENTER REALLYDAMAGED

ConditionState  RIDER3
Model  UVCmbtBK_B
HideSubObject  BOX08
WeaponFireFXBone   PRIMARY   RocketFX03
WeaponLaunchBone   PRIMARY   RocketFX03
WeaponMuzzleFlash  PRIMARY   NONE
WeaponFireFXBone   SECONDARY RocketFX03
WeaponLaunchBone   SECONDARY RocketFX03
WeaponMuzzleFlash  SECONDARY NONE
WeaponLaunchBone   TERTIARY  NONE
WeaponFireFXBone   TERTIARY  NONE
WeaponMuzzleFlash  TERTIARY  MuzzleFX_B
End
AliasConditionState RIDER3 MOVING
AliasConditionState RIDER3 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER3 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER3 MOVING CENTER_TO_LEFT
AliasConditionState RIDER3 MOVING LEFT_TO_CENTER
AliasConditionState RIDER3 REALLYDAMAGED
AliasConditionState RIDER3 MOVING REALLYDAMAGED
AliasConditionState RIDER3 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER3 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER3 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER3 REALLYDAMAGED MOVING LEFT_TO_CENTER
AliasConditionState RIDER1
AliasConditionState RIDER1 MOVING
AliasConditionState RIDER1 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER1 MOVING RIGHT_TO_CENTER
AliasConditionState RIDER1 MOVING CENTER_TO_LEFT
AliasConditionState RIDER1 MOVING LEFT_TO_CENTER
AliasConditionState RIDER1 REALLYDAMAGED
AliasConditionState RIDER1 MOVING REALLYDAMAGED
AliasConditionState RIDER1 REALLYDAMAGED MOVING CENTER_TO_RIGHT
AliasConditionState RIDER1 REALLYDAMAGED MOVING RIGHT_TO_CENTER
AliasConditionState RIDER1 REALLYDAMAGED MOVING CENTER_TO_LEFT
AliasConditionState RIDER1 REALLYDAMAGED MOVING LEFT_TO_CENTER

ConditionState  RIDER4
ShowSubObject  BOX08
End
AliasConditionState RIDER4 MOVING
AliasConditionState RIDER4 REALLYDAMAGED
AliasConditionState RIDER4 MOVING REALLYDAMAGED


ConditionState  RIDER4 MOVING CENTER_TO_LEFT
Model                UVCmbtBK_BA1
Animation            UVCmbtBK_BA1.UVCmbtBK_BA1
AnimationMode        ONCE
ShowSubObject        BOX08
End
AliasConditionState  RIDER4 MOVING CENTER_TO_LEFT REALLYDAMAGED


ConditionState  RIDER4 MOVING LEFT_TO_CENTER
Model                UVCmbtBK_BA1
Animation            UVCmbtBK_BA1.UVCmbtBK_BA1
AnimationMode        ONCE_BACKWARDS
ShowSubObject        BOX08
End
AliasConditionState  RIDER4 MOVING LEFT_TO_CENTER REALLYDAMAGED


ConditionState  RIDER4 MOVING CENTER_TO_RIGHT
Model                UVCmbtBK_BA2
Animation            UVCmbtBK_BA2.UVCmbtBK_BA2
AnimationMode        ONCE
ShowSubObject        BOX08
End
AliasConditionState  RIDER4 MOVING CENTER_TO_RIGHT REALLYDAMAGED


ConditionState  RIDER4 MOVING RIGHT_TO_CENTER
Model                UVCmbtBK_BA2
Animation            UVCmbtBK_BA2.UVCmbtBK_BA2
AnimationMode        ONCE_BACKWARDS
ShowSubObject        BOX08
End
AliasConditionState  RIDER4 MOVING RIGHT_TO_CENTER REALLYDAMAGED

End


Draw  W3DModelDraw ModuleTag_Rider01
OkToChangeModelColor  Yes

DefaultConditionState
;**************************************************
;*** Must have a default model in order to see
;*** house color!!!
;**************************************************
Model  UIAnar_SKN_D
HideSubObject  MuzzleFX01 MuzzleFX02 MuzzleFX
End
AliasConditionState MOVING

;Worker animations
;-----------------------
ConditionState  RIDER1
Model  UIAnar_SKN_D
Animation            UIWrkr_SKL.UIWrkr_CmBk_A5
AnimationMode  LOOP
End
ConditionState  RIDER1 MOVING
Model  UIAnar_SKN_D
Animation            UIWrkr_SKL.UIWrkr_CmBk_A4
AnimationMode  LOOP
End
ConditionState  RIDER1 MOVING CENTER_TO_LEFT
Model  UIAnar_SKN_D
Animation            UIWrkr_SKL.UIWrkr_CmBk_A1
AnimationMode        ONCE
End
ConditionState  RIDER1 MOVING LEFT_TO_CENTER
Model  UIAnar_SKN_D
Animation            UIWrkr_SKL.UIWrkr_CmBk_A1
AnimationMode        ONCE_BACKWARDS
End
ConditionState  RIDER1 MOVING CENTER_TO_RIGHT
Model  UIAnar_SKN_D
Animation            UIWrkr_SKL.UIWrkr_CmBk_A2
AnimationMode        ONCE
End
ConditionState  RIDER1 MOVING RIGHT_TO_CENTER
Model  UIAnar_SKN_D
Animation            UIWrkr_SKL.UIWrkr_CmBk_A2
AnimationMode        ONCE_BACKWARDS
End


;Rebel animations
;-----------------------
ConditionState  RIDER2
Model  UIRGrdBK_SKN
Animation            UIRGrd_SKL.UIRGrd_CmBk_A5
AnimationMode  LOOP
End
ConditionState  RIDER2 MOVING
Model  UIRGrdBK_SKN
Animation            UIRGrd_SKL.UIRGrd_CmBk_A4
AnimationMode  LOOP
End
ConditionState  RIDER2 MOVING CENTER_TO_LEFT
Model  UIRGrdBK_SKN
Animation            UIRGrd_SKL.UIRGrd_CmBk_A1
AnimationMode        ONCE
End
ConditionState  RIDER2 MOVING LEFT_TO_CENTER
Model  UIRGrdBK_SKN
Animation            UIRGrd_SKL.UIRGrd_CmBk_A1
AnimationMode        ONCE_BACKWARDS
End
ConditionState  RIDER2 MOVING CENTER_TO_RIGHT
Model  UIRGrdBK_SKN
Animation            UIRGrd_SKL.UIRGrd_CmBk_A2
AnimationMode        ONCE
End
ConditionState  RIDER2 MOVING RIGHT_TO_CENTER
Model  UIRGrdBK_SKN
Animation            UIRGrd_SKL.UIRGrd_CmBk_A2
AnimationMode        ONCE_BACKWARDS
End

;RPG Trooper animations
;-----------------------
ConditionState  RIDER3
Model  UITunF_SKN_B
Animation            UITunF_SKL.UITunF_CmBk_A5
AnimationMode  LOOP
End
ConditionState  RIDER3 MOVING
Model  UITunF_SKN_B
Animation            UITunF_SKL.UITunF_CmBk_A4
AnimationMode  LOOP
End
ConditionState  RIDER3 MOVING CENTER_TO_LEFT
Model  UITunF_SKN_B
Animation            UITunF_SKL.UITunF_CmBk_A1
AnimationMode        ONCE
End
ConditionState  RIDER3 MOVING LEFT_TO_CENTER
Model  UITunF_SKN_B
Animation            UITunF_SKL.UITunF_CmBk_A1
AnimationMode        ONCE_BACKWARDS
End
ConditionState  RIDER3 MOVING CENTER_TO_RIGHT
Model  UITunF_SKN_B
Animation            UITunF_SKL.UITunF_CmBk_A2
AnimationMode        ONCE
End
ConditionState  RIDER3 MOVING RIGHT_TO_CENTER
Model  UITunF_SKN_B
Animation            UITunF_SKL.UITunF_CmBk_A2
AnimationMode        ONCE_BACKWARDS
End

;Jarmen Kell animations
;-----------------------
ConditionState  RIDER4
Model  UIHEROBK_SKN
Animation            UIHERO_SKL.UIHERO_CmBk_A5
AnimationMode  LOOP
End
ConditionState  RIDER4 MOVING
Model  UIHEROBK_SKN
Animation            UIHERO_SKL.UIHERO_CmBk_A4
AnimationMode  LOOP
End
ConditionState  RIDER4 MOVING CENTER_TO_LEFT
Model  UIHEROBK_SKN
Animation            UIHERO_SKL.UIHERO_CmBk_A1
AnimationMode        ONCE
End
ConditionState  RIDER4 MOVING LEFT_TO_CENTER
Model  UIHEROBK_SKN
Animation            UIHERO_SKL.UIHERO_CmBk_A1
AnimationMode        ONCE_BACKWARDS
End
ConditionState  RIDER4 MOVING CENTER_TO_RIGHT
Model  UIHEROBK_SKN
Animation            UIHERO_SKL.UIHERO_CmBk_A2
AnimationMode        ONCE
End
ConditionState  RIDER4 MOVING RIGHT_TO_CENTER
Model  UIHEROBK_SKN
Animation            UIHERO_SKL.UIHERO_CmBk_A2
AnimationMode        ONCE_BACKWARDS
End

;Terrorist animations
;-----------------------
ConditionState  RIDER5
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITrr_Cmbk_A5
AnimationMode  LOOP
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End
ConditionState  RIDER5 MOVING
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITrr_Cmbk_A4
AnimationMode  LOOP
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End
ConditionState  RIDER5 MOVING CENTER_TO_LEFT
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITrr_Cmbk_A1
AnimationMode  ONCE
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End
ConditionState  RIDER5 MOVING LEFT_TO_CENTER
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITrr_Cmbk_A1
AnimationMode  ONCE_BACKWARDS
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End
ConditionState  RIDER5 MOVING CENTER_TO_RIGHT
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITrr_Cmbk_A2
AnimationMode  ONCE
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End
ConditionState  RIDER5 MOVING RIGHT_TO_CENTER
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITrr_Cmbk_A2
AnimationMode  ONCE_BACKWARDS
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End


;Hijacker animations
;-----------------------
ConditionState  RIDER6
Model  UIHJCK_SKN
Animation            UIHJCK_SKL.UIHJACK_CmBk_A5
AnimationMode  LOOP
End
ConditionState  RIDER6 MOVING
Model  UIHJCK_SKN
Animation            UIHJCK_SKL.UIHJACK_CmBk_A4
AnimationMode  LOOP
End
ConditionState  RIDER6 MOVING CENTER_TO_LEFT
Model  UIHJCK_SKN
Animation            UIHJCK_SKL.UIHJACK_CmBk_A1
AnimationMode        ONCE
End
ConditionState  RIDER6 MOVING LEFT_TO_CENTER
Model  UIHJCK_SKN
Animation            UIHJCK_SKL.UIHJACK_CmBk_A1
AnimationMode        ONCE_BACKWARDS
End
ConditionState  RIDER6 MOVING CENTER_TO_RIGHT
Model  UIHJCK_SKN
Animation            UIHJCK_SKL.UIHJACK_CmBk_A2
AnimationMode        ONCE
End
ConditionState  RIDER6 MOVING RIGHT_TO_CENTER
Model  UIHJCK_SKN
Animation            UIHJCK_SKL.UIHJACK_CmBk_A2
AnimationMode        ONCE_BACKWARDS
End

;Partisan animations
;-----------------------
ConditionState  RIDER7
Model  UIPrtisn_SKN_C
Animation            UIRGrd_SKL.UIRGrd_CmBk_A5
AnimationMode  LOOP
End
ConditionState  RIDER7 MOVING
Model  UIPrtisn_SKN_C
Animation            UIRGrd_SKL.UIRGrd_CmBk_A4
AnimationMode  LOOP
End
ConditionState  RIDER7 MOVING CENTER_TO_LEFT
Model  UIPrtisn_SKN_C
Animation            UIRGrd_SKL.UIRGrd_CmBk_A1
AnimationMode        ONCE
End
ConditionState  RIDER7 MOVING LEFT_TO_CENTER
Model  UIPrtisn_SKN_C
Animation            UIRGrd_SKL.UIRGrd_CmBk_A1
AnimationMode        ONCE_BACKWARDS
End
ConditionState  RIDER7 MOVING CENTER_TO_RIGHT
Model  UIPrtisn_SKN_C
Animation            UIRGrd_SKL.UIRGrd_CmBk_A2
AnimationMode        ONCE
End
ConditionState  RIDER7 MOVING RIGHT_TO_CENTER
Model  UIPrtisn_SKN_C
Animation            UIRGrd_SKL.UIRGrd_CmBk_A2
AnimationMode        ONCE_BACKWARDS
End

;Riderless animations
;-----------------------
ConditionState  RIDER8
Model  None
End
AliasConditionState RIDER8 MOVING
AliasConditionState RIDER8 MOVING CENTER_TO_LEFT
AliasConditionState RIDER8 MOVING LEFT_TO_CENTER
AliasConditionState RIDER8 MOVING CENTER_TO_RIGHT
AliasConditionState RIDER8 MOVING RIGHT_TO_CENTER

ConditionState  TOPPLED
Model  None
End
AliasConditionState TOPPLED MOVING

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CombatBike
Side                 GLA
EditorSorting        VEHICLE
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY NONE
End

;Anarchist Weaponset
WeaponSet
Conditions  WEAPON_RIDER1
Weapon  PRIMARY AnarchistCombatCycleGrenadeWeapon
End

;Rebel Weaponset
WeaponSet
Conditions  WEAPON_RIDER2
Weapon  PRIMARY GLARebelBikerMachineGun
End

;Tunnel Defender Weaponset
WeaponSet
Conditions  WEAPON_RIDER3
Weapon  PRIMARY   TunnelDefenderBikerRocketWeapon
Weapon  SECONDARY TunnelDefenderBikerRocketAirWeapon
ShareWeaponReloadTime  Yes
End

;Jarmen Kell Weaponset
WeaponSet
Conditions  WEAPON_RIDER4
Weapon             PRIMARY   GLAJarmenKellRifle
Weapon             SECONDARY GLAJarmenKellBikeVehiclePilotSniperRifle
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  GLAJarmenKellBikeSupresiveFireWeapon
AutoChooseSources  TERTIARY  NONE
End

;Terrorist Weaponset
WeaponSet
Conditions  WEAPON_RIDER5
Weapon  PRIMARY TerroristSuicideWeapon
End
WeaponSet
Conditions  HERO WEAPON_RIDER5
Weapon  PRIMARY TerroristSuicideWeapon
End

;Partisan Weaponset
WeaponSet
Conditions  WEAPON_RIDER7
Weapon  PRIMARY GLAPartisanCombatBikeWeapon
End
WeaponSet
Conditions  HERO WEAPON_RIDER7
Weapon  PRIMARY GLAPartisanCombatBikeWeapon
End

;No Rider Weaponset
WeaponSet
Conditions  WEAPON_RIDER8
Weapon  PRIMARY None
End

ArmorSet
Conditions       None
Armor            CombatBikeArmor
DamageFX         TankDamageFX
End
BuildCost        400
BuildTime        5.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicle
End

ExperienceValue        50 50 100 150    ;Experience point value at each level
ExperienceRequired     0 200 400 800  ;Experience points needed to gain each level
IsTrainable            Yes             ;Can gain experience
;CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet             GLAVehicleCombatBikeCommandSet ****COMMANDSET is overwritten in RiderChangeContain!

; *** AUDIO Parameters ***
VoiceSelect  CombatCycleVoiceSelect
VoiceMove  CombatCycleVoiceMove
VoiceAttack  CombatCycleVoiceAttack
SoundMoveStart  CombatBikeMoveStart
SoundMoveStartDamaged  CombatBikeMoveStart
VoiceGuard  CombatCycleVoiceMove
SoundEnter  CombatCycleSwitchRider

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           CombatCycleVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
; Required for the W3DTruckDraw module
TruckLandingSound  RocketBuggyLand
TruckPowerslideSound  CombatBikeMoveStart
VoiceCrush       CombatCycleVoiceMove
VoiceEnter  CombatCycleVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE CLIFF_JUMPER DONT_AUTO_CRUSH_INFANTRY IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED

Body  ActiveBody ModuleTag_02
MaxHealth        100
InitialHealth    100

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  200
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  0       ; turn rate, in degrees per sec
NaturalTurretAngle  0
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
End
Locomotor  SET_NORMAL CombatBikeGroundLocomotor CombatBikeCliffLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  15.0
End

Behavior  SlowDeathBehavior DeathTag_04
ExemptStatus  STATUS_RIDER1 STATUS_RIDER2 STATUS_RIDER3 STATUS_RIDER4 STATUS_RIDER5 STATUS_RIDER6 STATUS_RIDER7
RequiredStatus  STATUS_RIDER8
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
FX  FINAL FX_CombatCycleDieNoScream
OCL  FINAL OCL_CombatBikeAirDeathStart
End
Behavior  SlowDeathBehavior DeathTag_05
RequiredStatus  STATUS_RIDER1
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_DEMOBuggyNewDeathExplosion
OCL  FINAL OCL_CombatBikeAirDeathStart
FX   FINAL FX_CombatCycleDie
End
Behavior  FireWeaponWhenDeadBehavior DeathTag_Fuck01 ;without shoes
RequiredStatus   STATUS_RIDER1
DeathWeapon  NormalWorkerBikeDeathWithoutShoes
StartsActive  Yes
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
ConflictsWith  Upgrade_GLAWorkerShoes
End
Behavior  FireWeaponWhenDeadBehavior DeathTag_Fuck02 ;with shoes
RequiredStatus   STATUS_RIDER1
DeathWeapon  NormalWorkerBikeDeathWithShoes
StartsActive  No
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
TriggeredBy  Upgrade_GLAWorkerShoes
End
Behavior  SlowDeathBehavior DeathTag_06
RequiredStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
OCL  INITIAL OCL_RebelFlyingOffBikeDeathStart
FX  FINAL FX_CombatCycleDie
OCL  FINAL OCL_CombatBikeAirDeathStart
End
Behavior  SlowDeathBehavior DeathTag_07
RequiredStatus  STATUS_RIDER3
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
OCL  INITIAL OCL_TunnelDefenderFlyingOffBikeDeathStart
FX  FINAL FX_CombatCycleDie
OCL  FINAL OCL_CombatBikeAirDeathStart
End
Behavior  SlowDeathBehavior DeathTag_08
RequiredStatus  STATUS_RIDER4
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
OCL  INITIAL OCL_JarmenKellFlyingOffBikeDeathStart
FX  FINAL FX_CombatCycleDie
OCL  FINAL OCL_CombatBikeAirDeathStart
End
Behavior  SlowDeathBehavior DeathTag_09
RequiredStatus  STATUS_RIDER5
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
OCL  INITIAL OCL_TerroristFlyingOffBikeDeathStart
OCL  FINAL OCL_CombatBikeAirDeathStart
End
Behavior  SlowDeathBehavior DeathTag_10
RequiredStatus  STATUS_RIDER6
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
OCL  INITIAL OCL_HijackerFlyingOffBikeDeathStart
FX  FINAL FX_CombatCycleDie
OCL  FINAL OCL_CombatBikeAirDeathStart
End
Behavior  SlowDeathBehavior DeathTag_11
RequiredStatus  STATUS_RIDER7
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
DestructionDelay  0
FX  INITIAL FX_BuggyNewDeathExplosion
OCL  INITIAL OCL_PartisanFlyingOffBikeDeathStart
FX  FINAL FX_CombatCycleDie
OCL  FINAL OCL_CombatBikeAirDeathStart
End

Behavior  AutoHealBehavior ModuleTag_08
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
CreationList  OCL_RocketBuggy_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_14
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior                  TransitionDamageFX ModuleTag_15
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  RiderChangeContain ModuleTag_16
;A list of each valid rider that is allowed to ride this object. Each rider is
;assigned a modelcondition state, a weaponset flag, an object status bit, and
;a commandset override. The actual object is hidden inside the container so the
;visible rider is fluff. Also riders are deleted (not killed) when the bike is
;destroyed, so all deaths must be OCLs on the bike.
Rider1  GLAInfantryAnarchist           RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleCombatBikeDefaultCommandSet    SET_NORMAL
Rider2  GLAInfantryRebel               RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleCombatBikeDefaultCommandSet    SET_NORMAL
Rider3  GLAInfantryTunnelDefender      RIDER3 WEAPON_RIDER3 STATUS_RIDER3 GLAVehicleCombatBikeDefaultCommandSet    SET_NORMAL
Rider4  GLAInfantryJarmenKell          RIDER4 WEAPON_RIDER4 STATUS_RIDER4 GLAVehicleCombatBikeJarmenKellCommandSet SET_NORMAL
Rider5  GLAInfantryTerrorist           RIDER5 WEAPON_RIDER5 STATUS_RIDER5 GLAVehicleTerrorBikeDefaultCommandSet    SET_NORMAL
Rider6  GLAInfantryHijacker            RIDER6 WEAPON_RIDER6 STATUS_RIDER6 GLAVehicleCombatBikeDefaultCommandSet    SET_NORMAL
Rider7  GLAInfantryPartisan            RIDER7 WEAPON_RIDER7 STATUS_RIDER7 GLAVehicleCombatBikeDefaultCommandSet    SET_NORMAL
Rider8  GenericFakeRider1_Default_Rank RIDER8 WEAPON_RIDER8 STATUS_RIDER8 StopOnlyGenericCommandSet                SET_SUPERSONIC
ScuttleDelay           1500
ScuttleStatus          TOPPLED

;Standard TransportContain stuff
Slots                  1
InitialPayload         GLAInfantryTunnelDefender 1
ScatterNearbyOnExit    No
DamagePercentToUnits   100%  ; This module will Delete the rider on death, but we need to kill him as well so he doesn't pick up the bike's salvage crate.
BurnedDeathToUnits     No    ; And no Burned death.
AllowInsideKindOf      CAN_ATTACK
ExitDelay          250
NumberOfExitPaths  1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime  0
End

Behavior  AnimationSteeringUpdate ModuleTag_17
MinTransitionTime  300
End

Behavior            OCLSpecialPower ModuleTag_DitchRider01
SpecialPowerTemplate  SuperweaponInstantAbility
OCL                   OCL_GenericDummyRider1_Normal
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death18
RequiredStatus   STATUS_RIDER5
DeathWeapon      SuicideBikeBomb
StartsActive     Yes
DeathTypes       NONE +SUICIDED +CRUSHED +SPLATTED +LASERED +BURNED +EXPLODED
End

Behavior  StealthUpdate ModuleTag_19
UseRiderStealth  Yes
ForbiddenStatus  STATUS_RIDER5 ;Don't stealth with terrorists even tho they are stealthed on foot
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_ApRockets01
TriggeredBy  Upgrade_GLAAPRockets Upgrade_GLAAPBullets
End

Geometry  BOX
GeometryMajorRadius  11.0
GeometryMinorRadius  2.5
GeometryHeight  7.5
GeometryIsSmall  Yes

Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object GLAVehicleBombTruck

; *** ART Parameters ***
SelectPortrait          SUBombTruck_L
ButtonImage             SUBombTruck

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVBMBTRUK
End
End

; set cost and time fields here or else they won't work
BuildCost        700
BuildTime        15.0

Prerequisites
Object  GLAPalace
Science   SCIENCE_HighExplosiveCaches
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleBombTruck_Var1 GLAVehicleBombTruck_Var2 GLAVehicleBombTruck_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE DISGUISER CANNOT_RETALIATE

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object GLAVehicleBombTruck_Var1

; *** ART Parameters ***
SelectPortrait          SUBombTruck_L
ButtonImage             SUBombTruck

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
TrackMarks  EXTireTrack.tga

ConditionState  NONE
Model  UVBMBTRUK
Animation  UVBMBTRUK.UVBMBTRUK
AnimationMode  LOOP
ShowSubObject  BombLoad01
HideSubObject  Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER1

ConditionState  RIDER1 REALLYDAMAGED
Model  UVBMBTRUK_D
Animation  UVBMBTRUK_D.UVBMBTRUK_D
AnimationMode  LOOP
ShowSubObject  BombLoad01
HideSubObject  Bombload02 Bombload03 Bombload04
End

;High Explosive Bomb Load
ConditionState  RIDER1 DOOR_4_OPENING
Model  UVBMBTRUK
Animation  UVBMBTRUK.UVBMBTRUK
AnimationMode  LOOP
ShowSubObject  Bombload03
HideSubObject  Bombload01 Bombload02 Bombload04
End

ConditionState  RIDER1 DOOR_4_OPENING REALLYDAMAGED
Model  UVBMBTRUK_D
Animation  UVBMBTRUK_D.UVBMBTRUK_D
AnimationMode  LOOP
ShowSubObject  Bombload03
HideSubObject  Bombload01 Bombload02 Bombload04
End
AliasConditionState  RUBBLE DOOR_4_OPENING

;Toxic Bomb Load
ConditionState  RIDER1 DOOR_4_CLOSING
Model  UVBMBTRUK
Animation  UVBMBTRUK.UVBMBTRUK
AnimationMode  LOOP
ShowSubObject  Bombload02
HideSubObject  Bombload01 Bombload03 Bombload04
End

ConditionState  RIDER1 DOOR_4_CLOSING REALLYDAMAGED
Model  UVBMBTRUK_D
Animation  UVBMBTRUK_D.UVBMBTRUK_D
AnimationMode  LOOP
ShowSubObject  Bombload02
HideSubObject  Bombload01 Bombload03 Bombload04
End
AliasConditionState  RUBBLE DOOR_4_CLOSING

;Nuclear Bomb Load
ConditionState  RIDER2
Model  UVBMBTRUK
Animation  UVBMBTRUK.UVBMBTRUK
AnimationMode  LOOP
ShowSubObject  NONE
HideSubObject  Bombload01 Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER3
AliasConditionState  RIDER4
AliasConditionState  RIDER5
AliasConditionState  RIDER2 DOOR_4_OPENING
AliasConditionState  RIDER3 DOOR_4_OPENING
AliasConditionState  RIDER4 DOOR_4_OPENING
AliasConditionState  RIDER5 DOOR_4_OPENING
AliasConditionState  RIDER2 DOOR_4_CLOSING
AliasConditionState  RIDER3 DOOR_4_CLOSING
AliasConditionState  RIDER4 DOOR_4_CLOSING
AliasConditionState  RIDER5 DOOR_4_CLOSING

ConditionState  RIDER2 REALLYDAMAGED
Model  UVBMBTRUK_D
Animation  UVBMBTRUK_D.UVBMBTRUK_D
AnimationMode  LOOP
ShowSubObject  NONE
HideSubObject  Bombload01 Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER3 REALLYDAMAGED
AliasConditionState  RIDER4 REALLYDAMAGED
AliasConditionState  RIDER5 REALLYDAMAGED
AliasConditionState  RIDER2 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER3 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER4 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER5 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER2 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER3 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER4 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER5 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER3 RUBBLE
AliasConditionState  RIDER4 RUBBLE
AliasConditionState  RIDER5 RUBBLE
AliasConditionState  RIDER2 DOOR_4_OPENING RUBBLE
AliasConditionState  RIDER3 DOOR_4_OPENING RUBBLE
AliasConditionState  RIDER4 DOOR_4_OPENING RUBBLE
AliasConditionState  RIDER5 DOOR_4_OPENING RUBBLE
AliasConditionState  RIDER2 DOOR_4_CLOSING RUBBLE
AliasConditionState  RIDER3 DOOR_4_CLOSING RUBBLE
AliasConditionState  RIDER4 DOOR_4_CLOSING RUBBLE
AliasConditionState  RIDER5 DOOR_4_CLOSING RUBBLE

ConditionState  RUBBLE
Model  UVBMBTRUK_D
End

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
MidLeftMidTireBone  Tire03
MidRightMidTireBone  Tire04
LeftRearTireBone  Tire05
RightRearTireBone  Tire06
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_NukePayload01

ConditionState  NONE
Model  NONE
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 REALLYDAMAGED

;Dirty Nuclear Bomb Load
ConditionState  RIDER2
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload05
HideSubObject  Bombload06 Bombload07 Bombload08
End

ConditionState  RIDER2 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload05
HideSubObject  Bombload06 Bombload07 Bombload08
End

;Tactical Nuclear Bomb Load
ConditionState  RIDER3
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload06
HideSubObject  Bombload05 Bombload07 Bombload08
End

ConditionState  RIDER3 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload06
HideSubObject  Bombload05 Bombload07 Bombload08
End

;Mirv Nuclear Bomb Load
ConditionState  RIDER4
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload07
HideSubObject  Bombload05 Bombload06 Bombload08
End

ConditionState  RIDER4 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload07
HideSubObject  Bombload05 Bombload06 Bombload08
End

;Neutron Bomb Load
ConditionState  RIDER5
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload08
HideSubObject  Bombload05 Bombload06 Bombload07
End

ConditionState  RIDER5 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload08
HideSubObject  Bombload05 Bombload06 Bombload07
End

End

Draw  W3DModelDraw ModuleTag_SmokeExhaust01

ConditionState  NONE
Model  UVBmTrckTrl
HideSubObject  CHASSIS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVBmTrckTrl
HideSubObject  CHASSIS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

End

Draw  W3DModelDraw ModuleTag_ChinaTier1

DefaultConditionState
Model  UVBTrckNpl
HideSubObject  NAPALM
End

ConditionState  REALLYDAMAGED
Model  UVBTrckNpl_D
End

End

Draw  W3DModelDraw ModuleTag_ECATier2

DefaultConditionState
Model  UVBTrckCBmb
HideSubObject  MORTAR02 WIREO06 TAPE04
End

ConditionState  REALLYDAMAGED
Model  UVBTrckCBmb_D
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:BombTruck
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  PRIMARY SuicideWeapon
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  PRIMARY SuicideWeapon
End

WeaponSet
Conditions  WEAPON_RIDER3
Weapon  PRIMARY SuicideWeapon
End

WeaponSet
Conditions  WEAPON_RIDER4
Weapon  PRIMARY SuicideWeapon
End

WeaponSet
Conditions  WEAPON_RIDER5
Weapon  PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TruckDamageFX
End

BuildCost        700
BuildTime        15.0          ;in seconds
VisionRange      200
ShroudClearingRange  200
Prerequisites
Object  GLAPalace
Science   SCIENCE_HighExplosiveCaches
End
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  BombTruckVoiceSelect
VoiceMove  BombTruckVoiceMove
VoiceGuard  BombTruckVoiceMove
VoiceAttack  BombTruckVoiceAttack
SoundMoveStart  BombTruckMoveStart
SoundMoveStartDamaged  BombTruckMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate                    BombTruckVoiceCreate
TurretMoveStart                NoSound
TurretMoveLoop                 NoSound
TruckLandingSound              RocketBuggyLand
TruckPowerslideSound           NoSound
DisguiseStarted                BombTruckDisguiseStarted
DisguiseRevealedSuccess        BombTruckDisguiseRevealedSuccess
DisguiseRevealedFailure        BombTruckDisguiseRevealedFailure
VoiceEnter  BombTruckVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE DISGUISER CANNOT_RETALIATE IGNORE_DOCKING_BONES

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  440
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

ExperienceValue      50 50 50 50  ; Experience point value at each level
IsTrainable  No

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  No ATTACK_BUILDINGS
End
Locomotor  SET_NORMAL BombTruckLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  40.0
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Napalm Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ShowSubObjects  NAPALM
ConflictsWith   Upgrade_GLAWorkerRealCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade02
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
DeathWeapon    FirestormSmallCreationWeapon
StartsActive   No
ConflictsWith  Upgrade_GLAWorkerRealCommandSet
End

;Cluster Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade03
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
ShowSubObjects  MORTAR02 WIREO06 TAPE04
ConflictsWith   Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade04
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
DeathWeapon    BombTruckClusterBombDetonationWeapon
StartsActive   No
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  AutoHealBehavior ModuleTag_06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  ProductionUpdate ModuleTag_07
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  SlowDeathBehavior  ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  STATUS_RIDER4
ProbabilityModifier  5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
DestructionDelay  0
DestructionDelayVariance  200
FX  FINAL FX_BuggyNewDeathExplosion
OCL  FINAL OCL_BombTruckDeathEffect
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Hulk
DeathWeapon    BombTruckDefaultHulk
StartsActive   Yes
ConflictsWith   Upgrade_GLABombTruckBioBomb
End

;***************************************
;******Transformation Code Start********
;***************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Default Rider
Rider1  BombTruckDefaultBombRider       RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleBombTruckCommandSet         SET_NORMAL

;;;;Dirty Nuke Rider
Rider2  BombTruckDirtyNukeBombRider     RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleBombTruckUpgradedCommandSet SET_NORMAL

;;;Tactical Nuke Rider
Rider3  BombTruckTacticalNukeBombRider  RIDER3 WEAPON_RIDER3 STATUS_RIDER3 GLAVehicleBombTruckUpgradedCommandSet SET_NORMAL

;;;;Mirv Nuke Rider
Rider4  BombTruckMirvWarheadBombRider   RIDER4 WEAPON_RIDER4 STATUS_RIDER4 GLAVehicleBombTruckUpgradedCommandSet SET_NORMAL

;;;;Neutron Bomb Rider
Rider5  BombTruckNeutronBombRider       RIDER5 WEAPON_RIDER5 STATUS_RIDER5 GLAVehicleBombTruckUpgradedCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         BombTruckDefaultBombRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
EnterSound             RocketBuggyWeaponSwitch
End



;;Standard Bomb Loadout
Behavior  FireWeaponWhenDeadBehavior ModuleTag_StandardBombModes01
DeathWeapon     BombTruckDefaultBombDamage
StartsActive    Yes
RequiredStatus  STATUS_RIDER1
ConflictsWith   Upgrade_GLABombTruckHighExplosiveBomb Upgrade_GLABombTruckBioBomb
End
Behavior  FireWeaponWhenDeadBehavior  ModuleTag_StandardBombModes02
DeathWeapon     BombTruckDefaultBombEffect
StartsActive    Yes
RequiredStatus  STATUS_RIDER1
ConflictsWith   Upgrade_GLABombTruckHighExplosiveBomb Upgrade_GLABombTruckBioBomb
End

;High Explosive Bomb Loadout
Behavior  FireWeaponWhenDeadBehavior  ModuleTag_StandardBombModes03
DeathWeapon     BombTruckHighExplosionBombDamage
StartsActive    No
RequiredStatus  STATUS_RIDER1
TriggeredBy     Upgrade_GLABombTruckHighExplosiveBomb
ConflictsWith   Upgrade_GLABombTruckBioBomb
End
Behavior  FireWeaponWhenDeadBehavior  ModuleTag_StandardBombModes04
DeathWeapon     BombTruckHighExplosiveBombEffect
StartsActive    No
RequiredStatus  STATUS_RIDER1
TriggeredBy     Upgrade_GLABombTruckHighExplosiveBomb
ConflictsWith   Upgrade_GLABombTruckBioBomb
End
Behavior  ModelConditionUpgrade ModuleTag_RadarScan05
ConditionFlag  DOOR_4_OPENING
TriggeredBy    Upgrade_GLABombTruckHighExplosiveBomb
End

;Bio Bomb Loadout
Behavior  FireWeaponWhenDeadBehavior  ModuleTag_StandardBombModes06
DeathWeapon     BombTruckDefaultBombDamage
StartsActive    No
RequiredStatus  STATUS_RIDER1
TriggeredBy     Upgrade_GLABombTruckBioBomb
ConflictsWith   Upgrade_GLABombTruckHighExplosiveBomb
End
Behavior  FireWeaponWhenDeadBehavior  ModuleTag_StandardBombModes07  ;Green Anthrax Death
DeathWeapon     BombTruckBioBombEffect
StartsActive    No
RequiredStatus  STATUS_RIDER1
TriggeredBy     Upgrade_GLABombTruckBioBomb
ConflictsWith   Upgrade_GLABombTruckHighExplosiveBomb Upgrade_GLAAnthraxBeta
End
Behavior  FireWeaponWhenDeadBehavior  ModuleTag_StandardBombModes08  ;Blue Antrhax Death
DeathWeapon     BombTruckAnthraxBombEffect
StartsActive    No
RequiredStatus  STATUS_RIDER1
TriggeredBy     Upgrade_GLABombTruckBioBomb Upgrade_GLAAnthraxBeta
ConflictsWith   Upgrade_GLABombTruckHighExplosiveBomb
RequiresAllTriggers  Yes
End
Behavior  ModelConditionUpgrade ModuleTag_StandardBombModes09
ConditionFlag  DOOR_4_CLOSING
TriggeredBy    Upgrade_GLABombTruckBioBomb
End

;Upgrade weapon triggers
;These are triggered after purchasing the "upgrades" thus switching the bombtrucks into their different modes

;Dirty Nuke Bomb
Behavior  FireWeaponCollide ModuleTag_BombUpgrade01
CollideWeapon   BombTruckDirtyNukeUpgradeTriggerWeapon
RequiredStatus  PARACHUTING
End

;Nuclear Warhead Bomb
Behavior  FireWeaponCollide ModuleTag_BombUpgrade03
CollideWeapon   BombTruckTacticalNukeUpgradeTriggerWeapon
RequiredStatus  BOOBY_TRAPPED
End

;Mirv Warhead Bomb
Behavior  FireWeaponCollide ModuleTag_BombUpgrade04
CollideWeapon   BombTruckMirvWarheadUpgradeTriggerWeapon
RequiredStatus  DECK_HEIGHT_OFFSET
End

;Neutron Warhead Bomb
Behavior  FireWeaponCollide ModuleTag_BombUpgrade05
CollideWeapon   BombTruckNeutronWarheadUpgradeTriggerWeapon
RequiredStatus  STATUS_RIDER7
End

;This modules ensures that the unit is always colliding with something so that the above triggers work properly
Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericCollisionObjectDummy
End

Behavior  ObjectCreationUpgrade ModuleTag_Collision03
UpgradeObject  OCL_RadarVanGPSScrambler
TriggeredBy    Upgrade_CostReduction
End

;Dirty Nuke Bomb Loadout
Behavior  FireWeaponWhenDeadBehavior ModuleTag_DirtyNuke01
DeathWeapon     BombTruckHighExplosionBombDamage
StartsActive    Yes
RequiredStatus  STATUS_RIDER2
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DirtyNuke02
DeathWeapon     NukeCannonGunRadiationFieldSpawnWeapon
StartsActive    Yes
RequiredStatus  STATUS_RIDER2
End

;Chinese Tactical Nuke Bomb Loadout
Behavior  FireWeaponWhenDeadBehavior ModuleTag_TacticalNuke01
DeathWeapon     BombTruckTacticalNuclearWarheadDetonationDamageWeapon
StartsActive    Yes
RequiredStatus  STATUS_RIDER3
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_TacticalNuke02
DeathWeapon     BombTruckTacticalNuclearWarheadDetonationFXWeapon
StartsActive    Yes
RequiredStatus  STATUS_RIDER3
End

Behavior  CreateObjectDie ModuleTag_TacticalNuke03
RequiredStatus  STATUS_RIDER3
CreationList  OCL_GenericBigExplosionViewShake
End

;Russian Mirv Nuke Bomb Loadout
Behavior  FireWeaponWhenDeadBehavior ModuleTag_MirvNuke01
DeathWeapon     BombTruckNuclearWarheadDetonationWeapon
StartsActive    Yes
RequiredStatus  STATUS_RIDER4
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_MirvNuke02
DeathWeapon     TopolNuclearWarheadReentryAircraftDamageWeapon
StartsActive    Yes
RequiredStatus  STATUS_RIDER4
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_MirvNuke03
DeathWeapon     BombTruckNuclearWarheadScatterWeapon
StartsActive    Yes
RequiredStatus  STATUS_RIDER4
End

Behavior  SlowDeathBehavior  ModuleTag_MirvNuke04
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  STATUS_RIDER4
DestructionDelay  600
FX  FINAL FX_BuggyNewDeathExplosion
OCL  FINAL OCL_BombTruckDeathEffect

Weapon  INITIAL  BombTruckNuclearWarheadScatterWeapon
Weapon  MIDPOINT BombTruckNuclearWarheadScatterWeapon
Weapon  FINAL    BombTruckNuclearWarheadScatterWeapon
End

;ECA Neutron Bomb Loadout
Behavior  FireWeaponWhenDeadBehavior ModuleTag_NeutronBomb01
DeathWeapon     BombTruckNeutronWarheadBombWeapon
StartsActive    Yes
RequiredStatus  STATUS_RIDER5
End

;*************************************
;******Transformation Code End********
;*************************************



Behavior  SpecialAbility ModuleTag_20
SpecialPowerTemplate  SpecialAbilityDisguiseAsVehicle
UpdateModuleStartsAttack  Yes
InitiateSound  BombTruckVoiceDisguise
End
Behavior  SpecialAbilityUpdate ModuleTag_21
SpecialPowerTemplate  SpecialAbilityDisguiseAsVehicle
StartAbilityRange  1000000.0
ApproachRequiresLOS  No
End

; A crushing defeat
Behavior  FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_25
CrateData  SalvageCrateDataGLATier2
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  TransitionDamageFX ModuleTag_26
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_28
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_29
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  CommandSetUpgrade ModuleTag_ArmedWithBomb01
TriggeredBy  Upgrade_GLABombTruckHighExplosiveBomb Upgrade_GLABombTruckBioBomb
CommandSet   GLAVehicleBombTruckArmedCommandSet
End

Behavior  StealthUpdate ModuleTag_22
StealthDelay                           1
DisguisesAsTeam                        Yes
RevealDistanceFromTarget               100.0
OrderIdleEnemiesToAttackMeUponReveal   Yes
DisguiseFX                             FX_BombTruckDisguise
DisguiseRevealFX                       FX_BombTruckDisguiseReveal
InnateStealth                          Yes
DisguiseTransitionTime                 2000
DisguiseRevealTransitionTime           1000
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleBombTruck_Var2 GLAVehicleBombTruck_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
TrackMarks  EXTireTrack.tga

ConditionState  NONE
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  BombLoad01
HideSubObject  Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER1

ConditionState  RIDER1 REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  BombLoad01
HideSubObject  Bombload02 Bombload03 Bombload04
End

;High Explosive Bomb Load
ConditionState  RIDER1 DOOR_4_OPENING
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  Bombload03
HideSubObject  Bombload01 Bombload02 Bombload04
End

ConditionState  RIDER1 DOOR_4_OPENING REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  Bombload03
HideSubObject  Bombload01 Bombload02 Bombload04
End
AliasConditionState  RUBBLE DOOR_4_OPENING

;Toxic Bomb Load
ConditionState  RIDER1 DOOR_4_CLOSING
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  Bombload02
HideSubObject  Bombload01 Bombload03 Bombload04
End

ConditionState  RIDER1 DOOR_4_CLOSING REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  Bombload02
HideSubObject  Bombload01 Bombload03 Bombload04
End
AliasConditionState  RUBBLE DOOR_4_CLOSING

;Nuclear Bomb Load
ConditionState  RIDER2
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  NONE
HideSubObject  Bombload01 Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER3
AliasConditionState  RIDER4
AliasConditionState  RIDER5
AliasConditionState  RIDER2 DOOR_4_OPENING
AliasConditionState  RIDER3 DOOR_4_OPENING
AliasConditionState  RIDER4 DOOR_4_OPENING
AliasConditionState  RIDER5 DOOR_4_OPENING
AliasConditionState  RIDER2 DOOR_4_CLOSING
AliasConditionState  RIDER3 DOOR_4_CLOSING
AliasConditionState  RIDER4 DOOR_4_CLOSING
AliasConditionState  RIDER5 DOOR_4_CLOSING

ConditionState  RIDER2 REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  NONE
HideSubObject  Bombload01 Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER3 REALLYDAMAGED
AliasConditionState  RIDER4 REALLYDAMAGED
AliasConditionState  RIDER5 REALLYDAMAGED
AliasConditionState  RIDER2 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER3 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER4 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER5 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER2 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER3 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER4 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER5 DOOR_4_CLOSING REALLYDAMAGED

ConditionState  RUBBLE
Model  UVBmTrckTrl_D
End

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
MidLeftMidTireBone  Tire03
MidRightMidTireBone  Tire04
LeftRearTireBone  Tire05
RightRearTireBone  Tire06
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_NukePayload01

ConditionState  NONE
Model  NONE
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 REALLYDAMAGED

;Dirty Nuclear Bomb Load
ConditionState  RIDER2
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload05
HideSubObject  Bombload06 Bombload07 Bombload08
End

ConditionState  RIDER2 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload05
HideSubObject  Bombload06 Bombload07 Bombload08
End

;Tactical Nuclear Bomb Load
ConditionState  RIDER3
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload06
HideSubObject  Bombload05 Bombload07 Bombload08
End

ConditionState  RIDER3 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload06
HideSubObject  Bombload05 Bombload07 Bombload08
End

;Mirv Nuclear Bomb Load
ConditionState  RIDER4
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload07
HideSubObject  Bombload05 Bombload06 Bombload08
End

ConditionState  RIDER4 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload07
HideSubObject  Bombload05 Bombload06 Bombload08
End

;Neutron Bomb Load
ConditionState  RIDER5
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload08
HideSubObject  Bombload05 Bombload06 Bombload07
End

ConditionState  RIDER5 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload08
HideSubObject  Bombload05 Bombload06 Bombload07
End

End

Draw  W3DTruckDraw ModuleTag_Cabbin01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVBmbTrck1
HideSubObject  CHASSIS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  UVBmbTrck1
HideSubObject  CHASSIS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  UVBmbTrck1_D
HideSubObject  CHASSIS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End

ConditionState  REALLYDAMAGED MOVING
Model  UVBmbTrck1_D
HideSubObject  CHASSIS
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  Nada
DirtSpray  Nada
PowerslideSpray  Nada

End

Draw  W3DModelDraw ModuleTag_ChinaTier1

DefaultConditionState
Model  UVBTrckNpl
HideSubObject  NAPALM
End

ConditionState  REALLYDAMAGED
Model  UVBTrckNpl_D
End

End

Draw  W3DModelDraw ModuleTag_ECATier2

DefaultConditionState
Model  UVBTtkCBmb1
HideSubObject  MORTAR02 WIREO06 TAPE04
End

ConditionState  REALLYDAMAGED
Model  UVBTtkCBmb1_D
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleBombTruck_Var3 GLAVehicleBombTruck_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
TrackMarks  EXTireTrack.tga

ConditionState  NONE
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  BombLoad01
HideSubObject  Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER1

ConditionState  RIDER1 REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  BombLoad01
HideSubObject  Bombload02 Bombload03 Bombload04
End

;High Explosive Bomb Load
ConditionState  RIDER1 DOOR_4_OPENING
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  Bombload03
HideSubObject  Bombload01 Bombload02 Bombload04
End

ConditionState  RIDER1 DOOR_4_OPENING REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  Bombload03
HideSubObject  Bombload01 Bombload02 Bombload04
End
AliasConditionState  RUBBLE DOOR_4_OPENING

;Toxic Bomb Load
ConditionState  RIDER1 DOOR_4_CLOSING
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  Bombload02
HideSubObject  Bombload01 Bombload03 Bombload04
End

ConditionState  RIDER1 DOOR_4_CLOSING REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  Bombload02
HideSubObject  Bombload01 Bombload03 Bombload04
End
AliasConditionState  RUBBLE DOOR_4_CLOSING

;Nuclear Bomb Load
ConditionState  RIDER2
Model  UVBmTrckTrl
Animation  UVBmTrckTrl.UVBmTrckTrl
AnimationMode  LOOP
ShowSubObject  NONE
HideSubObject  Bombload01 Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER3
AliasConditionState  RIDER4
AliasConditionState  RIDER5
AliasConditionState  RIDER2 DOOR_4_OPENING
AliasConditionState  RIDER3 DOOR_4_OPENING
AliasConditionState  RIDER4 DOOR_4_OPENING
AliasConditionState  RIDER5 DOOR_4_OPENING
AliasConditionState  RIDER2 DOOR_4_CLOSING
AliasConditionState  RIDER3 DOOR_4_CLOSING
AliasConditionState  RIDER4 DOOR_4_CLOSING
AliasConditionState  RIDER5 DOOR_4_CLOSING

ConditionState  RIDER2 REALLYDAMAGED
Model  UVBmTrckTrl_D
Animation  UVBmTrckTrl_D.UVBmTrckTrl_D
AnimationMode  LOOP
ShowSubObject  NONE
HideSubObject  Bombload01 Bombload02 Bombload03 Bombload04
End
AliasConditionState  RIDER3 REALLYDAMAGED
AliasConditionState  RIDER4 REALLYDAMAGED
AliasConditionState  RIDER5 REALLYDAMAGED
AliasConditionState  RIDER2 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER3 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER4 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER5 DOOR_4_OPENING REALLYDAMAGED
AliasConditionState  RIDER2 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER3 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER4 DOOR_4_CLOSING REALLYDAMAGED
AliasConditionState  RIDER5 DOOR_4_CLOSING REALLYDAMAGED

ConditionState  RUBBLE
Model  UVBmTrckTrl_D
End

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
MidLeftMidTireBone  Tire03
MidRightMidTireBone  Tire04
LeftRearTireBone  Tire05
RightRearTireBone  Tire06
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_NukePayload01

ConditionState  NONE
Model  NONE
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 REALLYDAMAGED

;Dirty Nuclear Bomb Load
ConditionState  RIDER2
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload05
HideSubObject  Bombload06 Bombload07 Bombload08
End

ConditionState  RIDER2 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload05
HideSubObject  Bombload06 Bombload07 Bombload08
End

;Tactical Nuclear Bomb Load
ConditionState  RIDER3
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload06
HideSubObject  Bombload05 Bombload07 Bombload08
End

ConditionState  RIDER3 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload06
HideSubObject  Bombload05 Bombload07 Bombload08
End

;Mirv Nuclear Bomb Load
ConditionState  RIDER4
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload07
HideSubObject  Bombload05 Bombload06 Bombload08
End

ConditionState  RIDER4 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload07
HideSubObject  Bombload05 Bombload06 Bombload08
End

;Neutron Bomb Load
ConditionState  RIDER5
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload08
HideSubObject  Bombload05 Bombload06 Bombload07
End

ConditionState  RIDER5 REALLYDAMAGED
Model  UVNclrBmTrk
Animation  UVNclrBmTrk.UVNclrBmTrk
AnimationMode  LOOP
ShowSubObject  Bombload08
HideSubObject  Bombload05 Bombload06 Bombload07
End

End

Draw  W3DTruckDraw ModuleTag_Cabbin01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVBmbTrck2
HideSubObject  CHASSIS
End

ConditionState  MOVING
Model  UVBmbTrck2
HideSubObject  CHASSIS
End

ConditionState  REALLYDAMAGED
Model  UVBmbTrck2_D
HideSubObject  CHASSIS
End

ConditionState  REALLYDAMAGED MOVING
Model  UVBmbTrck2_D
HideSubObject  CHASSIS
End

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  Nada
DirtSpray  Nada
PowerslideSpray  Nada

End

Draw  W3DModelDraw ModuleTag_ChinaTier1

DefaultConditionState
Model  UVBTrckNpl
HideSubObject  NAPALM
End

ConditionState  REALLYDAMAGED
Model  UVBTrckNpl_D
End

End

Draw  W3DModelDraw ModuleTag_ECATier2

DefaultConditionState
Model  UVBTtkCBmb2
HideSubObject  MORTAR02 WIREO06 TAPE04
End

ConditionState  REALLYDAMAGED
Model  UVBTtkCBmb2_D
End

End

End
;------------------------------------------------------------------------------
Object GLAVehicleBattleBus

; *** ART Parameters ***
SelectPortrait          SUbattlebus_L
ButtonImage             SUbattlebus

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVBBus2
End
End

; set cost and time fields here or else they won't work
BuildCost        2000
BuildTime        20.0

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
Object GLAPalace
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleBattleBus_Var1 GLAVehicleBattleBus_Var2 GLAVehicleBattleBus_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER ARMOR_SALVAGER TRANSPORT SCORE FS_FAKE

End

;------------------------------------------------------------------------------
Object GLAVehicleBattleBus_Var1

; *** ART Parameters ***
SelectPortrait          SUbattlebus_L
ButtonImage             SUbattlebus

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
TrackMarks  EXTireTrack3.tga
ExtraPublicBone  BUSUP01
ExtraPublicBone  BUSUP02

DefaultConditionState
Model  UVBBus1
HideSubObject  BUSUP01 BUSUP02
Animation  UVBBus1.UVBBus1
AnimationMode  MANUAL
End
ConditionState  MOVING
Model  UVBBus1
Animation  UVBBus1.UVBBus1
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  UVBBus1_D
Animation  UVBBus1_D.UVBBus1_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING
Model  UVBBus1_D
Animation  UVBBus1_D.UVBBus1_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ; Set after our first death, natch
Model  UVBBus1_D1
Animation  UVBBus1_D1.UVBBus1_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE
AliasConditionState  RUBBLE SECOND_LIFE
AliasConditionState  MOVING SECOND_LIFE
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE
AliasConditionState  MOVING RUBBLE SECOND_LIFE
AliasConditionState  RUBBLE

;--------- One crates
ConditionState  ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus1
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus1.UVBBus1
AnimationMode  MANUAL
End
ConditionState  MOVING ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus1
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus1.UVBBus1
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus1_D
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus1_D.UVBBus1_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus1_D
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus1_D.UVBBus1_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus1_D1
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus1_D1.UVBBus1_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE ARMORSET_CRATEUPGRADE_ONE

;--------- Two crates
ConditionState  ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus1
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus1.UVBBus1
AnimationMode  MANUAL
End
ConditionState  MOVING ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus1
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus1.UVBBus1
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus1_D
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus1_D.UVBBus1_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus1_D
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus1_D.UVBBus1_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus1_D1
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus1_D1.UVBBus1_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE ARMORSET_CRATEUPGRADE_TWO

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DTruckDraw ModuleTag_EngineSmoke01
ConditionState  NONE
Model  UVBBus1_B
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
ConditionState  MOVING
Model  UVBBus1_B
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End
End

Draw  W3DTruckDraw ModuleTag_Headlights01

DefaultConditionState
Model  NONE
End
AliasConditionState  ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  SECOND_LIFE
AliasConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  NIGHT SECOND_LIFE
AliasConditionState  NIGHT SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  NIGHT SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO

ConditionState  NIGHT
Model  UVBBus1_N
HideSubObject  LIGHT02
ShowSubObject  LIGHT01
End
AliasConditionState  NIGHT ARMORSET_CRATEUPGRADE_ONE

ConditionState  NIGHT ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus1_N
HideSubObject  LIGHT01
ShowSubObject  LIGHT02
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:BattleBus
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  8                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost        1000
BuildTime        10.0          ;in seconds
VisionRange      225 ; Used in attack move targeting
ShroudClearingRange  250

WeaponSet
Conditions  None
Weapon  PRIMARY BattleBusPassengerDummyWeapon
End

ArmorSet
Conditions       None
Armor            BattleBusTruckArmor
DamageFX         TruckDamageFX
End
ArmorSet
Conditions       CRATE_UPGRADE_ONE
Armor            BattleBusTruckArmorPlusOne
DamageFX         TruckDamageFX
End
ArmorSet
Conditions       CRATE_UPGRADE_TWO
Armor            BattleBusTruckArmorPlusTwo
DamageFX         TruckDamageFX
End

ArmorSet
Conditions       SECOND_LIFE ; Set after our first death, natch
Armor            BattleBusStructureArmorTough
DamageFX         StructureDamageFXNoShake
End
ArmorSet
Conditions       CRATE_UPGRADE_ONE SECOND_LIFE ; Set after our first death, natch
Armor            BattleBusStructureArmorToughPlusOne
DamageFX         StructureDamageFXNoShake
End
ArmorSet
Conditions       CRATE_UPGRADE_TWO SECOND_LIFE ; Set after our first death, natch
Armor            BattleBusStructureArmorToughPlusTwo
DamageFX         StructureDamageFXNoShake
End

Prerequisites
Object GLAArmsDealer
Object GLABlackMarket
Object GLAPalace
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranVehicleSpecialists
End

IsTrainable  No
ExperienceValue  100 100 100 100 ;Experience point value at each level
CrusherLevel  2                  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel  2                ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  GLAVehicleBattleBusCommandSet

; *** AUDIO Parameters ***
VoiceSelect  BattleBusVoiceSelect
VoiceMove  BattleBusVoiceMove
VoiceGuard  BattleBusVoiceMove
VoiceAttack  BattleBusVoiceAttack
SoundMoveStart  BattleBusMoveStart
SoundMoveStartDamaged  BattleBusMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate                    BattleBusVoiceCreate
TruckLandingSound              RocketBuggyLand
VoiceUnload                    BattleBusVoiceUnload
DisguiseStarted                BombTruckDisguiseStarted
DisguiseRevealedSuccess        BombTruckDisguiseRevealedSuccess
DisguiseRevealedFailure        BombTruckDisguiseRevealedFailure
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER ARMOR_SALVAGER TRANSPORT SCORE DISGUISER

Body  UndeadBody ModuleTag_02 ; Body module that treats the first death as a state change
MaxHealth            750.0
InitialHealth        750.0

SecondLifeMaxHealth  250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_04
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY SECONDARY
End
MoodAttackCheckRate         33
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL BattleBusLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  40.0
End

Behavior  AutoHealBehavior ModuleTag_06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  BattleBusSlowDeathBehavior  ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  5
ModifierBonusPerOverkillPercent  20%  ; negative means less likely to pick this in the face of much damage, positive means more likely

; Part the first, uses when killed the first time from non-system (unresistable) damage
FXStartUndeath  FX_BattleBusStartUndeath
OCLStartUndeath  OCL_BattleBusStartUndeath
FXHitGround  FX_BattleBusHitGround
OCLHitGround  OCL_BattleBusHitGround
ThrowForce  50.0
PercentDamageToPassengers  10%
EmptyHulkDestructionDelay  0 ;1000 ; If non-zero, msec of emptiness before we kill ourselves with Penalty damage

; Part the second, normal fields of a SlowDeathBehavior
DestructionDelay  0
SinkDelay  1
SinkRate  3.0
DestructionDelay  5000
FX  INITIAL FX_BuggyNewDeathExplosion
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_29
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_25
CrateData  SalvageCrateDataGLATier2
End

Behavior  TransportContain  ModuleTag_10
PassengersAllowedToFire  Yes
Slots  6
InitialPayload  GLAInfantryTunnelDefender 4
DamagePercentToUnits  50%
AllowInsideKindOf   INFANTRY
ForbidInsideKindOf  NO_GARRISON
ExitDelay  250
NumberOfExitPaths  5 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
WeaponBonusPassedToPassengers  No
DelayExitInAir  Yes
End

Behavior  FlammableUpdate ModuleTag_28
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_31
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

;  ;This module is required to make the GPS scrambler work
;  Behavior  StealthUpdate ModuleTag_GPSStealth01
;    StealthDelay                 2000 ; msec
;    StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
;    InnateStealth                Yes
;    RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
;    OrderIdleEnemiesToAttackMeUponReveal   Yes
;  End

;Disguise Modules

Behavior  SpecialAbility ModuleTag_Disguise01
SpecialPowerTemplate  SpecialAbilityDisguiseAsVehicle
UpdateModuleStartsAttack  Yes
InitiateSound  BattleBusVoiceDisguise
End

Behavior  SpecialAbilityUpdate ModuleTag_Disguise02
SpecialPowerTemplate  SpecialAbilityDisguiseAsVehicle
StartAbilityRange  1000000.0
ApproachRequiresLOS  No
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpdate ModuleTag_Disguise03
StealthDelay                           1
DisguisesAsTeam                        Yes
RevealDistanceFromTarget               220.0
OrderIdleEnemiesToAttackMeUponReveal   Yes
StealthForbiddenConditions             RIDERS_ATTACKING
DisguiseFX                             FX_BombTruckDisguise
DisguiseRevealFX                       FX_BombTruckDisguiseReveal
InnateStealth                          Yes
DisguiseTransitionTime                 2000
DisguiseRevealTransitionTime           1000
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleBattleBus_Var2 GLAVehicleBattleBus_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
TrackMarks  EXTireTrack3.tga
ExtraPublicBone  BUSUP01
ExtraPublicBone  BUSUP02

DefaultConditionState
Model  UVBBus2
HideSubObject  BUSUP01 BUSUP02
Animation  UVBBus2.UVBBus2
AnimationMode  MANUAL
End
ConditionState  MOVING
Model  UVBBus2
Animation  UVBBus2.UVBBus2
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  UVBBus2_D
Animation  UVBBus2_D.UVBBus2_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING
Model  UVBBus2_D
Animation  UVBBus2_D.UVBBus2_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ; Set after our first death, natch
Model  UVBBus2_D1
Animation  UVBBus2_D1.UVBBus2_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE
AliasConditionState  RUBBLE SECOND_LIFE
AliasConditionState  MOVING SECOND_LIFE
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE
AliasConditionState  MOVING RUBBLE SECOND_LIFE
AliasConditionState  RUBBLE

;--------- One crates
ConditionState  ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus2
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus2.UVBBus2
AnimationMode  MANUAL
End
ConditionState  MOVING ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus2
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus2.UVBBus2
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus2_D
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus2_D.UVBBus2_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus2_D
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus2_D.UVBBus2_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus2_D1
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus2_D1.UVBBus2_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE ARMORSET_CRATEUPGRADE_ONE

;--------- Two crates
ConditionState  ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus2
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus2.UVBBus2
AnimationMode  MANUAL
End
ConditionState  MOVING ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus2
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus2.UVBBus2
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus2_D
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus2_D.UVBBus2_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus2_D
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus2_D.UVBBus2_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus2_D1
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus2_D1.UVBBus2_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE ARMORSET_CRATEUPGRADE_TWO

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DTruckDraw ModuleTag_EngineSmoke01
ConditionState  NONE
Model  UVBBus2_B
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
ConditionState  MOVING
Model  UVBBus2_B
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End
End

Draw  W3DTruckDraw ModuleTag_Headlights01

DefaultConditionState
Model  NONE
End
AliasConditionState  ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  SECOND_LIFE
AliasConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  NIGHT SECOND_LIFE
AliasConditionState  NIGHT SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  NIGHT SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO

ConditionState  NIGHT
Model  UVBBus2_N
HideSubObject  LIGHT02
ShowSubObject  LIGHT01
End
AliasConditionState  NIGHT ARMORSET_CRATEUPGRADE_ONE

ConditionState  NIGHT ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus2_N
HideSubObject  LIGHT01
ShowSubObject  LIGHT02
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAVehicleBattleBus_Var3 GLAVehicleBattleBus_Var1

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
TrackMarks  EXTireTrack3.tga
ExtraPublicBone  BUSUP01
ExtraPublicBone  BUSUP02

DefaultConditionState
Model  UVBBus3
HideSubObject  BUSUP01 BUSUP02
Animation  UVBBus3.UVBBus3
AnimationMode  MANUAL
End
ConditionState  MOVING
Model  UVBBus3
Animation  UVBBus3.UVBBus3
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  UVBBus3_D
Animation  UVBBus3_D.UVBBus3_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING
Model  UVBBus3_D
Animation  UVBBus3_D.UVBBus3_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ; Set after our first death, natch
Model  UVBBus3_D1
Animation  UVBBus3_D1.UVBBus3_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE
AliasConditionState  RUBBLE SECOND_LIFE
AliasConditionState  MOVING SECOND_LIFE
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE
AliasConditionState  MOVING RUBBLE SECOND_LIFE
AliasConditionState  RUBBLE

;--------- One crates
ConditionState  ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus3
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus3.UVBBus3
AnimationMode  MANUAL
End
ConditionState  MOVING ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus3
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus3.UVBBus3
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus3_D
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus3_D.UVBBus3_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus3_D
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus3_D.UVBBus3_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
Model  UVBBus3_D1
ShowSubObject  BUSUP01
HideSubObject  BUSUP02
Animation  UVBBus3_D1.UVBBus3_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  MOVING RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  RUBBLE ARMORSET_CRATEUPGRADE_ONE

;--------- Two crates
ConditionState  ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus3
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus3.UVBBus3
AnimationMode  MANUAL
End
ConditionState  MOVING ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus3
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus3.UVBBus3
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus3_D
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus3_D.UVBBus3_D
AnimationMode  MANUAL
End
ConditionState  REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus3_D
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus3_D.UVBBus3_D
AnimationMode  LOOP
End

ConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus3_D1
ShowSubObject  BUSUP01 BUSUP02
Animation  UVBBus3_D1.UVBBus3_D1
AnimationMode  MANUAL
End
AliasConditionState  REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  MOVING RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  RUBBLE ARMORSET_CRATEUPGRADE_TWO

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

End

Draw  W3DTruckDraw ModuleTag_EngineSmoke01
ConditionState  NONE
Model  UVBBus3_B
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone  EXHAUST02 GLATankEngineSmokeLight
End
ConditionState  MOVING
Model  UVBBus3_B
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone  EXHAUST02 GLATankEngineSmokeHeavy
End
End

Draw  W3DTruckDraw ModuleTag_Headlights01

DefaultConditionState
Model  NONE
End
AliasConditionState  ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  SECOND_LIFE
AliasConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
AliasConditionState  NIGHT SECOND_LIFE
AliasConditionState  NIGHT SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
AliasConditionState  NIGHT SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO

ConditionState  NIGHT
Model  UVBBus3_N
HideSubObject  LIGHT02
ShowSubObject  LIGHT01
End
AliasConditionState  NIGHT ARMORSET_CRATEUPGRADE_ONE

ConditionState  NIGHT ARMORSET_CRATEUPGRADE_TWO
Model  UVBBus3_N
HideSubObject  LIGHT01
ShowSubObject  LIGHT02
End

End

End
;---------------------------------------------------------------------------
Object GLAVehicleG6Howitzer

; *** ART Parameters ***
SelectPortrait   SUG6
ButtonImage   SUG6


Draw   W3DTruckDraw ModuleTag_01
OkToChangeModelColor   Yes
; no crate upgrade
ConditionState   NONE
Model   UVG6
Turret   TURRET
TurretPitch   TURRETEL
ShowSubObject   TURRETEL
HideSubObject   TURRETELUPA TURRETELUPB
WeaponFireFXBone   PRIMARY WEAPONA
WeaponRecoilBone   PRIMARY Barrel
WeaponLaunchBone   PRIMARY WEAPONA
WeaponFireFXBone   TERTIARY WEAPONA
WeaponRecoilBone   TERTIARY Barrel
WeaponLaunchBone   TERTIARY WEAPONA
End
ConditionState   REALLYDAMAGED RUBBLE
Model   UVG6_d
Turret   TURRET
TurretPitch   TURRETEL
ShowSubObject   TURRETEL
HideSubObject   TURRETELUPA TURRETELUPB
WeaponFireFXBone   PRIMARY WEAPONA
WeaponRecoilBone   PRIMARY Barrel
WeaponLaunchBone   PRIMARY WEAPONA
WeaponFireFXBone   TERTIARY WEAPONA
WeaponRecoilBone   TERTIARY Barrel
WeaponLaunchBone   TERTIARY WEAPONA
End

; crate upgrade 1
ConditionState   WEAPONSET_CRATEUPGRADE_ONE
Model   UVG6
Turret   TURRET
TurretPitch   TURRETELUPA
ShowSubObject   TURRETELUPA
HideSubObject   TURRETEL TURRETELUPB
WeaponFireFXBone   PRIMARY WEAPONAUPA
WeaponRecoilBone   PRIMARY BARRELUPA
WeaponLaunchBone   PRIMARY WEAPONAUPA
WeaponFireFXBone   TERTIARY WEAPONA
WeaponRecoilBone   TERTIARY Barrel
WeaponLaunchBone   TERTIARY WEAPONA
End

ConditionState   REALLYDAMAGED RUBBLE WEAPONSET_CRATEUPGRADE_ONE
Model   UVG6_d
Turret   TURRET
TurretPitch   TURRETELUPA
ShowSubObject   TURRETELUPA
HideSubObject   TURRETEL TURRETELUPB
WeaponFireFXBone   PRIMARY WEAPONAUPA
WeaponRecoilBone   PRIMARY BARRELUPA
WeaponLaunchBone   PRIMARY WEAPONAUPA
WeaponFireFXBone   TERTIARY WEAPONA
WeaponRecoilBone   TERTIARY Barrel
WeaponLaunchBone   TERTIARY WEAPONA
End

; crate upgrade 2
ConditionState   WEAPONSET_CRATEUPGRADE_TWO
Model   UVG6
Turret   TURRET
TurretPitch   TURRETELUPB
ShowSubObject   TURRETELUPB
HideSubObject   TURRETELUPA TURRETEL
WeaponFireFXBone   PRIMARY WEAPONAUPB
WeaponRecoilBone   PRIMARY BARRELUPB
WeaponLaunchBone   PRIMARY WEAPONAUPB
WeaponFireFXBone   TERTIARY WEAPONA
WeaponRecoilBone   TERTIARY Barrel
WeaponLaunchBone   TERTIARY WEAPONA
End

ConditionState   REALLYDAMAGED RUBBLE WEAPONSET_CRATEUPGRADE_TWO
Model   UVG6_d
Turret   TURRET
TurretPitch   TURRETELUPB
ShowSubObject   TURRETELUPB
HideSubObject   TURRETELUPA TURRETEL
WeaponFireFXBone   PRIMARY WEAPONAUPB
WeaponRecoilBone   PRIMARY BARRELUPB
WeaponLaunchBone   PRIMARY WEAPONAUPB
WeaponFireFXBone   TERTIARY WEAPONA
WeaponRecoilBone   TERTIARY Barrel
WeaponLaunchBone   TERTIARY WEAPONA
End

TrackMarks   EXTireTrack.tga
Dust   ScudLauncherDust
;DirtSpray   RocketBuggyDirtSpray
;PowerslideSpray   RocketBuggyDirtPowerSlide
; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension   Yes.
LeftFrontTireBone   Tire01
RightFrontTireBone   Tire02
LeftRearTireBone   Tire05
RightRearTireBone   Tire06
;MidLeftFrontTireBone   Tire02
;MidRightFrontTireBone   Tire06
MidLeftRearTireBone   Tire03
MidRightRearTireBone   Tire04
TireRotationMultiplier   0.2
End
; ***DESIGN parameters ***
DisplayName   OBJECT:G6Howitzer
Side   GLA
EditorSorting   VEHICLE
TransportSlotCount 10
WeaponSet
Conditions   None
Weapon   PRIMARY GLAG6HowitzerWeapon
Weapon   TERTIARY GLAG6HowitzerWeaponAreaBombard
AutoChooseSources   TERTIARY  NONE
End

WeaponSet
Conditions   CRATEUPGRADE_ONE
Weapon   PRIMARY GLAG6HowitzerWeaponOne
Weapon   TERTIARY GLAG6HowitzerWeaponOneAreaBombard
AutoChooseSources   TERTIARY  NONE
End

WeaponSet
Conditions   CRATEUPGRADE_TWO
Weapon   PRIMARY GLAG6HowitzerWeaponTwo
Weapon   TERTIARY GLAG6HowitzerWeaponTwoAreaBombard
AutoChooseSources   TERTIARY  NONE
End

ArmorSet
Conditions   None
Armor   TruckArmor
DamageFX TruckDamageFX
End
BuildCost   2000
BuildTime   20
VisionRange 300
ShroudClearingRange   150
Prerequisites
Object GLAArmsDealer
Object GLAPalace
End
ExperienceValue   50 50 100 150     ; Experience point value at each level
ExperienceRequired   0 200 400 800     ; Experience points needed to gain each level
IsTrainable   Yes     ; Can gain experience
CrusherLevel   2     ; What can I crush?: 1   infantry, 2   trees, 3   vehicles
CrushableLevel   2     ; What am I?:        0   for infantry, 1   for trees, 2   general vehicles
CommandSet   GLAG6ArtilleryCommandSet
; *** AUDIO Parameters ***
VoiceSelect   GlaHowitzerVoiceSelect
VoiceMove   GlaHowitzerVoiceMove
VoiceAttack   GlaHowitzerVoiceAttack
SoundMoveStart   G6HowitzerMoveStart
SoundMoveStartDamaged   G6HowitzerMoveStart
VoiceGuard   GlaHowitzerVoiceMove
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode   SomeNameSomewhereInLookupINIs
VoiceCreate   GlaHowitzerVoiceCreate
TurretMoveStart   NoSound
TurretMoveLoop   TurretMoveLoop
; Required for the W3DTruckDraw module
;TruckLandingSound   RocketBuggyLand
;TruckPowerslideSound   RocketBuggyPowerslide
VoiceCrush   GlaHowitzerVoiceAttack ;RocketBuggyVoiceCrush
VoiceEnter   GlaHowitzerVoiceMove
End
; *** ENGINEERING Parameters ***
RadarPriority   UNIT
KindOf   PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY WEAPON_SALVAGER CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE
Body   ActiveBody ModuleTag_02
MaxHealth   225
InitialHealth   225
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap   450
SubdualDamageHealRate   500
SubdualDamageHealAmount   50
End
Behavior   AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate 20
TurretPitchRate 20
FirePitch   45     ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch   Yes
ControlledWeaponSlots   PRIMARY TERTIARY
End
AutoAcquireEnemiesWhenIdle   No NotWhileAttacking
MoodAttackCheckRate 250
End
Locomotor   SET_NORMAL G6HowitzerLocomotor
Behavior   PhysicsBehavior ModuleTag_04
Mass   50.0
End

Behavior   SlowDeathBehavior ModuleTag_05
DeathTypes   ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL FX_CrusaderCatchFire
FX   FINAL FX_GenericTankDeathExplosion
OCL   FINAL OCL_G6HowitzerDeathEffect
End

Behavior   AutoHealBehavior ModuleTag_08
HealingAmount   2
HealingDelay   1000     ; msec
TriggeredBy   Upgrade_GLAJunkRepair
End
;Behavior   WeaponSetUpgrade ModuleTag_09
;  TriggeredBy   Upgrade_GLABuggyAmmo
;End
Behavior   DestroyDie ModuleTag_11
DeathTypes   NONE +CRUSHED +SPLATTED
End
; A crushing defeat
Behavior   FXListDie ModuleTag_12
DeathTypes   NONE +CRUSHED +SPLATTED
DeathFX   FX_CarCrush
End
Behavior   CreateObjectDie ModuleTag_13
DeathTypes   NONE +CRUSHED +SPLATTED
CreationList   OCL_RocketBuggy_CrushEffect
End
Behavior   CreateCrateDie ModuleTag_14
CrateData   SalvageCrateData
; CrateData   EliteTankCrateData
; CrateData   HeroicTankCrateData
End

Behavior   TransitionDamageFX ModuleTag_15
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1   Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End
Behavior   FlammableUpdate ModuleTag_21
AflameDuration   5000     ; If I catch fire, I'll burn for this long...
AflameDamageAmount   3     ; taking this much damage...
AflameDamageDelay   500     ; this often.
End
Behavior   ProductionUpdate ModuleTag_Production01
End
;Behavior   ObjectCreationUpgrade ModuleTag_SalvageCrate
;UpgradeObject   OCL_GLASalvageCrate
;TriggeredBy   Upgrade_OtherUp250
;End

;Behavior = FireWeaponWhenDeadBehavior ModuleTag_George
;DeathWeapon   = Demo_SuicideDynamitePackPlusFire
;StartsActive  = No
;TriggeredBy   = Upgrade_DemoHEShells
;End
Behavior   LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock   PRIMARY ;SECONDARY
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry   BOX
GeometryMajorRadius   16.0
GeometryMinorRadius   9.0
GeometryHeight   8.5
GeometryIsSmall   Yes
Shadow   SHADOW_VOLUME
ShadowSizeX   45     ; minimum elevation angle above horizon. Used to limit shadow length
End
;---------------------------------------------------------------------------
Object GLAInfantryAnarchist
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUAnarchist_L
ButtonImage             SUAnarchist

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model          UIAnar_SKN
IdleAnimation  UIPART_SKL.UIPART_STA
IdleAnimation  UIPART_SKL.UIPART_IDA
IdleAnimation  UIPART_SKL.UIPART_IDB
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End

ConditionState  MOVING
Animation  UIPART_SKL.UIPART_RNA 35
AnimationMode  LOOP
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

ConditionState  DYING
Animation  UIPART_SKL.UIPART_DTA
Animation  UIPART_SKL.UIPART_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIPART_SKL.UIPART_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIPART_SKL.UIPART_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIPART_SKL.UIPART_ADTD3
AnimationMode  ONCE
End

ConditionState  PREATTACK_A
Model  UIAnar_SKN_B
Animation  UIMOB01_SKL.UIMOB01_ATCA_BF ; the wind up
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A RELOADING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

ConditionState  FIRING_A
Model  UIAnar_SKN_B
Animation  UIMOB01_SKL.UIMOB01_ATCA_AF ; the release and follow-thru
TransitionKey  TRANS_THROW
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  FIRING_A BETWEEN_FIRING_SHOTS_A

ConditionState  RELOADING_A
Model  UIAnar_SKN_B
Animation UIMOB01_SKL.UIMOB01_IDA1
WaitForStateToFinishIfPossible  TRANS_THROW ; universal hub for follow-thru
AnimationSpeedFactorRange  1.5 1.5
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  RELOADING_A FIRING_A
AliasConditionState  RELOADING_A BETWEEN_FIRING_SHOTS_A

; ---- Placing Charges
ConditionState  UNPACKING
Model  UIAnar_SKN_C
Animation  NIHCKR_SKL.NIHCKR_ATA1
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
TransitionKey  TRANS_PLANTING_BOMB
End

TransitionState  TRANS_PLANTING_BOMB TRANS_Stand
Model  UIAnar_SKN_C
Animation  NIHCKR_SKL.NIHCKR_ATA3
AnimationSpeedFactorRange  1.5 1.8
End

ConditionState  FREEFALL
Animation  UIPART_SKL.UIPART_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  UIPART_SKL.UIPART_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Animation  UIPART_SKL.UIPART_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  UIPART_SKL.UIPART_PTD
AnimationMode  ONCE
End

ConditionState  SPECIAL_CHEERING
Animation  UIPART_SKL.UIPART_CHA
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Anarchist
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         NONE
Weapon             PRIMARY AnarchistGrenadeWeapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          175
ShroudClearingRange  200

BuildCost  250
BuildTime  6.0          ;in seconds

ExperienceValue     20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  GLAAnarchistCommandSet

; *** AUDIO Parameters ***
VoiceSelect  AnarchistVoiceSelect
VoiceMove  AnarchistVoiceMove
VoiceAttack  AnarchistVoiceAttack
VoiceFear  AnarchistVoiceFear
VoiceGuard  AnarchistVoiceMove
UnitSpecificSounds
VoiceGarrison          AnarchistVoiceGarrison
VoiceCreate            AnarchistVoiceCreate
VoiceGetHealed         TerroristVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Behavior  CommandButtonHuntUpdate  ModuleTag_CBH01 ; allows use of command button hunt script with this unit.
End
Locomotor  SET_NORMAL RebelLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_SuicidePack01
DeathTypes     NONE +CRUSHED
DeathWeapon    TunnelDefenderSuicideDynamitePack
StartsActive   No
TriggeredBy    Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  CommandSetUpgrade ModuleTag_SuicidePack02
CommandSet   GLAAnarchistUpgragedCommandSet
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  SpecialAbility ModuleTag_ImprovisedMine01
SpecialPowerTemplate      SpecialAbilityAnarchistImprovisedMine
UpdateModuleStartsAttack  Yes
StartsPaused              No                 ; so the UnpauseSpecialPowerUpgrade, below can turn it on
InitiateSound             AnarchistVoicePlantMine
End

Behavior  SpecialAbilityUpdate ModuleTag_DemoCharge02
SpecialPowerTemplate                SpecialAbilityAnarchistImprovisedMine
StartAbilityRange                   50.0
PreparationTime                     0
SpecialObjectAttachToBone           BONE_CASE_MAIN
SpecialObject                       GLAAnarchistImprovisedMineRandom
MaxSpecialObjects                   3
UnpackTime                          3000
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent            Yes
UniqueSpecialObjectTargets          No
FlipOwnerAfterUnpacking             No
LoseStealthOnTrigger                No
ApproachRequiresLOS                 No
NeedToFaceTarget                    No
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  SquishCollide ModuleTag_07
;nothing
End

; --- begin Death modules ---

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -LASERED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_AnarchistDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05524
DeathTypes           NONE +BURNED +POISONED_GAMMA +LASERED +EXPLODED +EXTRA_5
DestructionDelay     0
Weapon               INITIAL AnarchistGrenadesPrematureDetonation
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_AnarchistSurrender
OCL                  INITIAL OCL_AnarchistSurrendering
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryAnarchistSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              UIAnar_SKN_C
Animation          NIHCKR_SKL.NIHCKR_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
WeaponMuzzleFlash  PRIMARY MuzzleFS
End
ConditionState     LOADED
Animation          NIHCKR_SKL.NIHCKR_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NIHCKR_SKL.NIHCKR_DTA
Animation          NIHCKR_SKL.NIHCKR_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             GLA
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedAnarchistRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -LASERED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_AnarchistDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death0552321
DeathTypes           NONE +BURNED +POISONED_GAMMA +LASERED +EXPLODED +EXTRA_5 +EXTRA_4
DestructionDelay     0
Weapon               INITIAL AnarchistGrenadesPrematureDetonation
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End

; --- end Death modules ---

;Geometry  BOX
;GeometryMajorRadius  5.0
;GeometryMinorRadius  5.0
;GeometryHeight  7.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;-----------------------------------------------------
Object GLAInfantryAngryMobNexus
Scale 0.90
;**** ART Parameters **************************
SelectPortrait          SUAngryMob_L
ButtonImage             SUAngryMob

UpgradeCameo1  Upgrade_GLAArmTheMob

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  None
End
End


;****DESIGN parameters **************************

DisplayName       OBJECT:AngryMobNexus
Side  GLA

RadarPriority        NOT_ON_RADAR

EditorSorting    INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   GLAAngryMobNexusHarmlessWeapon
Weapon  SECONDARY GLAAngryMobNexusHarmlessWeapon
Weapon  TERTIARY  GLAAngryMobNexusHarmlessWeapon
End


ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

BuildCost        1200
BuildTime        18.0          ;in seconds
VisionRange      220  ; it can scout for the spawn
ShroudClearingRange  0

Prerequisites
Object  GLABarracks
Object  GLABlackMarket
End

IsTrainable      No

ExperienceValue  30 60 120 240    ;Experience point value at each level

CommandSet     GLAInfantryAngryMobCommandSet;

;**** AUDIO Parameters *****************************
VoiceSelect  AngryMobVoiceSelect
VoiceMove  AngryMobVoiceMove
VoiceGuard  AngryMobVoiceMove
VoiceAttack  AngryMobVoiceAttack
SoundMoveStart  NoSound
SoundAmbient  AngryMobAmbientLoop
SoundAmbientRubble  NoSound
UnitSpecificSounds
VoiceCreate           AngryMobVoiceCreate
End


;**** ENGINEERING Parameters ******************************

RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK INFANTRY OBSTACLE MOB_NEXUS ATTACK_NEEDS_LINE_OF_SIGHT NO_COLLIDE SELECTABLE SCORE
Body  ImmortalBody ModuleTag_02
MaxHealth        99999.0
InitialHealth    99999.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL AngryMobNexusLocomotor
Locomotor  SET_WANDER AngryMobNexusLocomotor
Locomotor  SET_PANIC AngryMobNexusLocomotor


Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior             SpawnBehavior ModuleTag_05
SpawnNumber        15
SpawnReplaceDelay  20000 ; 20 seconds

;GLAInfantryAngryMobPistol01          ; Aladdin that gets a bigger gun
;GLAInfantryAngryMobPistolToMolotov01 ; Aladdin gets hot sauce
;GLAInfantryAngryMobRock02            ; Woman in the Gypsy Costume that gets a bigger gun
;GLAInfantryAngryMobMolotov02         ; The Lady with the hot sauce
;GLAInfantryAngryMobPistol03          ; Skinny Guy with the Green Beret that gets a bigger gun
;GLAInfantryAngryMobPistolToMolotov03 ; Skinny Guy with the Green Beret that gets hot sauce
;GLAInfantryAngryMobRock04            ; Fat guy with the tank top that gets a bigger gun
;GLAInfantryAngryMobMolotov04         ; Fat guy with the hot sauce
;GLAInfantryAngryMobPistol05          ; The robed dude with the Man-Veil that gets a bigger gun
;GLAInfantryAngryMobPistolToMolotov05 ; The robed dude with the Man-Veil that gets hot sauce
;GLAInfantryAngryMobRock02            ; Woman in the Gypsy Costume that gets a bigger gun

SpawnTemplateName  GLAInfantryAngryPistolToAK47
SpawnTemplateName  GLAInfantryAngryPistolToMolotov
SpawnTemplateName  GLAInfantryAngryRockToAK47
SpawnTemplateName  GLAInfantryAngryRockToMolotov

ExitByBudding       Yes;!
OneShot             No
AggregateHealth     Yes
SlavesHaveFreeWill  No
End

Behavior  QueueProductionExitUpdate ModuleTag_06
UnitCreatePoint    X:0.0 Y:0.0 Z:0.0
NaturalRallyPoint  X:0.0 Y:0.0 Z:0.0
ExitDelay          5000 ; 5 sec
InitialBurst       7 ; the first set of 7 will not delay
End

Behavior  DestroyDie ModuleTag_07
DeathTypes  ALL
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;Using build variations to create greater variety in mobs instead of spawning with a fixed number of members each time
;------------------------------------------------------------------------------
Object GLAInfantryAngryRockToAK47
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIMOB01_SKN
End
End
Side  GLA
EditorSorting  SYSTEM
BuildVariations  GLAInfantryAngryMobRock02 GLAInfantryAngryMobRock04
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI
End

;------------------------------------------------------------------------------
Object GLAInfantryAngryPistolToAK47
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIMOB01_SKN
End
End
Side  GLA
EditorSorting  SYSTEM
BuildVariations  GLAInfantryAngryMobPistol01 GLAInfantryAngryMobPistol03 GLAInfantryAngryMobPistol05
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI
End

;------------------------------------------------------------------------------
Object GLAInfantryAngryRockToMolotov
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIMOB01_SKN
End
End
Side  GLA
EditorSorting  SYSTEM
BuildVariations  GLAInfantryAngryMobMolotov02 GLAInfantryAngryMobMolotov04
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI
End

;------------------------------------------------------------------------------
Object GLAInfantryAngryPistolToMolotov
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIMOB01_SKN
End
End
Side  GLA
EditorSorting  SYSTEM
BuildVariations  GLAInfantryAngryMobPistolToMolotov01 GLAInfantryAngryMobPistolToMolotov03 GLAInfantryAngryMobPistolToMolotov05
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI
End


;Guy with pistol that upgrades to Molotov cocktails
Object GLAInfantryAngryMobPistol01
Scale 0.90
;**** ART Parameters ***
Draw  W3DModelDraw DrawTag_01
OkToChangeModelColor  Yes

; WHILE CARRYING PISTOL
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB01_SKN
IdleAnimation  UIMOB01_SKL.UIMOB01_IDA1 0 12
IdleAnimation  UIMOB01_SKL.UIMOB01_IDA2 0 5
IdleAnimation  UIMOB01_SKL.UIMOB01_CHA  0 5
IdleAnimation  UIMOB01_SKL.UIMOB01_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  MOVING
Animation  UIMOB01_SKL.UIMOB01_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
End

ConditionState  DYING
Animation  UIMOB01_SKL.UIMOB01_DA1
Animation  UIMOB01_SKL.UIMOB01_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  SPECIAL_CHEERING
Animation  UIMOB01_SKL.UIMOB01_CHD
AnimationMode  ONCE
End

; Aiming Pistol
TransitionState   TRANS_STAND TRANS_FIRING
Animation      UIMOB01_SKL.UIMOB01_ATA1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

; Firing Gun
ConditionState  ATTACKING FIRING_A
Animation  UIMOB01_SKL.UIMOB01_ATA1_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING
AnimationSpeedFactorRange  1.9 1.9
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_FIRING TRANS_RELOADING
Animation      UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState   RELOADING_A
Animation  UIMOB01_SKL.UIMOB01_STA  0 5
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_RELOADING
End

TransitionState  TRANS_RELOADING TRANS_FIRING
Animation      UIMOB01_SKL.UIMOB01_ATA1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
End

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING TRANS_STAND
Animation      UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

;--------------------------------------------------------
; TRANSITION FROM PISTOL TO AK47
TransitionState  TRANS_STAND TRANS_STAND_AK
Animation  UIMOB01_SKL.UIMOB01_TA-D
AnimationMode  ONCE
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; WHILE CARRYING AK47
;---------------------------------------------------------
ConditionState WEAPONSET_PLAYER_UPGRADE ;Idle with AK Slung
Model  UIMOB01_SKN
IdleAnimation  UIMOB01_SKL.UIMOB01_IDD1 0 6
IdleAnimation  UIMOB01_SKL.UIMOB01_IDD2 0 6
IdleAnimation  UIMOB01_SKL.UIMOB01_CHD  0 6
IdleAnimation  UIMOB01_SKL.UIMOB01_STD
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  MOVING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB01_SKL.UIMOB01_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  DYING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB01_SKL.UIMOB01_DD1
Animation  UIMOB01_SKL.UIMOB01_DD2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB01_SKL.UIMOB01_CHD
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Drawing AK47
TransitionState   TRANS_STAND_AK TRANS_FIRING_AK
Animation      UIMOB01_SKL.UIMOB01_ATD1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Firing Gun
ConditionState  ATTACKING FIRING_A WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB01_SKL.UIMOB01_ATD1_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_AK TRANS_STAND_AK
Animation      UIMOB01_SKL.UIMOB01_ATD1_ED ; end firing
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
AnimationSpeedFactorRange  1.5 1.5
End

;    ;Throwing bottle----------------------------------------------------------------


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB01_SKL.UIMOB01_A_ADTE1
Animation  UIMOB01_SKL.UIMOB01_D_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE2
Animation  UIMOB01_SKL.UIMOB01_D_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE3
Animation  UIMOB01_SKL.UIMOB01_D_ADTE3
AnimationMode  ONCE
TransitionKey  None
End
End

;**** DESIGN parameters ***

DisplayName       OBJECT:AngryMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY GLAAngryMobPistolWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY GLAAngryMobAK47Weapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters *** ;MOB01
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL AngryMobNormalLocomotor
Locomotor  SET_WANDER AngryMobWanderLocomotor
Locomotor  SET_PANIC AngryMobPanicLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

Behavior  WeaponSetUpgrade UpgradeTag_01
TriggeredBy  Upgrade_GLAArmTheMob
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior DeathTag_01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
End
Behavior  SlowDeathBehavior DeathTag_02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior DeathTag_03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior DeathTag_04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  4.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;Guy with pistol that upgrades to Molotov cocktails
Object GLAInfantryAngryMobPistolToMolotov01
Scale 0.90
;**** ART Parameters ***
Draw  W3DModelDraw DrawTag_01
OkToChangeModelColor  Yes

; While carrying pistol
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB01_SKN
IdleAnimation  UIMOB01_SKL.UIMOB01_IDA1 0 12
IdleAnimation  UIMOB01_SKL.UIMOB01_IDA2 0 5
IdleAnimation  UIMOB01_SKL.UIMOB01_CHA  0 5
IdleAnimation  UIMOB01_SKL.UIMOB01_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  UIMOB01_SKL.UIMOB01_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
End

ConditionState  DYING
Animation  UIMOB01_SKL.UIMOB01_DA1
Animation  UIMOB01_SKL.UIMOB01_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  RIDER1 DYING
Animation  UIMOB01_SKL.UIMOB01_DA1
Animation  UIMOB01_SKL.UIMOB01_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying_Rider1
End

ConditionState  RIDER2 DYING
Animation  UIMOB01_SKL.UIMOB01_DA1
Animation  UIMOB01_SKL.UIMOB01_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying_Rider2
End

ConditionState  RIDER1 SPECIAL_CHEERING
Animation  UIMOB01_SKL.UIMOB01_CHD
AnimationMode  ONCE
End
AliasConditionState  RIDER2 SPECIAL_CHEERING

; Aiming Pistol

ConditionState  RIDER1 PREATTACK_A
Animation      UIMOB01_SKL.UIMOB01_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

TransitionState   TRANS_STAND TRANS_FIRING
Animation      UIMOB01_SKL.UIMOB01_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

; Firing Gun
ConditionState  RIDER1 FIRING_A
Animation  UIMOB01_SKL.UIMOB01_ATA2_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING
AnimationSpeedFactorRange  1.9 1.9
End
AliasConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_FIRING TRANS_RELOADING
Animation      UIMOB01_SKL.UIMOB01_ATA2_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState   RIDER1 RELOADING_A
Animation  UIMOB01_SKL.UIMOB01_STA  0 5
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_RELOADING
End

TransitionState  TRANS_RELOADING TRANS_FIRING
Animation      UIMOB01_SKL.UIMOB01_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
End

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING TRANS_STAND
Animation      UIMOB01_SKL.UIMOB01_ATA2_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

; Upgraded with Molotovs
;---------------------------------------------------------

ConditionState  RIDER2
IdleAnimation  UIMOB01_SKL.UIMOB01_IDA1 0 12
IdleAnimation  UIMOB01_SKL.UIMOB01_CHA  0 5
IdleAnimation  UIMOB01_SKL.UIMOB01_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_MOLOTOV
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WaitForStateToFinishIfPossible  TRANS_FIRING_MOLOTOV
End

ConditionState  MOVING RIDER2
Animation  UIMOB01_SKL.UIMOB01_RNA
Animation  UIMOB01_SKL.UIMOB01_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  MOVING_MOLOTOV
End

; Drawing Molotov
ConditionState   RIDER2 PREATTACK_A
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF ; wind up
AnimationMode  ONCE
TransitionKey  TRANS_PREATTACK_MOLOTOV
End

; Throwing Molotov
ConditionState  RIDER2 FIRING_A
Animation  UIMOB01_SKL.UIMOB01_ATCA_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_MOLOTOV
AnimationSpeedFactorRange 2.0 2.0
End

; Reloading Molotov
ConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
Animation  UIMOB01_SKL.UIMOB01_STA 0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_RELOADING_MOLOTOV
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WaitForStateToFinishIfPossible  TRANS_FIRING_MOLOTOV
End
AliasConditionState  RIDER2 RELOADING_A


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB01_SKL.UIMOB01_A_ADTE1
Animation  UIMOB01_SKL.UIMOB01_D_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE2
Animation  UIMOB01_SKL.UIMOB01_D_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE3
Animation  UIMOB01_SKL.UIMOB01_D_ADTE3
AnimationMode  ONCE
TransitionKey  Bogo
End

;--------------------------------------------------------

TransitionState  TRANS_Dying_Rider1 TRANS_Flailing_Rider1
Animation  UIMOB01_SKL.UIMOB01_A_ADTE1
Animation  UIMOB01_SKL.UIMOB01_D_ADTE1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE2
Animation  UIMOB01_SKL.UIMOB01_D_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing_Rider1
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE3
Animation  UIMOB01_SKL.UIMOB01_D_ADTE3
AnimationMode  ONCE
TransitionKey  Logo
End

;--------------------------------------------------------

TransitionState  TRANS_Dying_Rider2 TRANS_Flailing_Rider2
Animation  UIMOB01_SKL.UIMOB01_A_ADTE1
Animation  UIMOB01_SKL.UIMOB01_D_ADTE1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE2
Animation  UIMOB01_SKL.UIMOB01_D_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing_Rider2
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Animation  UIMOB01_SKL.UIMOB01_A_ADTE3
Animation  UIMOB01_SKL.UIMOB01_D_ADTE3
AnimationMode  ONCE
TransitionKey  Zogo
End


End

;**** DESIGN parameters ***

DisplayName       OBJECT:AngryMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  PRIMARY GLAAngryMobPistolWeapon
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  PRIMARY GLAAngryMobMolotovCocktailProjectileWeapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters *** ;MOB01
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL AngryMobNormalLocomotor
Locomotor  SET_WANDER AngryMobWanderLocomotor
Locomotor  SET_PANIC  AngryMobPanicLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

Behavior  StatusBitsUpgrade ModuleTag_Upgrade01
TriggeredBy     Upgrade_GLAArmTheMob
StatusToSet     HIJACKED
End

Behavior  SubObjectsUpgrade ModuleTag_Upgrade02
TriggeredBy     Upgrade_GLAArmTheMob
HideSubObjects  AK47 PISTOL_01
End

;This module triggers the weapon switch for all mob members freshly build or spawned
Behavior  FireWeaponCollide  ModuleTag_Upgrade03
CollideWeapon    GLAAngryMobPistolToMolotovTriggerWeapon
RequiredStatus   STATUS_RIDER1 HIJACKED
End

;This module triggers the weapon switch for all mob members presently on the map
Behavior  ObjectCreationUpgrade ModuleTag_Upgrade04
UpgradeObject    OCL_GenericDummyRider2_Normal
TriggeredBy      Upgrade_GLAArmTheMob
End

Behavior  RiderChangeContain ModuleTag_Upgrade05
;;;;Normal
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GenericCommandSet SET_NORMAL
;;;;Upgraded
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GenericCommandSet SET_NORMAL

Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior DeathTag_01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
End
Behavior  SlowDeathBehavior DeathTag_02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior DeathTag_03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior DeathTag_04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  4.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;Woman with throwing rock that upgrades to an AK
Object GLAInfantryAngryMobRock02
Scale 0.90
;**** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; WHILE CARRYING ROCK
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB02_SKN
IdleAnimation  UIMOB02_SKL.UIMOB02_IDB1 0 12
IdleAnimation  UIMOB02_SKL.UIMOB02_IDB2 0 5
IdleAnimation  UIMOB02_SKL.UIMOB02_CHB  0 5
IdleAnimation  UIMOB02_SKL.UIMOB02_STB  0 12
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_A
WeaponFireFXBone   PRIMARY NONE
WeaponMuzzleFlash  PRIMARY NONE
End


; Drawing rock
ConditionState   PREATTACK_A
Animation      UIMOB02_SKL.UIMOB02_ATB2_BF ; wind up
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; throwing rock
ConditionState  ATTACKING FIRING_A
Animation  UIMOB02_SKL.UIMOB02_ATB1_AF ; throw
Animation  UIMOB02_SKL.UIMOB02_ATB2_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
AnimationSpeedFactorRange 2.9 2.9
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A


ConditionState  MOVING
Animation  UIMOB02_SKL.UIMOB02_RNB
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
ParticleSysBone    None InfantryDustTrails
End

ConditionState  DYING
Animation  UIMOB02_SKL.UIMOB02_DB1
Animation  UIMOB02_SKL.UIMOB02_DB2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  SPECIAL_CHEERING
Animation  UIMOB02_SKL.UIMOB02_CHB
Flags  RANDOMSTART
AnimationMode  LOOP
End


;--------------------------------------------------------
; TRANSITION FROM STONE TO AK47
TransitionState  TRANS_STAND_A TRANS_STAND_AK
Animation  UIMOB02_SKL.UIMOB02_TB-D
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; WHILE CARRYING AK47
;---------------------------------------------------------
ConditionState WEAPONSET_PLAYER_UPGRADE ;Idle with AK Slung
IdleAnimation  UIMOB02_SKL.UIMOB02_IDD1 0 6
IdleAnimation  UIMOB02_SKL.UIMOB02_IDD2 0 6
IdleAnimation  UIMOB02_SKL.UIMOB02_CHD  0 6
IdleAnimation  UIMOB02_SKL.UIMOB02_STD
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  MOVING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB02_SKL.UIMOB02_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  DYING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB02_SKL.UIMOB02_DD1
Animation  UIMOB02_SKL.UIMOB02_DD2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB02_SKL.UIMOB02_CHD
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Drawing AK47
TransitionState   TRANS_STAND_AK TRANS_FIRING_AK
Animation      UIMOB02_SKL.UIMOB02_ATD1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
WeaponFireFXBone   SECONDARY NONE
WeaponMuzzleFlash  SECONDARY NONE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Firing Gun
ConditionState  ATTACKING FIRING_A WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB02_SKL.UIMOB02_ATD1_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_AK TRANS_STAND_AK
Animation      UIMOB02_SKL.UIMOB02_ATD1_ED ; end firing
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
AnimationSpeedFactorRange  1.5 1.5
End


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB02_SKL.UIMOB02_B_ADTA1
Animation  UIMOB02_SKL.UIMOB02_D_ADTA1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB02_SKL.UIMOB02_B_ADTA2
Animation  UIMOB02_SKL.UIMOB02_D_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB02_SKL.UIMOB02_B_ADTA3
Animation  UIMOB02_SKL.UIMOB02_D_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

End



;**** DESIGN parameters ***

DisplayName       OBJECT:AngryMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY GLAAngryMobRockProjectileWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY GLAAngryMobAK47Weapon ; for atttacking in AK-proof conditions
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters *** ;MOB02
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL AngryMobNormalLocomotor
Locomotor  SET_WANDER AngryMobWanderLocomotor
Locomotor  SET_PANIC AngryMobPanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

Behavior  WeaponSetUpgrade UpgradeTag_01
TriggeredBy  Upgrade_GLAArmTheMob
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03315726 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  4.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;Woman with throwing rock that upgrades to Molotov cocktails
Object GLAInfantryAngryMobMolotov02
Scale 0.90
;**** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; WHILE CARRYING ROCK
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB02_SKN
IdleAnimation  UIMOB02_SKL.UIMOB02_IDB1 0 12
IdleAnimation  UIMOB02_SKL.UIMOB02_IDB2 0 5
IdleAnimation  UIMOB02_SKL.UIMOB02_CHB  0 5
IdleAnimation  UIMOB02_SKL.UIMOB02_STB  0 12
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_A
End


; Drawing rock
ConditionState   PREATTACK_A
Animation      UIMOB02_SKL.UIMOB02_ATB2_BF ; wind up
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; throwing rock
ConditionState  FIRING_A
Animation  UIMOB02_SKL.UIMOB02_ATB1_AF ; throw
Animation  UIMOB02_SKL.UIMOB02_ATB2_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
AnimationSpeedFactorRange 2.9 2.9
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A



ConditionState  DYING
Animation  UIMOB02_SKL.UIMOB02_DB1
Animation  UIMOB02_SKL.UIMOB02_DB2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  SPECIAL_CHEERING
Animation  UIMOB02_SKL.UIMOB02_CHB
Flags  RANDOMSTART
AnimationMode  LOOP
End


; WHILE CARRYING MOLOTOV
;---------------------------------------------------------
ConditionState  USER_1
Model  UIMOB02_SKN
IdleAnimation  UIMOB02_SKL.UIMOB02_IDB1 0 12
IdleAnimation  UIMOB02_SKL.UIMOB02_IDB2 0 5
IdleAnimation  UIMOB02_SKL.UIMOB02_CHB  0 5
IdleAnimation  UIMOB02_SKL.UIMOB02_STB  0 12
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_A
End


; Drawing Molotov
ConditionState   USER_1 PREATTACK_A
Animation      UIMOB02_SKL.UIMOB02_ATCB_BF ; wind up
AnimationMode  ONCE
End
AliasConditionState  USER_1 PREATTACK_A FIRING_A
AliasConditionState  USER_1 PREATTACK_A BETWEEN_FIRING_SHOTS_A

; throwing Molotov
ConditionState  USER_1 FIRING_A
Animation  UIMOB02_SKL.UIMOB02_ATCB_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
AnimationSpeedFactorRange 2.0 2.0
End
AliasConditionState  USER_1 BETWEEN_FIRING_SHOTS_A
AliasConditionState  USER_1 RELOADING_A

ConditionState  USER_1 MOVING
Animation  UIMOB02_SKL.UIMOB02_RNB
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
ParticleSysBone    None InfantryDustTrails
End

ConditionState  USER_1 DYING
Animation  UIMOB02_SKL.UIMOB02_DB1
Animation  UIMOB02_SKL.UIMOB02_DB2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  USER_1 SPECIAL_CHEERING
Animation  UIMOB02_SKL.UIMOB02_CHB
Flags  RANDOMSTART
AnimationMode  LOOP
End

;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB02_SKL.UIMOB02_B_ADTA1
Animation  UIMOB02_SKL.UIMOB02_D_ADTA1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB02_SKL.UIMOB02_B_ADTA2
Animation  UIMOB02_SKL.UIMOB02_D_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB02_SKL.UIMOB02_B_ADTA3
Animation  UIMOB02_SKL.UIMOB02_D_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

End



;**** DESIGN parameters ***

DisplayName       OBJECT:AngryMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY GLAAngryMobMolotovCocktailProjectileWeapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters *** ;MOB02
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL AngryMobNormalLocomotor
Locomotor  SET_WANDER AngryMobWanderLocomotor
Locomotor  SET_PANIC AngryMobPanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

Behavior  ModelConditionUpgrade ModuleTag_Upgrade01
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAArmTheMob
End

Behavior  SubObjectsUpgrade ModuleTag_Upgrade02
TriggeredBy     Upgrade_GLAArmTheMob
HideSubObjects  ROCK_01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03315726 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  4.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;Guy with pistol that upgrades to Molotov cocktails
ObjectReskin GLAInfantryAngryMobPistol03 GLAInfantryAngryMobPistol01

;**** ART Parameters ***
Draw  W3DModelDraw DrawTag_01
OkToChangeModelColor  Yes



; WHILE CARRYING PISTOL
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB03_SKN
IdleAnimation  UIMOB03_SKL.UIMOB03_IDA1 0 12
IdleAnimation  UIMOB03_SKL.UIMOB03_IDA2 0 5
IdleAnimation  UIMOB03_SKL.UIMOB03_CHA  0 5
IdleAnimation  UIMOB03_SKL.UIMOB03_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  MOVING
Animation  UIMOB03_SKL.UIMOB03_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
End

ConditionState  DYING
Animation  UIMOB03_SKL.UIMOB03_DA1
Animation  UIMOB03_SKL.UIMOB03_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  SPECIAL_CHEERING
Animation  UIMOB03_SKL.UIMOB03_CHD
AnimationMode  ONCE
End

; Aiming Pistol
TransitionState   TRANS_STAND TRANS_FIRING
Animation      UIMOB03_SKL.UIMOB03_ATA1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

; Firing Gun
ConditionState  ATTACKING FIRING_A
Animation  UIMOB03_SKL.UIMOB03_ATA1_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING
AnimationSpeedFactorRange  1.9 1.9
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_FIRING TRANS_RELOADING
Animation      UIMOB03_SKL.UIMOB03_ATA1_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState   RELOADING_A
Animation  UIMOB03_SKL.UIMOB03_STA  0 5
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_RELOADING
End

TransitionState  TRANS_RELOADING TRANS_FIRING
Animation      UIMOB03_SKL.UIMOB03_ATA1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
End

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING TRANS_STAND
Animation      UIMOB03_SKL.UIMOB03_ATA1_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

;--------------------------------------------------------
; TRANSITION FROM PISTOL TO AK47
TransitionState  TRANS_STAND TRANS_STAND_AK
Animation  UIMOB03_SKL.UIMOB03_TA-D
AnimationMode  ONCE
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; WHILE CARRYING AK47
;---------------------------------------------------------
ConditionState WEAPONSET_PLAYER_UPGRADE ;Idle with AK Slung
Model  UIMOB03_SKN
IdleAnimation  UIMOB03_SKL.UIMOB03_IDD1 0 6
IdleAnimation  UIMOB03_SKL.UIMOB03_IDD2 0 6
IdleAnimation  UIMOB03_SKL.UIMOB03_CHD  0 6
IdleAnimation  UIMOB03_SKL.UIMOB03_STD
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  MOVING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB03_SKL.UIMOB03_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  DYING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB03_SKL.UIMOB03_DD1
Animation  UIMOB03_SKL.UIMOB03_DD2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB03_SKL.UIMOB03_CHD
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Drawing AK47
TransitionState   TRANS_STAND_AK TRANS_FIRING_AK
Animation      UIMOB03_SKL.UIMOB03_ATD_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Firing Gun
ConditionState  ATTACKING FIRING_A WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB03_SKL.UIMOB03_ATD_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_AK TRANS_STAND_AK
Animation      UIMOB03_SKL.UIMOB03_ATD_ED ; end firing
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
AnimationSpeedFactorRange  1.5 1.5
End

;    ;Throwing bottle----------------------------------------------------------------


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB03_SKL.UIMOB03_A_ADTD1
Animation  UIMOB03_SKL.UIMOB03_D_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD2
Animation  UIMOB03_SKL.UIMOB03_D_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD3
Animation  UIMOB03_SKL.UIMOB03_D_ADTD3
AnimationMode  ONCE
TransitionKey  None
End


End


;Geometry  CYLINDER
;GeometryMajorRadius  3.0 ; very thin
;GeometryMinorRadius  3.0 ; very thinD
;GeometryHeight  12.0
;GeometryIsSmall  Yes

End

;Guy with pistol that upgrades to Molotov cocktails
ObjectReskin GLAInfantryAngryMobPistolToMolotov03 GLAInfantryAngryMobPistolToMolotov01

;**** ART Parameters ***
Draw  W3DModelDraw DrawTag_01
OkToChangeModelColor  Yes

; While carrying pistol
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB03_SKN
IdleAnimation  UIMOB03_SKL.UIMOB03_IDA1 0 12
IdleAnimation  UIMOB03_SKL.UIMOB03_IDA2 0 5
IdleAnimation  UIMOB03_SKL.UIMOB03_CHA  0 5
IdleAnimation  UIMOB03_SKL.UIMOB03_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  UIMOB03_SKL.UIMOB03_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
End

ConditionState  DYING
Animation  UIMOB03_SKL.UIMOB03_DA1
Animation  UIMOB03_SKL.UIMOB03_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  RIDER1 DYING
Animation  UIMOB03_SKL.UIMOB03_DA1
Animation  UIMOB03_SKL.UIMOB03_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying_Rider1
End

ConditionState  RIDER2 DYING
Animation  UIMOB03_SKL.UIMOB03_DA1
Animation  UIMOB03_SKL.UIMOB03_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying_Rider2
End

ConditionState  RIDER1 SPECIAL_CHEERING
Animation  UIMOB03_SKL.UIMOB03_CHD
AnimationMode  ONCE
End
AliasConditionState  RIDER2 SPECIAL_CHEERING

; Aiming Pistol

ConditionState  RIDER1 PREATTACK_A
Animation      UIMOB03_SKL.UIMOB03_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

TransitionState   TRANS_STAND TRANS_FIRING
Animation      UIMOB03_SKL.UIMOB03_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

; Firing Gun
ConditionState  RIDER1 FIRING_A
Animation  UIMOB03_SKL.UIMOB03_ATA2_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING
AnimationSpeedFactorRange  1.9 1.9
End
AliasConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_FIRING TRANS_RELOADING
Animation      UIMOB03_SKL.UIMOB03_ATA2_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState   RIDER1 RELOADING_A
Animation  UIMOB03_SKL.UIMOB03_STA  0 5
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_RELOADING
End

TransitionState  TRANS_RELOADING TRANS_FIRING
Animation      UIMOB03_SKL.UIMOB03_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
End

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING TRANS_STAND
Animation      UIMOB03_SKL.UIMOB03_ATA2_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

; Upgraded with Molotovs
;---------------------------------------------------------

ConditionState  RIDER2
IdleAnimation  UIMOB03_SKL.UIMOB03_IDA1 0 12
IdleAnimation  UIMOB03_SKL.UIMOB03_CHA  0 5
IdleAnimation  UIMOB03_SKL.UIMOB03_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_MOLOTOV
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WaitForStateToFinishIfPossible  TRANS_FIRING_MOLOTOV
End

ConditionState  MOVING RIDER2
Animation  UIMOB03_SKL.UIMOB03_RNA
Animation  UIMOB03_SKL.UIMOB03_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  MOVING_MOLOTOV
End

; Drawing Molotov
ConditionState   RIDER2 PREATTACK_A
Animation      UIMOB03_SKL.UIMOB03_ATCA_BF ; wind up
AnimationMode  ONCE
TransitionKey  TRANS_PREATTACK_MOLOTOV
End

; Throwing Molotov
ConditionState  RIDER2 FIRING_A
Animation  UIMOB03_SKL.UIMOB03_ATCA_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_MOLOTOV
AnimationSpeedFactorRange 2.0 2.0
End

; Reloading Molotov
ConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
Animation  UIMOB03_SKL.UIMOB03_STA 0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_RELOADING_MOLOTOV
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WaitForStateToFinishIfPossible  TRANS_FIRING_MOLOTOV
End
AliasConditionState  RIDER2 RELOADING_A


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB03_SKL.UIMOB03_A_ADTD1
Animation  UIMOB03_SKL.UIMOB03_D_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD2
Animation  UIMOB03_SKL.UIMOB03_D_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD3
Animation  UIMOB03_SKL.UIMOB03_D_ADTD3
AnimationMode  ONCE
TransitionKey  Bogo
End

;--------------------------------------------------------

TransitionState  TRANS_Dying_Rider1 TRANS_Flailing_Rider1
Animation  UIMOB03_SKL.UIMOB03_A_ADTD1
Animation  UIMOB03_SKL.UIMOB03_D_ADTD1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD2
Animation  UIMOB03_SKL.UIMOB03_D_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing_Rider1
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD3
Animation  UIMOB03_SKL.UIMOB03_D_ADTD3
AnimationMode  ONCE
TransitionKey  Logo
End

;--------------------------------------------------------

TransitionState  TRANS_Dying_Rider2 TRANS_Flailing_Rider2
Animation  UIMOB03_SKL.UIMOB03_A_ADTD1
Animation  UIMOB03_SKL.UIMOB03_D_ADTD1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD2
Animation  UIMOB03_SKL.UIMOB03_D_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing_Rider2
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Animation  UIMOB03_SKL.UIMOB03_A_ADTD3
Animation  UIMOB03_SKL.UIMOB03_D_ADTD3
AnimationMode  ONCE
TransitionKey  Zogo
End


End

;Geometry  CYLINDER
;GeometryMajorRadius  3.0 ; very thin
;GeometryMinorRadius  3.0 ; very thinD
;GeometryHeight  12.0
;GeometryIsSmall  Yes

End

;Guy with throwing rock that upgrades to an AK
Object GLAInfantryAngryMobRock04
Scale 0.90
;**** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; WHILE CARRYING ROCK
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB04_SKN
IdleAnimation  UIMOB04_SKL.UIMOB04_IDB1 0 12
IdleAnimation  UIMOB04_SKL.UIMOB04_IDB2 0 5
IdleAnimation  UIMOB04_SKL.UIMOB04_CHB  0 5
IdleAnimation  UIMOB04_SKL.UIMOB04_STB  0 12
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_A
WeaponFireFXBone   PRIMARY NONE
WeaponMuzzleFlash  PRIMARY NONE
End


; Drawing rock
ConditionState   PREATTACK_A
Animation      UIMOB04_SKL.UIMOB04_ATB2_BF ; wind up
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; throwing rock
ConditionState  ATTACKING FIRING_A
Animation  UIMOB04_SKL.UIMOB04_ATB1_AF ; throw
Animation  UIMOB04_SKL.UIMOB04_ATB2_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
AnimationSpeedFactorRange 2.9 2.9
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A

ConditionState  MOVING
Animation  UIMOB04_SKL.UIMOB04_RUN
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
ParticleSysBone    None InfantryDustTrails
End

ConditionState  DYING
Animation  UIMOB04_SKL.UIMOB04_DB1
Animation  UIMOB04_SKL.UIMOB04_DB2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  SPECIAL_CHEERING
Animation  UIMOB04_SKL.UIMOB04_CHB
Flags  RANDOMSTART
AnimationMode  LOOP
End


;--------------------------------------------------------
; TRANSITION FROM STONE TO AK47
TransitionState  TRANS_STAND_A TRANS_STAND_AK
Animation  UIMOB04_SKL.UIMOB04_TB-D
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; WHILE CARRYING AK47
;---------------------------------------------------------
ConditionState WEAPONSET_PLAYER_UPGRADE ;Idle with AK Slung
IdleAnimation  UIMOB04_SKL.UIMOB04_IDD1 0 6
IdleAnimation  UIMOB04_SKL.UIMOB04_IDD2 0 6
IdleAnimation  UIMOB04_SKL.UIMOB04_CHD  0 6
IdleAnimation  UIMOB04_SKL.UIMOB04_STD
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  MOVING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB04_SKL.UIMOB04_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  DYING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB04_SKL.UIMOB04_DD1
Animation  UIMOB04_SKL.UIMOB04_DD2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB04_SKL.UIMOB04_CHD
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Drawing AK47
TransitionState   TRANS_STAND_AK TRANS_FIRING_AK
Animation      UIMOB04_SKL.UIMOB04_ATD1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Firing Gun
ConditionState  ATTACKING FIRING_A WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB04_SKL.UIMOB04_ATD1_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_AK TRANS_STAND_AK
Animation      UIMOB04_SKL.UIMOB04_ATD1_ED ; end firing
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
AnimationSpeedFactorRange  1.5 1.5
End

;    ;Throwing bottle----------------------------------------------------------------


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB04_SKL.UIMOB04_B_ADTF1
Animation  UIMOB04_SKL.UIMOB04_D_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB04_SKL.UIMOB04_B_ADTF2
Animation  UIMOB04_SKL.UIMOB04_D_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB04_SKL.UIMOB04_B_ADTF3
Animation  UIMOB04_SKL.UIMOB04_D_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

End

;**** DESIGN parameters ***

DisplayName       OBJECT:AngryMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY GLAAngryMobRockProjectileWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY GLAAngryMobAK47Weapon ; for atttacking in AK-proof conditions
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters *** ;MOB02
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL AngryMobNormalLocomotor
Locomotor  SET_WANDER AngryMobWanderLocomotor
Locomotor  SET_PANIC AngryMobPanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

Behavior  WeaponSetUpgrade UpgradeTag_01
TriggeredBy  Upgrade_GLAArmTheMob
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior DeathTag_01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
End
Behavior  SlowDeathBehavior DeathTag_02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior DeathTag_03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior DeathTag_04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03315726 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  5.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;Guy with throwing rock that upgrades to Molotov cocktails
Object GLAInfantryAngryMobMolotov04
Scale 0.90
;**** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; WHILE CARRYING ROCK
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB04_SKN
IdleAnimation  UIMOB04_SKL.UIMOB04_IDB1 0 12
IdleAnimation  UIMOB04_SKL.UIMOB04_IDB2 0 5
IdleAnimation  UIMOB04_SKL.UIMOB04_CHB  0 5
IdleAnimation  UIMOB04_SKL.UIMOB04_STB  0 12
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_A
End

; Drawing rock
ConditionState   PREATTACK_A
Animation      UIMOB04_SKL.UIMOB04_ATB2_BF ; wind up
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; throwing rock
ConditionState  FIRING_A
Animation  UIMOB04_SKL.UIMOB04_ATB1_AF ; throw
Animation  UIMOB04_SKL.UIMOB04_ATB2_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
AnimationSpeedFactorRange 2.9 2.9
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A


ConditionState  DYING
Animation  UIMOB04_SKL.UIMOB04_DB1
Animation  UIMOB04_SKL.UIMOB04_DB2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  SPECIAL_CHEERING
Animation  UIMOB04_SKL.UIMOB04_CHB
Flags  RANDOMSTART
AnimationMode  LOOP
End


; WHILE CARRYING MOLOTOV
;---------------------------------------------------------
ConditionState  USER_1
Model  UIMOB04_SKN
IdleAnimation  UIMOB04_SKL.UIMOB04_IDB1 0 12
IdleAnimation  UIMOB04_SKL.UIMOB04_IDB2 0 5
IdleAnimation  UIMOB04_SKL.UIMOB04_CHB  0 5
IdleAnimation  UIMOB04_SKL.UIMOB04_STB  0 12
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_A
End


; Drawing Molotov
ConditionState   USER_1 PREATTACK_A
Animation      UIMOB04_SKL.UIMOB04_ATCB_BF ; wind up
AnimationMode  ONCE
End
AliasConditionState  USER_1 PREATTACK_A FIRING_A
AliasConditionState  USER_1 PREATTACK_A BETWEEN_FIRING_SHOTS_A

; throwing Molotov
ConditionState  USER_1 FIRING_A
Animation  UIMOB04_SKL.UIMOB04_ATCB_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
AnimationSpeedFactorRange 2.0 2.0
End
AliasConditionState  USER_1 BETWEEN_FIRING_SHOTS_A
AliasConditionState  USER_1 RELOADING_A

ConditionState  USER_1 MOVING
Animation  UIMOB04_SKL.UIMOB04_RUN
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
ParticleSysBone    None InfantryDustTrails
End

ConditionState  USER_1 DYING
Animation  UIMOB04_SKL.UIMOB04_DB1
Animation  UIMOB04_SKL.UIMOB04_DB2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  USER_1 SPECIAL_CHEERING
Animation  UIMOB04_SKL.UIMOB04_CHB
Flags  RANDOMSTART
AnimationMode  LOOP
End

;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB04_SKL.UIMOB04_B_ADTF1
Animation  UIMOB04_SKL.UIMOB04_D_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB04_SKL.UIMOB04_B_ADTF2
Animation  UIMOB04_SKL.UIMOB04_D_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB04_SKL.UIMOB04_B_ADTF3
Animation  UIMOB04_SKL.UIMOB04_D_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

End

;**** DESIGN parameters ***

DisplayName       OBJECT:AngryMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY GLAAngryMobMolotovCocktailProjectileWeapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters *** ;MOB02
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL AngryMobNormalLocomotor
Locomotor  SET_WANDER AngryMobWanderLocomotor
Locomotor  SET_PANIC AngryMobPanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

Behavior  ModelConditionUpgrade ModuleTag_Upgrade01
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAArmTheMob
End

Behavior  SubObjectsUpgrade ModuleTag_Upgrade02
TriggeredBy     Upgrade_GLAArmTheMob
HideSubObjects  ROCK_01
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior DeathTag_01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
End
Behavior  SlowDeathBehavior DeathTag_02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior DeathTag_03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior DeathTag_04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03315726 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;;Geometry  CYLINDER
;GeometryMajorRadius  5.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;Guy with pistol that upgrades to an AK
ObjectReskin GLAInfantryAngryMobPistol05 GLAInfantryAngryMobPistol01

;**** ART Parameters ***
Draw  W3DModelDraw DrawTag_01
OkToChangeModelColor  Yes



; WHILE CARRYING PISTOL
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB05_SKN
IdleAnimation  UIMOB05_SKL.UIMOB05_IDA1 0 12
IdleAnimation  UIMOB05_SKL.UIMOB05_IDA2 0 5
IdleAnimation  UIMOB05_SKL.UIMOB05_CHA  0 5
IdleAnimation  UIMOB05_SKL.UIMOB05_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  MOVING
Animation  UIMOB05_SKL.UIMOB05_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
End

ConditionState  DYING
Animation  UIMOB05_SKL.UIMOB05_DA1
Animation  UIMOB05_SKL.UIMOB05_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  SPECIAL_CHEERING
Animation  UIMOB05_SKL.UIMOB05_CHD
AnimationMode  ONCE
End

; Aiming Pistol
TransitionState   TRANS_STAND TRANS_FIRING
Animation      UIMOB05_SKL.UIMOB05_ATA1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

; Firing Gun
ConditionState  ATTACKING FIRING_A
Animation  UIMOB05_SKL.UIMOB05_ATA1_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING
AnimationSpeedFactorRange  1.9 1.9
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_FIRING TRANS_RELOADING
Animation      UIMOB05_SKL.UIMOB05_ATA1_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState   RELOADING_A
Animation  UIMOB05_SKL.UIMOB05_STA  0 5
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_RELOADING
End

TransitionState  TRANS_RELOADING TRANS_FIRING
Animation      UIMOB05_SKL.UIMOB05_ATA1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
End

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING TRANS_STAND
Animation      UIMOB05_SKL.UIMOB05_ATA1_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

;--------------------------------------------------------
; TRANSITION FROM PISTOL TO AK47
TransitionState  TRANS_STAND TRANS_STAND_AK
Animation  UIMOB05_SKL.UIMOB05_TA-D
AnimationMode  ONCE
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; WHILE CARRYING AK47
;---------------------------------------------------------
ConditionState WEAPONSET_PLAYER_UPGRADE ;Idle with AK Slung
Model  UIMOB05_SKN
IdleAnimation  UIMOB05_SKL.UIMOB05_IDD1 0 6
IdleAnimation  UIMOB05_SKL.UIMOB05_IDD2 0 6
IdleAnimation  UIMOB05_SKL.UIMOB05_CHD  0 6
IdleAnimation  UIMOB05_SKL.UIMOB05_STD
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  MOVING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB05_SKL.UIMOB05_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  DYING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB05_SKL.UIMOB05_DD1
Animation  UIMOB05_SKL.UIMOB05_DD2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

ConditionState  SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB05_SKL.UIMOB05_CHD
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Drawing AK47
TransitionState   TRANS_STAND_AK TRANS_FIRING_AK
Animation      UIMOB05_SKL.UIMOB05_ATD1_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End

; Firing Gun
ConditionState  ATTACKING FIRING_A WEAPONSET_PLAYER_UPGRADE
Animation  UIMOB05_SKL.UIMOB05_ATD1_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_AK
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
End
AliasConditionState   BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_AK TRANS_STAND_AK
Animation      UIMOB05_SKL.UIMOB05_ATD1_ED ; end firing
AnimationMode  ONCE
WeaponFireFXBone   PRIMARY MuzzleAK
WeaponMuzzleFlash  PRIMARY MuzzleAKFX
AnimationSpeedFactorRange  1.5 1.5
End

;    ;Throwing bottle----------------------------------------------------------------


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB05_SKL.UIMOB05_A_ADTA1
Animation  UIMOB05_SKL.UIMOB05_D_ADTA1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA2
Animation  UIMOB05_SKL.UIMOB05_D_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA3
Animation  UIMOB05_SKL.UIMOB05_D_ADTA3
AnimationMode  ONCE
TransitionKey  None
End


End



;Geometry  CYLINDER
;GeometryMajorRadius  3.0 ; very thin
;GeometryMinorRadius  3.0 ; very thinD
;GeometryHeight  12.0
;GeometryIsSmall  Yes

End

;Guy with pistol that upgrades to Molotov cocktails
ObjectReskin GLAInfantryAngryMobPistolToMolotov05 GLAInfantryAngryMobPistolToMolotov01

;**** ART Parameters ***
Draw  W3DModelDraw DrawTag_01
OkToChangeModelColor  Yes

; While carrying pistol
;---------------------------------------------------------
DefaultConditionState
Model  UIMOB05_SKN
IdleAnimation  UIMOB05_SKL.UIMOB05_IDA1 0 12
IdleAnimation  UIMOB05_SKL.UIMOB05_IDA2 0 5
IdleAnimation  UIMOB05_SKL.UIMOB05_CHA  0 5
IdleAnimation  UIMOB05_SKL.UIMOB05_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  UIMOB05_SKL.UIMOB05_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey    MOVING
End

ConditionState  DYING
Animation  UIMOB05_SKL.UIMOB05_DA1
Animation  UIMOB05_SKL.UIMOB05_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

ConditionState  RIDER1 DYING
Animation  UIMOB05_SKL.UIMOB05_DA1
Animation  UIMOB05_SKL.UIMOB05_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying_Rider1
End

ConditionState  RIDER2 DYING
Animation  UIMOB05_SKL.UIMOB05_DA1
Animation  UIMOB05_SKL.UIMOB05_DA2
AnimationMode  ONCE
TransitionKey  TRANS_Dying_Rider2
End

ConditionState  RIDER1 SPECIAL_CHEERING
Animation  UIMOB05_SKL.UIMOB05_CHD
AnimationMode  ONCE
End
AliasConditionState  RIDER2 SPECIAL_CHEERING

; Aiming Pistol

ConditionState  RIDER1 PREATTACK_A
Animation      UIMOB05_SKL.UIMOB05_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

TransitionState   TRANS_STAND TRANS_FIRING
Animation      UIMOB05_SKL.UIMOB05_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange 2.5 2.5
End

; Firing Gun
ConditionState  RIDER1 FIRING_A
Animation  UIMOB05_SKL.UIMOB05_ATA2_LP ; looping firing
AnimationMode  LOOP
TransitionKey  TRANS_FIRING
AnimationSpeedFactorRange  1.9 1.9
End
AliasConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_FIRING TRANS_RELOADING
Animation      UIMOB05_SKL.UIMOB05_ATA2_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState   RIDER1 RELOADING_A
Animation  UIMOB05_SKL.UIMOB05_STA  0 5
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_RELOADING
End

TransitionState  TRANS_RELOADING TRANS_FIRING
Animation      UIMOB05_SKL.UIMOB05_ATA2_ST ; start firing
AnimationMode  ONCE
AnimationSpeedFactorRange  2.5 2.5
End

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING TRANS_STAND
Animation      UIMOB05_SKL.UIMOB05_ATA2_ED ; end firing
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

; Upgraded with Molotovs
;---------------------------------------------------------

ConditionState  RIDER2
IdleAnimation  UIMOB05_SKL.UIMOB05_IDA1 0 12
IdleAnimation  UIMOB05_SKL.UIMOB05_CHA  0 5
IdleAnimation  UIMOB05_SKL.UIMOB05_STA  0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND_MOLOTOV
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WaitForStateToFinishIfPossible  TRANS_FIRING_MOLOTOV
End

ConditionState  MOVING RIDER2
Animation  UIMOB05_SKL.UIMOB05_RNA
Animation  UIMOB05_SKL.UIMOB05_RND
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  MOVING_MOLOTOV
End

; Drawing Molotov
ConditionState   RIDER2 PREATTACK_A
Animation      UIMOB05_SKL.UIMOB05_ATCA_BF ; wind up
AnimationMode  ONCE
TransitionKey  TRANS_PREATTACK_MOLOTOV
End

; Throwing Molotov
ConditionState  RIDER2 FIRING_A
Animation  UIMOB05_SKL.UIMOB05_ATCA_AF ; throw
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_MOLOTOV
AnimationSpeedFactorRange 2.0 2.0
End

; Reloading Molotov
ConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
Animation  UIMOB05_SKL.UIMOB05_STA 0 5
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_RELOADING_MOLOTOV
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WaitForStateToFinishIfPossible  TRANS_FIRING_MOLOTOV
End
AliasConditionState  RIDER2 RELOADING_A


;--------------------------------------------------------

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIMOB05_SKL.UIMOB05_A_ADTA1
Animation  UIMOB05_SKL.UIMOB05_D_ADTA1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA2
Animation  UIMOB05_SKL.UIMOB05_D_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA3
Animation  UIMOB05_SKL.UIMOB05_D_ADTA3
AnimationMode  ONCE
TransitionKey  Bogo
End

;--------------------------------------------------------

TransitionState  TRANS_Dying_Rider1 TRANS_Flailing_Rider1
Animation  UIMOB05_SKL.UIMOB05_A_ADTA1
Animation  UIMOB05_SKL.UIMOB05_D_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA2
Animation  UIMOB05_SKL.UIMOB05_D_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing_Rider1
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA3
Animation  UIMOB05_SKL.UIMOB05_D_ADTA3
AnimationMode  ONCE
TransitionKey  Logo
End

;--------------------------------------------------------

TransitionState  TRANS_Dying_Rider2 TRANS_Flailing_Rider2
Animation  UIMOB05_SKL.UIMOB05_A_ADTA1
Animation  UIMOB05_SKL.UIMOB05_D_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA2
Animation  UIMOB05_SKL.UIMOB05_D_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing_Rider2
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Animation  UIMOB05_SKL.UIMOB05_A_ADTA3
Animation  UIMOB05_SKL.UIMOB05_D_ADTA3
AnimationMode  ONCE
TransitionKey  Zogo
End


End

;Geometry  CYLINDER
;GeometryMajorRadius  3.0 ; very thin
;;GeometryMinorRadius  3.0 ; very thinD
;GeometryHeight  12.0
;GeometryIsSmall  Yes

End
;------------------------------------------------------------------------------
;***THESE UNITS ARE NOT SELECTABLE ANYMORE! To kill them, you must target
;   the stinger site. If the weapon does particular types of damage, it'll
;   kill guys inside first, then the site.
Object GLAInfantryDushkaGunner
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUDushka_L
ButtonImage             SUDushka

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     18

ConditionState  NONE
Model              UBDushka_G
Turret             Turret
TurretPitch        TurretEL
WeaponRecoilBone   PRIMARY Recoil
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WaitForStateToFinishIfPossible  TRANS_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

ConditionState  FIRING_A
Model              UBDushka_G
Animation          UBDushka_G.UBDushka_G
AnimationMode      ONCE
Turret             Turret
TurretPitch        TurretEL
WeaponRecoilBone   PRIMARY Recoil
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
TransitionKey      TRANS_FIRING
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING RELOADING_A

ConditionState  FIRING_B
Model              UBDushka_G
Animation          UBDushka_G.UBDushka_G
AnimationMode      ONCE
Turret             Turret
TurretPitch        TurretEL
WeaponRecoilBone   SECONDARY Recoil
WeaponFireFXBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
TransitionKey      TRANS_FIRING
End
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B

End

; ***DESIGN parameters ***
DisplayName       OBJECT:DushkaNest
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions           None
Weapon               PRIMARY   DushkaMachineGun
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
Weapon               SECONDARY DushkaMachineGunAir
PreferredAgainst     SECONDARY BALLISTIC_MISSILE AIRCRAFT
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   ArmorPeircingDushkaMachineGun
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
Weapon               SECONDARY DushkaMachineGunAir
PreferredAgainst     SECONDARY BALLISTIC_MISSILE AIRCRAFT
End

ArmorSet
Conditions       None
Armor            StingerSoldierArmor ;Extra protection due to being enclosed by the stinger site.
DamageFX         None
End

VisionRange  400.0
ShroudClearingRange  400

CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER CLICK_THROUGH SPAWNS_ARE_THE_WEAPONS ATTACK_NEEDS_LINE_OF_SIGHT NO_HEAL_ICON GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate         180
TurretPitchRate        100
AllowsPitch            Yes
FiresWhileTurning      Yes
MinIdleScanInterval    5000     ; in milliseconds
MaxIdleScanInterval    10000    ; in milliseconds
MinIdleScanAngle       30       ; in degrees off the natural turret angle
MaxIdleScanAngle       180      ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed ;ATTACK_BUILDINGS
MoodAttackCheckRate         30
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SlavedUpdate ModuleTag_06
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  WeaponBonusUpgrade ModuleTag_ApBullets01
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  WeaponSetUpgrade ModuleTag_ApBullets02
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  StealthUpdate ModuleTag_09
StealthDelay                 2500 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal01
HealingAmount      2.5  ;in health points
HealingDelay       100  ; msec
StartHealingDelay  7000 ;in miliseconds
StartsActive       Yes
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
ExemptStatus         CAN_STEALTH
DeathTypes           ALL -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -DETONATED
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerNormalDeath
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death02
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +EXPLODED
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerExplodedDeath
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death03
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerFlamingInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death04
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerToxicInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death05
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerToxicInfantryBeta
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death06
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerTeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death07
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerMicroWavedDeathInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death16
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerViralInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL  OCL_BrutalBloodyDeathBits
FX                   INITIAL  FX_InfantryGoreExplosion
OCL                  MIDPOINT OCL_GLADushkaMachineGunnerNormalDeath
OCL                  FINAL    OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  50
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerBloodyGoreExplosion
FX                   FINAL   FX_DushkaInfantryGoreExplosion
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death232
ExemptStatus         CAN_STEALTH
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  50
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerExplodedDeath
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_033145726 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
ExemptStatus         CAN_STEALTH
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerRadiationDeath
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
ExemptStatus         CAN_STEALTH
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerNeutronRadiationDeath
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_GLADushkaMachineGunnerCryogenicFreezeDeath
OCL                  FINAL   OCL_GLADushkaMachineGunHulk
End

;;;Different Death Modules for after the  camo net upgrade
;;;These makes sure the empty gun stealths after the gunner is killed

;  Behavior  FireWeaponWhenDeadBehavior ModuleTag_RevealWhenNoGunner01
;    RequiredStatus  CAN_STEALTH
;    DeathTypes  ALL
;    DeathWeapon  GLADefenceRevealObjectSpawnWeapon
;    StartsActive  Yes
;  End

Behavior  SlowDeathBehavior ModuleTag_Death08
RequiredStatus       CAN_STEALTH
DeathTypes           ALL -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -DETONATED
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerNormalDeath
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death09
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +EXPLODED
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerExplodedDeath
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death10
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerFlamingInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death11
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerToxicInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death12
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerToxicInfantryBeta
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death13
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerTeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death14
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerMicroWavedDeathInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death15
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_GLADushkaMachineGunnerViralInfantry
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death0425 ;Brutal kill with lots of blood and no death scream
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL  OCL_BrutalBloodyDeathBits
FX                   INITIAL  FX_InfantryGoreExplosion
OCL                  MIDPOINT OCL_GLADushkaMachineGunnerNormalDeath
OCL                  FINAL    OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_0326 ;Gore death explosion
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  50
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerBloodyGoreExplosion
FX                   FINAL   FX_DushkaInfantryGoreExplosion
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_Death09462
RequiredStatus       CAN_STEALTH
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  50
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerExplodedDeath
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_03315726 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
RequiredStatus       CAN_STEALTH
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerRadiationDeath
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_03323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
RequiredStatus       CAN_STEALTH
DestructionDelay     0
OCL                  INITIAL OCL_GLADushkaMachineGunnerNeutronRadiationDeath
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End

Behavior  SlowDeathBehavior ModuleTag_03323141231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
RequiredStatus       CAN_STEALTH
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_GLADushkaMachineGunnerCryogenicFreezeDeath
OCL                  FINAL   OCL_GLADushkaMachineGunStealthedHulk
End
;Instant death and removal for when the structure is bieng sold
Behavior  SlowDeathBehavior ModuleTag_Removeme01
DeathTypes           NONE +DETONATED
DestructionDelay     0
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

;Geometry  CYLINDER
;GeometryMajorRadius  20.0
;GeometryMinorRadius  20.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
BuildCompletion  APPEARS_AT_RALLY_POINT

End



;------------------------------------------------------------------------------
Object GLAInfantryDushkaGunnerDyingDummy

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                UIDskGnnr
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  LifetimeUpdate ModuleTag_Death012
MinLifetime  0
MaxLifetime  0
End

;;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryDushkaGunnerDyingBrutalDummy

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                UIDskGnnr
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  LifetimeUpdate ModuleTag_Death012
MinLifetime  0
MaxLifetime  0
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryDushkaGunnerDyingDummy_Explosion

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                UIDskGnnr
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIRGrd_SKL.UIRGrd_IDB
End

End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  LifetimeUpdate ModuleTag_Death012
MinLifetime  0
MaxLifetime  0
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object DeadDushkaMachineGunHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UBDushka_G
HideSubObject  Gunner Muzzle01
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions       None
Armor            JarmenKellStingerMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE

Body  ActiveBody ModuleTag_Body01
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DestroyDie ModuleTag_Die01
DeathTypes           ALL -DETONATED
End

;Instant death and removal for when the structure is bieng sold
Behavior  SlowDeathBehavior ModuleTag_Removeme01
DeathTypes           NONE +DETONATED
DestructionDelay     0
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  20000
MaxLifetime  20000
End

End

;------------------------------------------------------------------------------
Object DeadDushkaMachineGunStealthedHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UBDushka_G
HideSubObject  Gunner Muzzle01
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions       None
Armor            JarmenKellStingerMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE

Body  ActiveBody ModuleTag_Body01
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  20000
MaxLifetime  20000
End

Behavior  DestroyDie ModuleTag_Die01
DeathTypes           ALL -DETONATED
End

;Instant death and removal for when the structure is bieng sold
Behavior  SlowDeathBehavior ModuleTag_Removeme01
DeathTypes           NONE +DETONATED
DestructionDelay     0
End

Behavior  StealthUpdate ModuleTag_09
StealthDelay                 2500 ; msec
StealthForbiddenConditions   TAKING_DAMAGE
MoveThresholdSpeed           3
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

End

;------------------------------------------------------------------------------
Object DeadDushkaMachineGunRemovalObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0
MaxLifetime  0
End

Behavior  SlowDeathBehavior ModuleTag_05
DestructionDelay   100
Weapon  FINAL DushkaMachineGunRemovalObjectWeapon
End

End
;------------------------------------------------------------------------------
Object GLAInfantryFanatic
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUFanatic_L
ButtonImage             SUFanatic

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                UIFntc_SKN
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

ConditionState         REALLYDAMAGED
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        TRANS_StandingHurt
End

; ---- moving
ConditionState         MOVING
Animation            UIRGrd_SKL.UIRGrd_RNA 15
AnimationMode        LOOP
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
Flags                RANDOMSTART
End
AliasConditionState    MOVING ATTACKING

ConditionState         MOVING REALLYDAMAGED
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
TransitionKey        TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USING_WEAPON_A
Animation  UIRGrd_SKL.UIRGrd_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USING_WEAPON_A REALLYDAMAGED
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  TRANS_FiringHurt
End

TransitionState  TRANS_Standing TRANS_Firing
Animation  UIRGrd_SKL.UIRGrd_ATAST
AnimationMode  ONCE
End

TransitionState  TRANS_Firing TRANS_Standing
Animation  UIRGrd_SKL.UIRGrd_ATAED
AnimationMode  ONCE
End

TransitionState  TRANS_StandingHurt TRANS_FiringHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE_BACKWARDS
End

TransitionState  TRANS_FiringHurt TRANS_StandingHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE
End

TransitionState  TRANS_Standing TRANS_StandingHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE
End

; ---- Throwing bottle
ConditionState  PREATTACK_C
Model          UIFntc_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C RELOADING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RELOADING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState  FIRING_C
Model          UIFntc_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C BETWEEN_FIRING_SHOTS_C

ConditionState RELOADING_C
Model      UIFntc_B_SKN
Animation  UIMOB01_SKL.UIMOB01_IDA1
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_C FIRING_C
AliasConditionState  RELOADING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  RELOADING_C REALLYDAMAGED FIRING_C
AliasConditionState  RELOADING_C REALLYDAMAGED BETWEEN_FIRING_SHOTS_C

; ------- Parachuting Animations

ConditionState     FREEFALL
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_PHG
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME START_FRAME_LAST ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_PTD
AnimationMode    ONCE
End

; ------- Bldg-capture

ConditionState  UNPACKING
Model              UIFntc_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState  RAISING_FLAG
Model              UIFntc_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState  PACKING
Model              UIFntc_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState  TRANS_Raising TRANS_Packing
Model              UIFntc_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Fanatic
Side                 GLA
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY  GLAFanaticMachineGun
Weapon             TERTIARY GLARebelMolotovCocktailWeapon
AutoChooseSources  TERTIARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY  GLAFanaticMachineGunUpgraded
Weapon             TERTIARY GLARebelMolotovCocktailWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          220
ShroudClearingRange  220

Prerequisites
Object  GLABarracks
End

BuildCost  65
BuildTime  5.0          ;in seconds

ExperienceValue      15 15 30 40     ;Experience point value at each level
ExperienceRequired   0 40 60 120     ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryRebelCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RebelVoiceSelect
VoiceMove  RebelVoiceMove
VoiceGuard  RebelVoiceMove
VoiceAttack  RebelVoiceAttack
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff
VoiceFear  RebelVoiceFear
VoiceTaskComplete  RebelVoiceCaptureComplete
UnitSpecificSounds
VoiceCreate  RebelVoiceCreate
VoiceSubdue  RebelVoiceSubdue
VoiceGarrison  RebelVoiceGarrison
VoiceEnter  RebelVoiceMove
VoiceEnterHostile  RebelVoiceMove
VoiceGetHealed       RebelVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL RebelLocomotor

Behavior  CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  WeaponSetUpgrade ModuleTag_09
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  CommandSetUpgrade ModuleTag_SuicidePack02
CommandSet   GLAInfantryRebelUpgradedCommandSet
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  SquishCollide ModuleTag_11
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_GLAExplodedDeathFanatic
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathFanatic
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RebelSurrender
OCL                  INITIAL OCL_FanaticSurrendering
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_17
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          RebelVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_18
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
End

Behavior  SpecialAbility ModuleTag_20
SpecialPowerTemplate  SpecialAbilityBoobyTrap
UpdateModuleStartsAttack  Yes
StartsPaused               Yes
InitiateSound  RebelVoiceBoobyTrapInstall
End
Behavior  SpecialAbilityUpdate ModuleTag_21
SpecialPowerTemplate  SpecialAbilityBoobyTrap
StartAbilityRange  5.0
PreparationTime  0
SpecialObject  BoobyTrap
MaxSpecialObjects  100
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_22
SpecialPowerTemplate  SpecialAbilityBoobyTrap
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryFanaticSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              UIFntc_SKN
Animation          UIRGrd_SKL.UIRGrd_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          UIRGrd_SKL.UIRGrd_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          UIRGrd_SKL.UIRGrd_DTA
Animation          UIRGrd_SKL.UIRGrd_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             GLA
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedFanaticRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_GLAExplodedDeathFanatic
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathFanatic
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End

; --- end Death modules ---

;Geometry  BOX
;GeometryMajorRadius  5.0
;GeometryMinorRadius  5.0
;GeometryHeight  7.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
Object GLAInfantryHijacker
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUHijacker_L
ButtonImage             SUHijacker

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ExtraPublicBone  UIHJCK

DefaultConditionState
Model  UIHJCK_SKN
IdleAnimation  UIHJCK_SKL.UIHJCK_STA 0 25
IdleAnimation  UIHJCK_SKL.UIHJCK_IDA
IdleAnimation  UIHJCK_SKL.UIHJCK_IDB
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED

ConditionState  MOVING
Animation  UIHJCK_SKL.UIHJCK_RUN 20
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  REALLYDAMAGED MOVING


ConditionState  DYING
Animation  UIHJCK_SKL.UIHJCK_DTA
Animation  UIHJCK_SKL.UIHJCK_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIHJCK_SKL.UIHJCK_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIHJCK_SKL.UIHJCK_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIHJCK_SKL.UIHJCK_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIHJCK_SKL.UIHJCK_CHA
AnimationMode  LOOP
End


ConditionState  PARACHUTING
Animation  UIHJCK_SKL.UIHJCK_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  UIHJCK_SKL.UIHJCK_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  UIHJCK_SKL.UIHJCK_PTD
AnimationMode  ONCE
End


End

Draw  W3DModelDraw ModuleTag_FirepointAttachment01
DefaultConditionState
Model  EXFirepoint
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Hijacker
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions           None
Weapon               SECONDARY HijackVehicle
Weapon               TERTIARY  HijackerGuardRangeWeapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  100
ShroudClearingRange  220


BuildCost  400
BuildTime  10.0          ;in seconds


ExperienceValue     40 40 60  80    ;Experience point value at each level
ExperienceRequired  0  50 100 200   ;Experience points needed to gain each level
IsTrainable  Yes                   ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     GLAInfantryHijackerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  HijackerVoiceSelect
VoiceMove    HijackerVoiceMove
VoiceGuard   HijackerVoiceMove
VoiceAttack  HijackerVoiceAttack
VoiceFear    HijackerVoiceFear

UnitSpecificSounds
VoiceGarrison      HijackerVoiceGarrison
VoiceCreate        HijackerVoiceCreate
VoiceEnter         HijackerVoiceEnter
VoiceEnterHostile  HijackerVoiceEnterHostile
VoiceGetHealed     HijackerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
EnterGuard  Yes
HijackGuard  Yes
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE CAN_ATTACK
;STEALTH_GARRISON Added per Dustin, 12/14--ML

Body  ActiveBody ModuleTag_03
MaxHealth        130.0
InitialHealth    130.0
End

Behavior  AIUpdateInterface ModuleTag_05
Turret
TurretTurnRate  0
ControlledWeaponSlots  SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior  CommandButtonHuntUpdate  ModuleTag_CBH01 ; allows use of command button hunt script with this unit.
End
Locomotor  SET_NORMAL HijackerLocomotor
Locomotor  SET_NORMAL_UPGRADED HijackerUpgradedLocomotor

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior  LocomotorSetUpgrade ModuleTag_Fanatical01
TriggeredBy    Upgrade_GLAArmTheMob
End

Behavior  ConvertToHijackedVehicleCrateCollide       ModuleTag_08
RequiredKindOf   VEHICLE                 ; This is my car now, infidel!
ForbiddenKindOf  IMMUNE_TO_CAPTURE DRONE ; No more dozers or drones for you!
End

Behavior  HijackerUpdate ModuleTag_04
ParachuteName  GLAParachute
End

Behavior  StealthUpdate ModuleTag_07
StealthDelay                 2000
InnateStealth                No
;HintDetectableConditions     DETECTED
ForbiddenStatus              DETECTED
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_10
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName      GLAInfantryHijackerRevealDummy
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_Decal01
StartsActive   No
TriggeredBy    Upgrade_GLACamouflage
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       HijackerRevealRangeDecalWeapon
ContinuousWeaponDamaged        HijackerRevealRangeDecalWeapon
ContinuousWeaponReallyDamaged  HijackerRevealRangeDecalWeapon
;No rubble weapon as this decal should disapear when dead
;ContinuousWeaponRubble
End

Behavior  SquishCollide ModuleTag_09
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_HijackerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_HijackerDie
OCL                  INITIAL OCL_GLAExplodedDeathHijacker
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_HijackerDie
OCL                  FINAL OCL_GLAExplodedDeathHijacker
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_HijackerSurrender
OCL                  INITIAL OCL_HijackerSurrendering
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryHijackerRevealDummy

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                None
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
Side              GLA
EditorSorting     SYSTEM
TransportSlotCount  1
VisionRange      100
ShroudClearingRange  0

WeaponSet
Conditions  None
Weapon  PRIMARY HijackerRevealDummyWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End

; *** AUDIO Parameters ***
SoundStealthOn   NoSound
SoundStealthOff  NoSound

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       3600
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  1
End

Behavior              DestroyDie ModuleTag_05
End

End

;------------------------------------------------------------------------------
Object GLAInfantryHijackerRevealDecal

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  33
MaxLifetime  33
End

;Geometry             BOX
;GeometryMajorRadius  5.0
;GeometryMinorRadius  5.0
;GeometryHeight       5.0
;GeometryIsSmall      No
Scale                50.0
ShadowTexture  SCCDetectionRadius
ShadowSizeX  195
ShadowSizeY  195

End

;------------------------------------------------------------------------------
Object GLAInfantryHijackerSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              UIHJCK_SKN
Animation          UIHJCK_SKL.UIHJCK_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          UIHJCK_SKL.UIHJCK_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          UIHJCK_SKL.UIHJCK_DTA
Animation          UIHJCK_SKL.UIHJCK_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             GLA
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedHijackerRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_HijackerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_HijackerDie
OCL                  INITIAL OCL_GLAExplodedDeathHijacker
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_HijackerDie
OCL                  FINAL OCL_GLAExplodedDeathHijacker
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

;Geometry  BOX
;GeometryMajorRadius  5.0
;GeometryMinorRadius  5.0
;GeometryHeight  7.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
Object GLAInfantryInformant
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUInformant_L
ButtonImage             SUInformant

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UIINFRM_SKN
IdleAnimation  CIUMC01_SKL.CIUMC01_STN 0 30
IdleAnimation  CIUMC01_SKL.CIUMC01_IDA
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

End

; set cost and time fields here or else they won't work
BuildCost  200
BuildTime  5.0

Side  GLA
EditorSorting  INFANTRY
BuildVariations  GLAInfantryInformant_Var1 GLAInfantryInformant_Var2 GLAInfantryInformant_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
Object GLAInfantryInformant_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUInformant_L
ButtonImage             SUInformant

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UIINFRM_SKN
IdleAnimation  CIUMC01_SKL.CIUMC01_STN 0 30
IdleAnimation  CIUMC01_SKL.CIUMC01_IDA
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  ATTACKING

ConditionState  MOVING
Animation  CIUMC01_SKL.CIUMC01_WKA 50
AnimationMode  LOOP
Flags  RANDOMSTART
Flags  MAINTAIN_FRAME_ACROSS_STATES3
End
AliasConditionState  ATTACKING MOVING

ConditionState  DYING
Animation  CIUMC01_SKL.CIUMC01_DTA
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES2
End
AliasConditionState  DYING EXPLODED_FLAILING
AliasConditionState  DYING EXPLODED_BOUNCING

End

Draw  W3DModelDraw ModuleTag_FirepointAttachment01
DefaultConditionState
Model  EXFirepoint
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Informant
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

WeaponSet
Conditions  None
Weapon             PRIMARY InformantFollowEnemyUnitDummyCommand
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  300
ShroudClearingRange  300

BuildCost  200
BuildTime  5.0

ExperienceValue      5 5 5 5        ;Experience point value at each level
IsTrainable          No             ;Can gain experience
CrushableLevel       1              ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryInformantCommandSet

; *** AUDIO Parameters ***
VoiceSelect     InformantVoiceSelect
VoiceAttack     InformantVoiceFollowEnemy
VoiceMove       InformantVoiceMove
VoiceGuard      InformantVoiceMove
VoiceFear       InformantVoiceFear

UnitSpecificSounds
VoiceGarrison      InformantVoiceMove
VoiceEnter         InformantVoiceMove
VoiceEnterHostile  InformantVoiceMove
VoiceGetHealed     InformantVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY NO_GARRISON SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL InformantHumanLocomotor


Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_06
;  End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_InformantDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_InformantDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_InformantDieFlame
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_InformantDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_InformantDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_InformantDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_InformantDieFlame
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_InformantDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_InformantDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_InformantDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_InformantDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

Behavior  PoisonedBehavior ModuleTag_09
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay  600
;StealthForbiddenConditions  TAKING_DAMAGE
FriendlyOpacityMin  100.0%
OrderIdleEnemiesToAttackMeUponReveal  Yes
HintDetectableConditions  DETECTED
ForbiddenStatus  DETECTED
End

Behavior            OCLSpecialPower ModuleTag_Report01
SpecialPowerTemplate  SpecialAbilityInformantReport
OCL                   OCL_InformantReportObject
CreateLocation        USE_OWNER_OBJECT
End

Behavior  OverlordContain ModuleTag_RevealSelfTrigger01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
;PayloadTemplateName      GLAInfantryInformantRevealDummy
End

;I will only reveal myself to enemies 10 seconds after I appear
Behavior  FireWeaponUpdate ModuleTag_RevealSelfTrigger02
Weapon  GLAInformanRevealObjectSpawnWeapon
InitialDelay  10000
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryInformantRevealDummy

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                EXBlackout
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
Side              GLA
EditorSorting     SYSTEM
TransportSlotCount  1
VisionRange      100

WeaponSet
Conditions  None
Weapon  SECONDARY InformantRevealToInfantryDummyWeapon
Weapon  TERTIARY  InformantRevealToVehiclesDummyWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY TERTIARY
TurretTurnRate       3600
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  1
End

Behavior              DestroyDie ModuleTag_05
End

;Geometry             BOX
;GeometryMajorRadius  1.0
;GeometryMinorRadius  1.0
;GeometryHeight       1.0
;GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetectionRadius
ShadowSizeX  168
ShadowSizeY  168

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryInformant_Var2 GLAInfantryInformant_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UIINFR2_SKN
IdleAnimation  CISTV01_SKL.CISTV01_STN 0 30
IdleAnimation  CISTV01_SKL.CISTV01_IDA
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  ATTACKING

ConditionState  MOVING
Animation  CISTV01_SKL.CISTV01_WKA 30
AnimationMode  LOOP
Flags  RANDOMSTART
Flags  MAINTAIN_FRAME_ACROSS_STATES3
End
AliasConditionState  ATTACKING MOVING

ConditionState  DYING
Animation  CISTV01_SKL.CISTV01_DTA
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES2
End
AliasConditionState  DYING EXPLODED_FLAILING
AliasConditionState  DYING EXPLODED_BOUNCING

End

Draw  W3DModelDraw ModuleTag_FirepointAttachment01
DefaultConditionState
Model  EXFirepoint
End
End

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryInformant_Var3 GLAInfantryInformant_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UIINFRM3_SKN
IdleAnimation  cisciv02_SKL.cisciv02_STA 0 30
IdleAnimation  cisciv02_SKL.cisciv02_IDB
AnimationMode  ONCE
End
AliasConditionState  ATTACKING

ConditionState  MOVING
Animation  cisciv02_SKL.cisciv02_WKA 42
AnimationMode  LOOP
Flags  RANDOMSTART
End
AliasConditionState  ATTACKING MOVING

ConditionState  DYING
Animation  cisciv02_SKL.cisciv02_DTA
Animation  cisciv02_SKL.cisciv02_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  cisciv02_SKL.cisciv02_ADTA1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  cisciv02_SKL.cisciv02_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  cisciv02_SKL.cisciv02_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

End

Draw  W3DModelDraw ModuleTag_FirepointAttachment01
DefaultConditionState
Model  EXFirepoint
End
End

End
;------------------------------------------------------------------------------
Object InsurrectionSignalFlare
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone  NONE BurtonFlareGrenadeSmoke
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         TankDamageFX
End

VisionRange  30.0
ShroudClearingRange  30.0

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior        OCLUpdate ModuleTag_0211; Just Shows a Decal
OCL           Insurrection_AngryMob
MinDelay      3000
MaxDelay      3000
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime        3100
MaxLifetime        3100
End

End

;------------------------------------------------------------------------------
Object GLAInfantryAngryMobNexus_Insurrection
Scale 0.90
;**** ART Parameters **************************
SelectPortrait          SURiotAngryMob_L
ButtonImage             SURiotAngryMob

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  None
End
End


;****DESIGN parameters **************************

DisplayName       OBJECT:InsurrectionMob
Side  GLA

RadarPriority        NOT_ON_RADAR

EditorSorting    INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY GLAAngryMobNexusHarmlessWeapon
Weapon  SECONDARY GLAAngryMobNexusHarmlessWeapon
Weapon  TERTIARY GLAAngryMobNexusHarmlessWeapon
End


ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

BuildCost        1000
BuildTime        15.0          ;in seconds
VisionRange      220  ; it can scout for the spawn
ShroudClearingRange  0

Prerequisites
Object  GLABarracks
Object  GLABlackMarket
End

IsTrainable      No

ExperienceValue  50 100 200 300    ;Experience point value at each level

CommandSet     GLAInfantryAngryMobCommandSet;

;**** AUDIO Parameters *****************************
VoiceSelect   InsurrectionVoiceSelect
VoiceMove     InsurrectionVoiceMove
VoiceGuard    InsurrectionVoiceMove
VoiceAttack   InsurrectionVoiceAttack
SoundAmbient  AngryMobAmbientLoop

UnitSpecificSounds
VoiceCreate           InsurrectionVoiceCreate
End


;**** ENGINEERING Parameters ******************************

RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK INFANTRY OBSTACLE MOB_NEXUS ATTACK_NEEDS_LINE_OF_SIGHT NO_COLLIDE SELECTABLE SCORE
Body  ImmortalBody ModuleTag_02
MaxHealth        99999.0
InitialHealth    99999.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL InsurrectionAngryMobNexusLocomotor
Locomotor  SET_WANDER InsurrectionAngryMobNexusLocomotor
Locomotor  SET_PANIC  InsurrectionAngryMobNexusLocomotor


Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior             SpawnBehavior ModuleTag_05
SpawnNumber        50
SpawnReplaceDelay  3000 ; 3 seconds

SpawnTemplateName  InsurrectionMobMember01
SpawnTemplateName  InsurrectionMobMember01
SpawnTemplateName  InsurrectionMobMember02
SpawnTemplateName  InsurrectionMobMember02
SpawnTemplateName  InsurrectionMobMember03
SpawnTemplateName  InsurrectionMobMember04

ExitByBudding  Yes;!
OneShot      No
AggregateHealth  Yes
SlavesHaveFreeWill  No
End

Behavior  QueueProductionExitUpdate ModuleTag_06
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay      3000
InitialBurst   8 ; the first set of 5 will not delay
End

Behavior  DestroyDie ModuleTag_07
DeathTypes  ALL
End

;Geometry  CYLINDER
;GeometryMajorRadius  1.0
;GeometryMinorRadius  1.0
;GeometryHeight  1.0
;GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object InsurrectionMobMember01
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIPART2_SKN
IdleAnimation  UIPART2_SKL.UIPART2_STA
IdleAnimation  UIPART2_SKL.UIPART2_IDA
IdleAnimation  UIPART2_SKL.UIPART2_IDB
IdleAnimation  UIPART2_SKL.UIPART2_CHA
IdleAnimation  UIPART2_SKL.UIPART2_CHA
IdleAnimation  UIPART2_SKL.UIPART2_CHA
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED

ConditionState  MOVING
Animation  UIPART2_SKL.UIPART2_RNA
AnimationMode  LOOP
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

ConditionState  MOVING REALLYDAMAGED
Animation  UIPART2_SKL.UIPART2_RNA
AnimationMode  LOOP
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED

ConditionState  DYING
Animation  UIPART2_SKL.UIPART2_DTA
Animation  UIPART2_SKL.UIPART2_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIPART2_SKL.UIPART2_ADTC1
AnimationMode  ONCE
End
ConditionState  DYING EXPLODED_FLAILING
Animation  UIPART2_SKL.UIPART2_ADTC2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End
ConditionState  DYING EXPLODED_BOUNCING
Animation  UIPART2_SKL.UIPART2_ADTC3
AnimationMode  ONCE
End

ConditionState  FIRING_A
Animation  UIPART2_SKL.UIPART2_ATA
AnimationMode  ONCE
TransitionKey  TRANS_FiringA
End
AliasConditionState  FIRING_A REALLYDAMAGED

ConditionState  BETWEEN_FIRING_SHOTS_A
Animation  UIPART2_SKL.UIPART2_ATA
AnimationMode  MANUAL
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED

ConditionState  FREEFALL
Animation  UIPART2_SKL.UIPART2_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState  PARACHUTING
Animation  UIPART2_SKL.UIPART2_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  UIPART2_SKL.UIPART2_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  UIPART2_SKL.UIPART2_PTD
AnimationMode  ONCE
End
ConditionState  SPECIAL_CHEERING
Animation  UIPART2_SKL.UIPART2_CHA
AnimationMode  ONCE
End
End

DisplayName       OBJECT:InsurrectionMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY InsurrectionMobShotgunWeapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL InsurrectionAngryMobNormalLocomotor
Locomotor  SET_WANDER InsurrectionAngryMobWanderLocomotor
Locomotor  SET_PANIC  InsurrectionAngryMobPanicLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;Behavior  SquishCollide ModuleTag_08
;End


; --- begin Death modules ---
Behavior  SlowDeathBehavior DeathTag_01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
End
Behavior  SlowDeathBehavior DeathTag_02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior DeathTag_03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior DeathTag_04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  4.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object InsurrectionMobMember02
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIPART_SKN
IdleAnimation  UIPART_SKL.UIPART_STA
IdleAnimation  UIPART_SKL.UIPART_IDA
IdleAnimation  UIPART_SKL.UIPART_IDB
IdleAnimation  UIPART_SKL.UIPART_CHA
IdleAnimation  UIPART_SKL.UIPART_CHA
IdleAnimation  UIPART_SKL.UIPART_CHA
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED
ConditionState  MOVING
Animation  UIPART_SKL.UIPART_RNA
AnimationMode  LOOP
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
ConditionState  MOVING REALLYDAMAGED
Animation  UIPART_SKL.UIPART_RNA
AnimationMode  LOOP
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
ConditionState  DYING
Animation  UIPART_SKL.UIPART_DTA
Animation  UIPART_SKL.UIPART_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIPART_SKL.UIPART_ADTD1
AnimationMode  ONCE
End
ConditionState  DYING EXPLODED_FLAILING
Animation  UIPART_SKL.UIPART_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End
ConditionState  DYING EXPLODED_BOUNCING
Animation  UIPART_SKL.UIPART_ADTD3
AnimationMode  ONCE
End
ConditionState  FIRING_A
Animation  UIPART_SKL.UIPART_ATA
AnimationMode  LOOP
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
ConditionState  FIRING_A REALLYDAMAGED
Animation  UIPART_SKL.UIPART_ATA
AnimationMode  LOOP
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED
ConditionState  FREEFALL
Animation  UIPART_SKL.UIPART_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState  PARACHUTING
Animation  UIPART_SKL.UIPART_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  UIPART_SKL.UIPART_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  UIPART_SKL.UIPART_PTD
AnimationMode  ONCE
End
ConditionState  SPECIAL_CHEERING
Animation  UIPART_SKL.UIPART_CHA
AnimationMode  ONCE
End
End

DisplayName       OBJECT:InsurrectionMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY InsurrectionMobSubmachinegunWeapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL InsurrectionAngryMobNormalLocomotor
Locomotor  SET_WANDER InsurrectionAngryMobWanderLocomotor
Locomotor  SET_PANIC  InsurrectionAngryMobPanicLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;Behavior  SquishCollide ModuleTag_08
;End


; --- begin Death modules ---
Behavior  SlowDeathBehavior DeathTag_01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
End
Behavior  SlowDeathBehavior DeathTag_02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior DeathTag_03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior DeathTag_04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabMaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  4.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object InsurrectionMobMember03
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIPRTSN3_SKN
IdleAnimation  UIPRTSN3_SKL.UIPRTSN3_STA
IdleAnimation  UIPRTSN3_SKL.UIPRTSN3_IDA
IdleAnimation  UIPRTSN3_SKL.UIPRTSN3_IDB
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED
ConditionState  MOVING
Animation  UIPRTSN3_SKL.UIPRTSN3_RNA
AnimationMode  LOOP
TransitionKey  TRANS_Standing
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
ConditionState  MOVING REALLYDAMAGED
Animation  UIPRTSN3_SKL.UIPRTSN3_RNA
AnimationMode  LOOP
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
ConditionState  DYING
Animation  UIPRTSN3_SKL.UIPRTSN3_DTA
Animation  UIPRTSN3_SKL.UIPRTSN3_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIPRTSN3_SKL.UIPRTSN3_ADTA1
AnimationMode  ONCE
End
ConditionState  DYING EXPLODED_FLAILING
Animation  UIPRTSN3_SKL.UIPRTSN3_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End
ConditionState  DYING EXPLODED_BOUNCING
Animation  UIPRTSN3_SKL.UIPRTSN3_ADTA3
AnimationMode  ONCE
End
ConditionState  FIRING_A
Animation  UIPRTSN3_SKL.UIPRTSN3_ATA
AnimationMode  LOOP
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
ConditionState  FIRING_A REALLYDAMAGED
Animation  UIPRTSN3_SKL.UIPRTSN3_ATA
AnimationMode  LOOP
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState  PARACHUTING
Animation  UIPRTSN3_SKL.UIPRTSN3_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  UIPRTSN3_SKL.UIPRTSN3_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  UIPRTSN3_SKL.UIPRTSN3_PTD
AnimationMode  ONCE
End
ConditionState  SPECIAL_CHEERING
Animation  UIPRTSN3_SKL.UIPRTSN3_CHA
AnimationMode  ONCE
End
End

DisplayName       OBJECT:InsurrectionMob
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY InsurrectionMobAK47Weapon
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  80
BuildTime  0.0

ExperienceValue  5 5 5 5    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER IGNORED_IN_GUI

Body  ActiveBody BodyTag_01
MaxHealth        60.0
InitialHealth    60.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    150
NoNeedToCatchUpRadius  80
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL InsurrectionAngryMobNormalLocomotor
Locomotor  SET_WANDER InsurrectionAngryMobWanderLocomotor
Locomotor  SET_PANIC  InsurrectionAngryMobPanicLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;Behavior  SquishCollide ModuleTag_08
;End


; --- begin Death modules ---
Behavior  SlowDeathBehavior DeathTag_01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
End
Behavior  SlowDeathBehavior DeathTag_02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior DeathTag_03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior DeathTag_04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_CivilianArabFemaleDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

;Geometry  CYLINDER
;GeometryMajorRadius  4.0 ; very thin
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin InsurrectionMobMember04 InsurrectionMobMember03

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UIPRTSN3_SKN
IdleAnimation  UIPRTSN3_SKL.UIPRTSN3_CHA
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED
ConditionState  MOVING
Animation  UIPRTSN3_SKL.UIPRTSN3_RNA
AnimationMode  LOOP
TransitionKey  TRANS_Standing
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
ConditionState  MOVING REALLYDAMAGED
Animation  UIPRTSN3_SKL.UIPRTSN3_RNA
AnimationMode  LOOP
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
ConditionState  DYING
Animation  UIPRTSN3_SKL.UIPRTSN3_DTA
Animation  UIPRTSN3_SKL.UIPRTSN3_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIPRTSN3_SKL.UIPRTSN3_ADTA1
AnimationMode  ONCE
End
ConditionState  DYING EXPLODED_FLAILING
Animation  UIPRTSN3_SKL.UIPRTSN3_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End
ConditionState  DYING EXPLODED_BOUNCING
Animation  UIPRTSN3_SKL.UIPRTSN3_ADTA3
AnimationMode  ONCE
End
ConditionState  FIRING_A
Animation  UIPRTSN3_SKL.UIPRTSN3_ATA
AnimationMode  LOOP
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
ConditionState  FIRING_A REALLYDAMAGED
Animation  UIPRTSN3_SKL.UIPRTSN3_ATA
AnimationMode  LOOP
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState  PARACHUTING
Animation  UIPRTSN3_SKL.UIPRTSN3_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  UIPRTSN3_SKL.UIPRTSN3_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  UIPRTSN3_SKL.UIPRTSN3_PTD
AnimationMode  ONCE
End
ConditionState  SPECIAL_CHEERING
Animation  UIPRTSN3_SKL.UIPRTSN3_CHA
AnimationMode  ONCE
End
End

End
;----------------------------------------------------------------------------
Object GLAInfantryJarmenKell
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUJermanKell1_L
ButtonImage             SUJermanKell1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; --- idle
DefaultConditionState
Model              UIHERO_SKN
IdleAnimation      UIHERO_SKL.UIHERO_STA 0 21
IdleAnimation      UIHERO_SKL.UIHERO_IDA
IdleAnimation      UIHERO_SKL.UIHERO_IDB
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   SECONDARY Exhaust01
WeaponLaunchBone   SECONDARY Muzzle02
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
TransitionKey      TRANS_Stand
WaitForStateToFinishIfPossible  TRANS_FIRING_STINGER
End

ConditionState       REALLYDAMAGED
IdleAnimation      UIHERO_SKL.UIHERO_ISTA 0 30
IdleAnimation      UIHERO_SKL.UIHERO_IIDA
IdleAnimation      UIHERO_SKL.UIHERO_IIDB
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
WaitForStateToFinishIfPossible  TRANS_FIRING_STINGER
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          UIHERO_SKL.UIHERO_ISTAHIT
AnimationMode      ONCE
End

; --- attack

ConditionState       FIRING_A
Animation          UIHERO_SKL.UIHERO_ATA
AnimationMode      ONCE
TransitionKey      TRANS_FiringA
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  None
End
AliasConditionState  FIRING_C

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          UIHERO_SKL.UIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C
AliasConditionState  PREATTACK_C

ConditionState       FIRING_A REALLYDAMAGED
Animation          UIHERO_SKL.UIHERO_IATA2
AnimationMode      ONCE
TransitionKey      TRANS_FiringAInjured
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  None
End
AliasConditionState  FIRING_C REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          UIHERO_SKL.UIHERO_IATA2
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED
AliasConditionState  PREATTACK_A REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          UIHERO_SKL.UIHERO_IATAHIT
AnimationMode      ONCE
End

; --- attack with stinger missile vehicle  weapon

ConditionState       PREATTACK_B
Model              UIHero_2_SKN
Animation          UISmsd_SKL.UISmsd_ATC
AnimationMode      ONCE
End
AliasConditionState  PREATTACK_B REALLYDAMAGED

ConditionState       FIRING_B
Model              UIHero_2_SKN
Animation          UISmsd_SKL.UISmsd_ATD
AnimationMode      ONCE
TransitionKey      TRANS_FIRING_STINGER
End
AliasConditionState  FIRING_B REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_B
Model              UIHero_2_SKN
Animation          UISmsd_SKL.UISmsd_STB
AnimationMode      ONCE
End
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState       RELOADING_B
Model              UIHero_2_SKN
Animation          UISmsd_SKL.UISmsd_ATA 10
AnimationMode      ONCE
End


; --- moving
ConditionState       MOVING
Animation          UIHERO_SKL.UIHERO_RNA2 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Trans_Moving
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  None
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING RELOADING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B

ConditionState       MOVING REALLYDAMAGED
Animation          UIHERO_SKL.UIHERO_IRNA 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Trans_Moving_Damaged
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  None
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          UIHERO_SKL.UIHERO_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          UIHERO_SKL.UIHERO_ICHA
AnimationMode      LOOP
End

; --- dying
ConditionState       DYING
Animation          UIHERO_SKL.UIHERO_DTA
Animation          UIHERO_SKL.UIHERO_DTB
Animation          UIHERO_SKL.UIHERO_IDTA
Animation          UIHERO_SKL.UIHERO_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          UIHERO_SKL.UIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          UIHERO_SKL.UIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
WaitForStateToFinishIfPossible  None
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          UIHERO_SKL.UIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      TRANS_Dying_Exploded
WaitForStateToFinishIfPossible  None
End

; --- falling
ConditionState       FREEFALL
Animation          UIHERO_SKL.UIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          UIHERO_SKL.UIHERO_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          UIHERO_SKL.UIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          UIHERO_SKL.UIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          UIHERO_SKL.UIHERO_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:JarmenKell
Side                   GLA
EditorSorting          INFANTRY
TransportSlotCount     1                 ;how many "slots" we take in a transport (0 == not transportable)
MaxSimultaneousOfType  1

WeaponSet
Conditions  None
Weapon             PRIMARY   GLAJarmenKellRifle
Weapon             SECONDARY GLAJarmenKellVehiclePilotSniperRifle
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  GLAJarmenKellSupresiveFireWeapon
AutoChooseSources  TERTIARY  NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   GLAJarmenKellRifleUpgraded
Weapon             SECONDARY GLAJarmenKellVehiclePilotSniperRifle
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  GLAJarmenKellSupresiveFireWeapon
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          300
ShroudClearingRange  325

Prerequisites
Object  GLAPalace
End

BuildCost  1500
BuildTime  20.0          ;in seconds

ExperienceValue      50 100 100 150  ;Experience point value at each level
ExperienceRequired   0  200 300 600  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryJarmenKellCommandSet

; *** AUDIO Parameters ***
VoiceSelect      JarmenKellVoiceSelect
VoiceMove        JarmenKellVoiceMove
VoiceGuard       JarmenKellVoiceMove
VoiceAttack      JarmenKellVoiceAttack
VoiceFear        JarmenKellVoiceFear

UnitSpecificSounds
VoiceCreate           JarmenKellVoiceCreate
VoiceGarrison         JarmenKellVoiceGarrison
VoiceEnter            JarmenKellVoiceMove
VoiceEnterHostile     JarmenKellVoiceMove
VoiceGetHealed        JarmenKellVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER STEALTH_GARRISON SCORE HERO REJECT_UNMANNED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL JarmenKellLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End
Behavior  StealthUpdate ModuleTag_06
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
EnemyDetectionEvaEvent       EnemyJarmenKellDetected
OwnDetectionEvaEvent         OwnJarmenKellDetected
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  WeaponSetUpgrade ModuleTag_08
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  BoneFXDamage ModuleTag_HeroDecal01
End

Behavior  BoneFXUpdate ModuleTag_HeroDecal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_GLAHeroUnitDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_GLAHeroUnitDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_GLAHeroUnitDecal
End

;  Behavior  FireWeaponUpdate ModuleTag_HeroDecal01
;    Weapon  GLAHeroUnitDecalWeapon
;  End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_JarmenKellDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_JarmenKellDie
OCL                  INITIAL OCL_GLAExplodedDeathJarmenKell
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_JarmenKellDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathJarmenKell
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
Object GLAInfantryMercenaryGrenadier
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUMercenary_L
ButtonImage              SUMercenary

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EIMerc_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN
AnimationMode        ONCE
End
End

; set cost and time fields here or else they won't work
BuildCost  750
BuildTime  4.0          ;in seconds

Prerequisites
Object   GLAPalace
End

Side  GLA
EditorSorting  INFANTRY
BuildVariations   GLAInfantryMercenaryGrenadier_Var1 GLAInfantryMercenaryGrenadier_Var2 GLAInfantryMercenaryGrenadier_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

End

;------------------------------------------------------------------------------
Object GLAInfantryMercenaryGrenadier_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUMercenary_L
ButtonImage              SUMercenary

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                UIMercGrn_SKN_B
HideSubObject        WPN01 HEAD02 HEAD03
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Animation            AIHERO_SKL.AIHERO_RNA 26
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Animation         AIHERO_SKL.AIHERO_IRNA 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

; Firing animation
ConditionState       FIRING_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringA
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A

; Injured Firing animation
ConditionState       FIRING_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringAInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIHERO_SKL.AIHERO_IATAHIT
AnimationMode      ONCE
End

; Arc Firing mode animation

ConditionState       FIRING_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B
End

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B
End
AliasConditionState  RELOADING_B

; Injured Arc Firing mode animation
ConditionState       FIRING_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B_Injured
End

ConditionState       BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B_Injured
End
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_Firing_B TRANS_Firing_B_Injured
Animation          AIHERO_SKL.AIHERO_IATDHIT
AnimationMode      ONCE
End

; Placing charge animation
ConditionState       UNPACKING
Animation          AIHERO_SKL.AIHERO_ATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING

; Injured Placing charge animation
ConditionState       UNPACKING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; climbing
ConditionState       CLIMBING
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING
AliasConditionState  CLIMBING REALLYDAMAGED
AliasConditionState  RAPPELLING REALLYDAMAGED

ConditionState       CLIMBING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  CLIMBING MOVING REALLYDAMAGED

ConditionState       RAPPELLING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING MOVING REALLYDAMAGED

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End
AliasConditionState  RAPPELLING DYING
AliasConditionState  CLIMBING DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:MercenaryGrenadier
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         NONE
Weapon             PRIMARY   MercenaryGrenadeLauncherWeapon
Weapon             SECONDARY MercenaryGrenadeLauncherArcFireModeWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Object   GLABlackMarket
Science  SCIENCE_Mercenaries
End

VisionRange          225
ShroudClearingRange  250

BuildCost  750
BuildTime  4.0          ;in seconds

ExperienceValue      40 60  80  100  ;Experience point value at each level
ExperienceRequired   0  300 400 600  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryMercenaryGrenadierCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MercenaryGrenadierVoiceSelect
VoiceMove              MercenaryGrenadierVoiceMove
VoiceGuard             MercenaryGrenadierVoiceMove
VoiceAttack            MercenaryGrenadierVoiceAttack
VoiceFear              MercenaryGrenadierVoiceFear

UnitSpecificSounds
VoiceCreate          MercenaryGrenadierVoiceCreate
VoiceGarrison        MercenaryGrenadierVoiceGarrison
VoiceEnter           MercenaryGrenadierVoiceMove
VoiceEnterHostile    MercenaryGrenadierVoiceMove
VoiceGetHealed       MercenaryGrenadierVoiceMove
VoicePrimaryWeaponMode    MercenaryGrenadierVoiceSwitchDirrectFireMode
VoiceSecondaryWeaponMode  MercenaryGrenadierVoiceSwitchArFireMode
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL ConscriptHumanLocomotor
Locomotor  SET_SUPERSONIC MercenaryMachetteLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  SECONDARY
End

;  Behavior  SquishCollide ModuleTag_11
;  End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
ForbiddenStatus              STATUS_RIDER2 ;running around screaming with a machete is not exactly stealthy afterall
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MercenaryGrenadierDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDie
OCL                  INITIAL OCL_GLAExplodedDeathMercGrenadier
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDieByTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MercenaryGrenadierDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathMercGrenadier
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MercenaryGrenadierDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MercenaryGrenadierDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryMercenaryGrenadier_Var2 GLAInfantryMercenaryGrenadier_Var1


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                UIMercGrn_SKN_B
HideSubObject        WPN01 GLASSES HEAD01 HEAD02
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Animation            AIHERO_SKL.AIHERO_RNA 26
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Animation         AIHERO_SKL.AIHERO_IRNA 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

; Firing animation
ConditionState       FIRING_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringA
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A

; Injured Firing animation
ConditionState       FIRING_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringAInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIHERO_SKL.AIHERO_IATAHIT
AnimationMode      ONCE
End

; Arc Firing mode animation

ConditionState       FIRING_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B
End

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B
End
AliasConditionState  RELOADING_B

; Injured Arc Firing mode animation
ConditionState       FIRING_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B_Injured
End

ConditionState       BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B_Injured
End
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_Firing_B TRANS_Firing_B_Injured
Animation          AIHERO_SKL.AIHERO_IATDHIT
AnimationMode      ONCE
End

; Placing charge animation
ConditionState       UNPACKING
Animation          AIHERO_SKL.AIHERO_ATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING

; Injured Placing charge animation
ConditionState       UNPACKING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; climbing
ConditionState       CLIMBING
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING
AliasConditionState  CLIMBING REALLYDAMAGED
AliasConditionState  RAPPELLING REALLYDAMAGED

ConditionState       CLIMBING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  CLIMBING MOVING REALLYDAMAGED

ConditionState       RAPPELLING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING MOVING REALLYDAMAGED

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End
AliasConditionState  RAPPELLING DYING
AliasConditionState  CLIMBING DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryMercenaryGrenadier_Var3 GLAInfantryMercenaryGrenadier_Var1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                UIMercGrn_SKN_B
HideSubObject        WPN01 GLASSES HEAD01 HEAD03
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Animation            AIHERO_SKL.AIHERO_RNA 26
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Animation         AIHERO_SKL.AIHERO_IRNA 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

; Firing animation
ConditionState       FIRING_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringA
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A

; Injured Firing animation
ConditionState       FIRING_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringAInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIHERO_SKL.AIHERO_IATAHIT
AnimationMode      ONCE
End

; Arc Firing mode animation

ConditionState       FIRING_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B
End

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B
End
AliasConditionState  RELOADING_B

; Injured Arc Firing mode animation
ConditionState       FIRING_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B_Injured
End

ConditionState       BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B_Injured
End
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_Firing_B TRANS_Firing_B_Injured
Animation          AIHERO_SKL.AIHERO_IATDHIT
AnimationMode      ONCE
End

; Placing charge animation
ConditionState       UNPACKING
Animation          AIHERO_SKL.AIHERO_ATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING

; Injured Placing charge animation
ConditionState       UNPACKING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; climbing
ConditionState       CLIMBING
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING
AliasConditionState  CLIMBING REALLYDAMAGED
AliasConditionState  RAPPELLING REALLYDAMAGED

ConditionState       CLIMBING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  CLIMBING MOVING REALLYDAMAGED

ConditionState       RAPPELLING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING MOVING REALLYDAMAGED

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End
AliasConditionState  RAPPELLING DYING
AliasConditionState  CLIMBING DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

End

End
;------------------------------------------------------------------------------
Object GLAInfantryMercenaryGunner
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUMercenaryGunner_L
ButtonImage              SUMercenaryGunner

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                UIMercGnr_SKN
IdleAnimation        AIRngr_SKL.AIRngr_STA
AnimationMode        ONCE
End
End

; set cost and time fields here or else they won't work
BuildCost  600
BuildTime  4.0          ;in seconds

Prerequisites
Object   GLABlackMarket
Science  SCIENCE_Mercenaries
End

Side  GLA
EditorSorting  INFANTRY
BuildVariations   GLAInfantryMercenaryGunner_Var1 GLAInfantryMercenaryGunner_Var2 GLAInfantryMercenaryGunner_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

End

;------------------------------------------------------------------------------
Object GLAInfantryMercenaryGunner_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUMercenaryGunner_L
ButtonImage              SUMercenaryGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                UIMercGnr_SKN_C
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
HideSubObject        HEAD02 HEAD03
TransitionKey        TRANS_STAND
End
AliasConditionState    RIDER1

; ---- moving
ConditionState         RIDER1 MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    RIDER1 MOVING ATTACKING


; ---- firing
ConditionState  RIDER1 FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
AnimationSpeedFactorRange  1.2 1.2
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState  RIDER1 USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1 RELOADING_A

; ---- dying
ConditionState         RIDER1 DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_DYING
End

TransitionState  TRANS_DYING TRANS_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_FLAILING
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

;Transition Animations

;Standing to Prone animation
TransitionState  TRANS_STAND TRANS_PRONE
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_SUA
AnimationMode  ONCE_BACKWARDS
HideSubObject  HEAD02 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD01 WPN02
Flags  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.2 1.5
End

;Prone to Standing animation
TransitionState  TRANS_PRONE TRANS_STAND
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_SUA
AnimationMode  ONCE
HideSubObject  HEAD02 HEAD03 BOX02 WPN02
ShowSubObject  BOX01 HEAD01 WPN01
Flags  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.2 1.5
End

;Prone Animations

;Prone Idle animation
ConditionState   RIDER2
Model  UIMercGnr_SKN
IdleAnimation  AIPFDR_SKL.AIPFDR_STB 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDB
AnimationMode  ONCE
HideSubObject  HEAD02 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD01 WPN02
TransitionKey  TRANS_PRONE
End

;Prone Moving animation
ConditionState  RIDER2 MOVING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_CLA 12
AnimationMode  LOOP
HideSubObject  HEAD02 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD01 WPN02
TransitionKey  TRANS_PRONE_MOVING
End

;Prone Firing animation
ConditionState  RIDER2 FIRING_A
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ATD
AnimationMode  ONCE
Flags  START_FRAME_FIRST
HideSubObject  HEAD02 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD01 WPN02
TransitionKey  TRANS_PRONE_FIRING
End
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 FIRING_C

;Prone Firing in between shots animation
ConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ATD
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  HEAD02 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD01 WPN02
TransitionKey  TRANS_PRONE_FIRING_BETWEEN_SHOTS
WaitForStateToFinishIfPossible  TRANS_PRONE_FIRING
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C

;Prone Death animations
ConditionState  RIDER2 DYING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_DTB
AnimationMode  ONCE
HideSubObject  HEAD02 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD01 WPN02
TransitionKey  TRANS_DYING_PRONE
End

TransitionState  TRANS_DYING_PRONE TRANS_PRONE_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_PRONE_FLAILING
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End


;Parachute animation
ConditionState  RIDER1 FREEFALL
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End
AliasConditionState  RIDER1 PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End

TransitionState  TRANS_Chute TRANS_STAND
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:MercenaryGunner
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

;Standing Stance Weapons
WeaponSet
Conditions             WEAPON_RIDER1
Weapon                 PRIMARY MercenaryAssaultRifleWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions             WEAPON_RIDER1 PLAYER_UPGRADE
Weapon                 PRIMARY MercenaryAssaultRifleUpgradedWeapon
ShareWeaponReloadTime  Yes
End

;Prone Stance Weapons
WeaponSet
Conditions             WEAPON_RIDER2
Weapon                 PRIMARY MercenaryMachineGunWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions             WEAPON_RIDER2 PLAYER_UPGRADE
Weapon                 PRIMARY MercenaryMachineGunUpgradedWeapon
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Object   GLABlackMarket
Science  SCIENCE_Mercenaries
End

VisionRange          200
ShroudClearingRange  225

BuildCost  600
BuildTime  4.0          ;in seconds

ExperienceValue      40 60  80  100  ;Experience point value at each level
ExperienceRequired   0  300 400 600  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           GLAInfantryMercenaryGunnerCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MercenaryGunnerVoiceSelect
VoiceMove              MercenaryGunnerVoiceMove
VoiceGuard             MercenaryGunnerVoiceMove
VoiceAttack            MercenaryGunnerVoiceAttack
VoiceFear              MercenaryGunnerVoiceFear

UnitSpecificSounds
VoiceCreate          MercenaryGunnerVoiceCreate
VoiceGarrison        MercenaryGunnerVoiceMove
VoiceEnter           MercenaryGunnerVoiceMove
VoiceEnterHostile    MercenaryGunnerVoiceMove
VoiceGetHealed       MercenaryGunnerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        380.0
InitialHealth    380.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL ConscriptHumanLocomotor
Locomotor  SET_SUPERSONIC MercnaryGunnerProneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Standing Stance Mode
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAInfantryMercenaryGunnerCommandSet SET_NORMAL

;;;;Prone Stance Mode
Rider2  GenericFakeRider2_Default_Rank  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAInfantryMercenaryGunnerCommandSet SET_SUPERSONIC

;;;;Used only dirrectly after beeing dropped then use the above to after switching weapon at least once
Rider3  GenericFakeRider3_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAInfantryMercenaryGunnerInitialCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider3_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon   MercenaryGunnerSwitchToStandardMode
RequiredStatus  STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject   OCL_GrenadierHEGrenadeMode
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

Behavior  MaxHealthUpgrade ModuleTag_Transform07
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
AddMaxHealth    -200.0 ; This adds 500 hit points when i'm on the ground
ChangeType      PRESERVE_RATIO
ConflictsWith   Upgrade_ChinaOverlordGattlingCannon
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform08
CollideWeapon   MercenaryGunnerSwitchToProneMode
RequiredStatus  STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject   OCL_GrenadierAirburtGrenadeMode
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

Behavior  MaxHealthUpgrade ModuleTag_Transform11
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
AddMaxHealth    200.0 ; This removes 500 hit points when i'm in the air
ChangeType      PRESERVE_RATIO
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  WeaponSetUpgrade ModuleTag_APBullets01
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MercenaryGunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDie
OCL                  INITIAL OCL_GLAExplodedDeathMercGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDieByTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MercenaryGunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathMercGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MercenaryGunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MercenaryGunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryMercenaryGunner_Var2 GLAInfantryMercenaryGunner_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                UIMercGnr_SKN_C
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
HideSubObject        HEAD01 HEAD03
TransitionKey        TRANS_STAND
End
AliasConditionState    RIDER1

; ---- moving
ConditionState         RIDER1 MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    RIDER1 MOVING ATTACKING


; ---- firing
ConditionState  RIDER1 FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
AnimationSpeedFactorRange  1.2 1.2
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState  RIDER1 USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1 RELOADING_A

; ---- dying
ConditionState         RIDER1 DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_DYING
End

TransitionState  TRANS_DYING TRANS_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_FLAILING
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

;Transition Animations

;Standing to Prone animation
TransitionState  TRANS_STAND TRANS_PRONE
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_SUA
AnimationMode  ONCE_BACKWARDS
HideSubObject  HEAD01 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD02 WPN02
Flags  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.2 1.5
End

;Prone to Standing animation
TransitionState  TRANS_PRONE TRANS_STAND
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_SUA
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD03 BOX02 WPN02
ShowSubObject  BOX01 HEAD02 WPN01
Flags  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.2 1.5
End



;Prone Animations

;Prone Idle animation
ConditionState   RIDER2
Model  UIMercGnr_SKN
IdleAnimation  AIPFDR_SKL.AIPFDR_STB 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDB
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD02 WPN02
TransitionKey  TRANS_PRONE
End

;Prone Moving animation
ConditionState  RIDER2 MOVING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_CLA 12
AnimationMode  LOOP
HideSubObject  HEAD01 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD02 WPN02
TransitionKey  TRANS_PRONE_MOVING
End

;Prone Firing animation
ConditionState  RIDER2 FIRING_A
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ATD
AnimationMode  ONCE
Flags  START_FRAME_FIRST
HideSubObject  HEAD01 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD02 WPN02
TransitionKey  TRANS_PRONE_FIRING
End
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 FIRING_C

;Prone Firing in between shots animation
ConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ATD
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  HEAD01 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD02 WPN02
TransitionKey  TRANS_PRONE_FIRING_BETWEEN_SHOTS
WaitForStateToFinishIfPossible  TRANS_PRONE_FIRING
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C

;Prone Death animations
ConditionState  RIDER2 DYING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_DTB
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD03 BOX01 WPN01
ShowSubObject  BOX02 HEAD02 WPN02
TransitionKey  TRANS_DYING_PRONE
End

TransitionState  TRANS_DYING_PRONE TRANS_PRONE_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_PRONE_FLAILING
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End


;Parachute animation
ConditionState  RIDER1 FREEFALL
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End
AliasConditionState  RIDER1 PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End

TransitionState  TRANS_Chute TRANS_STAND
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryMercenaryGunner_Var3 GLAInfantryMercenaryGunner_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes



; ---- standing
DefaultConditionState
Model                UIMercGnr_SKN_C
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
HideSubObject        HEAD01 HEAD02
TransitionKey        TRANS_STAND
End
AliasConditionState    RIDER1

; ---- moving
ConditionState         RIDER1 MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    RIDER1 MOVING ATTACKING


; ---- firing
ConditionState  RIDER1 FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
AnimationSpeedFactorRange  1.2 1.2
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState  RIDER1 USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1 RELOADING_A

; ---- dying
ConditionState         RIDER1 DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_DYING
End

TransitionState  TRANS_DYING TRANS_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_FLAILING
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

;Transition Animations

;Standing to Prone animation
TransitionState  TRANS_STAND TRANS_PRONE
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_SUA
AnimationMode  ONCE_BACKWARDS
HideSubObject  HEAD01 HEAD02 BOX01 WPN01
ShowSubObject  BOX02 HEAD03 WPN02
Flags  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.2 1.5
End

;Prone to Standing animation
TransitionState  TRANS_PRONE TRANS_STAND
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_SUA
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD02 BOX02 WPN02
ShowSubObject  BOX01 HEAD03 WPN01
Flags  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.2 1.5
End



;Prone Animations

;Prone Idle animation
ConditionState   RIDER2
Model  UIMercGnr_SKN
IdleAnimation  AIPFDR_SKL.AIPFDR_STB 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDB
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD02 BOX01 WPN01
ShowSubObject  BOX02 HEAD03 WPN02
TransitionKey  TRANS_PRONE
End

;Prone Moving animation
ConditionState  RIDER2 MOVING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_CLA 12
AnimationMode  LOOP
HideSubObject  HEAD01 HEAD02 BOX01 WPN01
ShowSubObject  BOX02 HEAD03 WPN02
TransitionKey  TRANS_PRONE_MOVING
End

;Prone Firing animation
ConditionState  RIDER2 FIRING_A
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ATD
AnimationMode  ONCE
Flags  START_FRAME_FIRST
HideSubObject  HEAD01 HEAD02 BOX01 WPN01
ShowSubObject  BOX02 HEAD03 WPN02
TransitionKey  TRANS_PRONE_FIRING
End
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 FIRING_C

;Prone Firing in between shots animation
ConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ATD
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  HEAD01 HEAD02 BOX01 WPN01
ShowSubObject  BOX02 HEAD03 WPN02
TransitionKey  TRANS_PRONE_FIRING_BETWEEN_SHOTS
WaitForStateToFinishIfPossible  TRANS_PRONE_FIRING
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C

;Prone Death animations
ConditionState  RIDER2 DYING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_DTB
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD02 BOX01 WPN01
ShowSubObject  BOX02 HEAD03 WPN02
TransitionKey  TRANS_DYING_PRONE
End

TransitionState  TRANS_DYING_PRONE TRANS_PRONE_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_PRONE_FLAILING
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End


;Parachute animation
ConditionState  RIDER1 FREEFALL
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End
AliasConditionState  RIDER1 PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End

TransitionState  TRANS_Chute TRANS_STAND
Model  UIMercGnr_SKN
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

End

End
;------------------------------------------------------------------------------
Object GLAInfantryMercenaryRunner
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUMercenaryRunner_L
ButtonImage              SUMercenaryRunner

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                UIMercRnr_SKN_B
IdleAnimation        AIPFDR_SKL.AIPFDR_STA
AnimationMode        ONCE
End
End

; set cost and time fields here or else they won't work
BuildCost  250
BuildTime  4.0          ;in seconds

Prerequisites
End

Side  GLA
EditorSorting  INFANTRY
BuildVariations   GLAInfantryMercenaryRunner_Var1 GLAInfantryMercenaryRunner_Var2 GLAInfantryMercenaryRunner_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

End

;------------------------------------------------------------------------------
Object GLAInfantryMercenaryRunner_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUMercenaryRunner_L
ButtonImage              SUMercenaryRunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UIMercRnr_SKN_B
IdleAnimation  AIPFDR_SKL.AIPFDR_STA
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  HEAD02 HEAD03
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
TransitionKey  TRANS_Standing
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Standing
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState    RIDER1 MOVING ATTACKING

ConditionState   RIDER1 FIRING_A
Animation      AIPFDR_SKL.AIPFDR_ATC
AnimationMode  ONCE
TransitionKey  TRANS_FiringA
End
AliasConditionState  RIDER1 FIRING_A MOVING

ConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A
Animation      AIPFDR_SKL.AIPFDR_ATBST
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RIDER1 RELOADING_A

ConditionState  RIDER1 DYING
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  RIDER1 FREEFALL
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING DYING


TransitionState  TRANS_Falling TRANS_Chute
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End

TransitionState  TRANS_Chute TRANS_Standing
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

;Machette animations

; ---- standing
ConditionState          RIDER2
Model                UIMercRnr_SKN
IdleAnimation        UIMerc_SKL.UIMerc_IDA 0 15
IdleAnimation        UIMerc_SKL.UIMerc_IDB
IdleAnimation        UIMerc_SKL.UIMerc_IDC
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_STANDING
End

; ---- moving
ConditionState         RIDER2 MOVING
Model                UIMercRnr_SKN
Animation            UIMerc_SKL.UIMerc_RNA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_RIDER2_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    RIDER2 MOVING ATTACKING

; ---- machette attack
ConditionState  RIDER2 PREATTACK_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATA
AnimationMode  ONCE
End

ConditionState  RIDER2 FIRING_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
TransitionKey  TRANS_RIDER2_START_FIRING
End

ConditionState  RIDER2 USING_WEAPON_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_IDA
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_RIDER2_RELOADING TRANS_RIDER2_STANDING
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
End

TransitionState  TRANS_RIDER2_START_FIRING TRANS_RIDER2_STANDING
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
End

; ---- dying
ConditionState         RIDER2 DYING
Model                UIMercRnr_SKN
Animation            UIMerc_SKL.UIMerc_DTA
Animation            UIMerc_SKL.UIMerc_DTB
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_DYING
End

TransitionState  TRANS_RIDER2_DYING TRANS_RIDER2_FLAILING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_RIDER2_FLAILING
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:MercenaryRunner
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   MercenaryRunnerShotgunWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER1 PLAYER_UPGRADE
Weapon             PRIMARY   MercenaryRunnerShotgunUpgradedWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   MercenaryMachetteKnifeAttack
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2 PLAYER_UPGRADE
Weapon             PRIMARY   MercenaryMachetteKnifeAttack
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Science  SCIENCE_Mercenaries
End

VisionRange          150
ShroudClearingRange  200

BuildCost  250
BuildTime  4.0          ;in seconds

ExperienceValue      40 60  80  100  ;Experience point value at each level
ExperienceRequired   0  300 400 600  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            MercenaryRunnerVoiceSelect
VoiceMove              MercenaryRunnerVoiceMove
VoiceGuard             MercenaryRunnerVoiceMove
VoiceAttack            MercenaryRunnerVoiceAttack
VoiceFear              MercenaryRunnerVoiceFear

UnitSpecificSounds
VoiceSubdue          MercenaryRunnerVoiceAttackMachete
VoiceCreate          MercenaryRunnerVoiceCreate
VoiceGarrison        MercenaryRunnerVoiceGarrison
VoiceEnter           MercenaryRunnerVoiceMove
VoiceEnterHostile    MercenaryRunnerVoiceMove
VoiceGetHealed       MercenaryRunnerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        150.0
InitialHealth    150.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL ConscriptHumanLocomotor
Locomotor  SET_SUPERSONIC MercenaryMachetteLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAInfantryMercenaryRunnerCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAInfantryMercenaryRunnerCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider2_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform02
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerFakeCommandSet
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    MercenaryRunnerSwitchToShotgun
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  StatusBitsUpgrade ModuleTag_Transform006
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform07
UpgradeObject    OCL_MercenaryStandardMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  MaxHealthUpgrade ModuleTag_Transform08
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
AddMaxHealth   -250.0 ; This adds 500 hit points when i'm on the ground
ChangeType     PRESERVE_RATIO
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform09
CollideWeapon    MercenaryRunnerSwitchToMachete
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform11
UpgradeObject    OCL_MercenaryMachetteMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  MaxHealthUpgrade ModuleTag_Transform12
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
AddMaxHealth   250.0 ; This removes 500 hit points when i'm in the air
ChangeType     PRESERVE_RATIO
End

;************************************
;******Transformation Code End********
;************************************

;  Behavior  SquishCollide ModuleTag_11
;  End

Behavior  WeaponSetUpgrade ModuleTag_APBullets01
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
ForbiddenStatus              STATUS_RIDER2 ;running around screaming with a machete is not exactly stealthy afterall
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MercenaryRunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDie
OCL                  INITIAL OCL_GLAExplodedDeathMercRunnerOne
End
Behavior  SlowDeathBehavior ModuleTag_Death03524
DeathTypes           NONE +EXPLODED
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDie
OCL                  INITIAL OCL_GLAExplodedDeathMercRunnerTwo
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDieByTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MercenaryRunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathMercRunnerOne
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MercenaryRunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MercenaryRunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryMercenaryRunner_Var2 GLAInfantryMercenaryRunner_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UIMercRnr_SKN_B
IdleAnimation  AIPFDR_SKL.AIPFDR_STA
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD03
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
TransitionKey  TRANS_Standing
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Standing
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState    RIDER1 MOVING ATTACKING

ConditionState   RIDER1 FIRING_A
Animation      AIPFDR_SKL.AIPFDR_ATC
AnimationMode  ONCE
TransitionKey  TRANS_FiringA
End
AliasConditionState  RIDER1 FIRING_A MOVING

ConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A
Animation      AIPFDR_SKL.AIPFDR_ATBST
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RIDER1 RELOADING_A

ConditionState  RIDER1 DYING
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  RIDER1 FREEFALL
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING DYING


TransitionState  TRANS_Falling TRANS_Chute
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End

TransitionState  TRANS_Chute TRANS_Standing
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

;Machette animations

; ---- standing
ConditionState          RIDER2
Model                UIMercRnr_SKN
IdleAnimation        UIMerc_SKL.UIMerc_IDA 0 15
IdleAnimation        UIMerc_SKL.UIMerc_IDB
IdleAnimation        UIMerc_SKL.UIMerc_IDC
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_STANDING
End

; ---- moving
ConditionState         RIDER2 MOVING
Model                UIMercRnr_SKN
Animation            UIMerc_SKL.UIMerc_RNA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_RIDER2_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    RIDER2 MOVING ATTACKING

; ---- machette attack
ConditionState  RIDER2 PREATTACK_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATA
AnimationMode  ONCE
End

ConditionState  RIDER2 FIRING_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
TransitionKey  TRANS_RIDER2_START_FIRING
End

ConditionState  RIDER2 USING_WEAPON_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_IDA
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_RIDER2_RELOADING TRANS_RIDER2_STANDING
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
End

TransitionState  TRANS_RIDER2_START_FIRING TRANS_RIDER2_STANDING
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
End

; ---- dying
ConditionState         RIDER2 DYING
Model                UIMercRnr_SKN
Animation            UIMerc_SKL.UIMerc_DTA
Animation            UIMerc_SKL.UIMerc_DTB
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_DYING
End

TransitionState  TRANS_RIDER2_DYING TRANS_RIDER2_FLAILING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_RIDER2_FLAILING
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryMercenaryRunner_Var3 GLAInfantryMercenaryRunner_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UIMercRnr_SKN_B
IdleAnimation  AIPFDR_SKL.AIPFDR_STA
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  HEAD01 HEAD02
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
TransitionKey  TRANS_Standing
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Standing
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState    RIDER1 MOVING ATTACKING

ConditionState   RIDER1 FIRING_A
Animation      AIPFDR_SKL.AIPFDR_ATC
AnimationMode  ONCE
TransitionKey  TRANS_FiringA
End
AliasConditionState  RIDER1 FIRING_A MOVING

ConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A
Animation      AIPFDR_SKL.AIPFDR_ATBST
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RIDER1 RELOADING_A

ConditionState  RIDER1 DYING
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  RIDER1 FREEFALL
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING DYING


TransitionState  TRANS_Falling TRANS_Chute
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
End

TransitionState  TRANS_Chute TRANS_Standing
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

;Machette animations

; ---- standing
ConditionState          RIDER2
Model                UIMercRnr_SKN
IdleAnimation        UIMerc_SKL.UIMerc_IDA 0 15
IdleAnimation        UIMerc_SKL.UIMerc_IDB
IdleAnimation        UIMerc_SKL.UIMerc_IDC
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_STANDING
End

; ---- moving
ConditionState         RIDER2 MOVING
Model                UIMercRnr_SKN
Animation            UIMerc_SKL.UIMerc_RNA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_RIDER2_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    RIDER2 MOVING ATTACKING

; ---- machette attack
ConditionState  RIDER2 PREATTACK_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATA
AnimationMode  ONCE
End

ConditionState  RIDER2 FIRING_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
TransitionKey  TRANS_RIDER2_START_FIRING
End

ConditionState  RIDER2 USING_WEAPON_A
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_IDA
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A

TransitionState  TRANS_RIDER2_RELOADING TRANS_RIDER2_STANDING
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
End

TransitionState  TRANS_RIDER2_START_FIRING TRANS_RIDER2_STANDING
Model  UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ATB
AnimationMode  ONCE
End

; ---- dying
ConditionState         RIDER2 DYING
Model                UIMercRnr_SKN
Animation            UIMerc_SKL.UIMerc_DTA
Animation            UIMerc_SKL.UIMerc_DTB
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_DYING
End

TransitionState  TRANS_RIDER2_DYING TRANS_RIDER2_FLAILING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE1
AnimationMode  ONCE
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_RIDER2_FLAILING
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Model      UIMercRnr_SKN
Animation  UIMerc_SKL.UIMerc_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

End

End
;----------------------------------------------------------------------------
Object GLAInfantryPartisan
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUPartisan_L
ButtonImage             SUPartisan

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; --- idle
DefaultConditionState
Model              UIPrtisn_SKN
IdleAnimation      UIPART2_SKL.UIPART2_STA 0 5
IdleAnimation      UIPART2_SKL.UIPART2_IDA
IdleAnimation      UIPART2_SKL.UIPART2_IDB
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
TransitionKey      TRANS_Stand
End

; --- attack

ConditionState       FIRING_A
Animation          UIPART2_SKL.UIPART2_ATA
AnimationMode      ONCE
TransitionKey      TRANS_FiringA
WaitForStateToFinishIfPossible  None
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          UIPART2_SKL.UIPART2_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A

; --- radio receiver animations

ConditionState       PREATTACK_C
Model              UIPrtisn_SKN_B
Animation          UIPART2_SKL.UIPrtisn_DPL
AnimationMode      ONCE
End

ConditionState       USING_WEAPON_C
Model              UIPrtisn_SKN_B
Animation          UIPART2_SKL.UIPrtisn_USE
AnimationMode      LOOP
TransitionKey      TRANS_FiringC
WaitForStateToFinishIfPossible  None
End

TransitionState      TRANS_FiringC TRANS_Stand
Animation          UIPART2_SKL.UIPrtisn_DPL
AnimationMode      ONCE_BACKWARDS
End

; --- moving
ConditionState       MOVING
Animation          UIPART2_SKL.UIPART2_RNA 48
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Trans_Moving
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  None
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          UIPART2_SKL.UIPART2_CHA
AnimationMode      LOOP
End

; --- dying
ConditionState       DYING
Animation          UIPART2_SKL.UIPART2_DTA
Animation          UIPART2_SKL.UIPART2_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          UIPART2_SKL.UIPART2_ADTC1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          UIPART2_SKL.UIPART2_ADTC2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          UIPART2_SKL.UIPART2_ADTC3
AnimationMode      ONCE
TransitionKey      TRANS_Dying_Exploded
End

; --- falling
ConditionState       FREEFALL
Animation          UIPART2_SKL.UIPART2_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          UIPART2_SKL.UIPART2_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          UIPART2_SKL.UIPART2_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          UIPART2_SKL.UIPART2_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Partisan
Side                   GLA
EditorSorting          INFANTRY
TransportSlotCount     1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY   GLAPartisanRifle
Weapon             TERTIARY  GLAPartisanRadioReceiver
AutoChooseSources  TERTIARY  NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   GLAPartisanRifleUpgraded
Weapon             TERTIARY  GLAPartisanRadioReceiver
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          250
ShroudClearingRange  275

Prerequisites
Object GLAPalace
Science SCIENCE_GlaInformant
End

BuildCost  450
BuildTime  10.0          ;in seconds

ExperienceValue      40 40 60  80    ;Experience point value at each level
ExperienceRequired   0  50 100 200   ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryPartisanCommandSet

; *** AUDIO Parameters ***
VoiceSelect      PartisanVoiceSelect
VoiceMove        PartisanVoiceMove
VoiceGuard       PartisanVoiceMove
VoiceAttack      PartisanVoiceAttack
VoiceFear        PartisanVoiceFear

UnitSpecificSounds
VoiceCreate           PartisanVoiceCreate
VoiceGarrison         PartisanVoiceGarrison
VoiceEnter            PartisanVoiceMove
VoiceEnterHostile     PartisanVoiceMove
VoiceGetHealed        PartisanVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL JarmenKellLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  WeaponSetUpgrade ModuleTag_08
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  SquishCollide ModuleTag_09
;nothing
End

Behavior  ProductionUpdate ModuleTag_DetectionRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_DetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_DetectionRange03
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       PartisanDetecionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        PartisanDetecionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  PartisanDetecionRangeIndicatorDecalWeapon
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2600
ForbiddenStatus              DETECTED
FriendlyOpacityMin           30.0%
FriendlyOpacityMax           80.0%
PulseFrequency               500
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PartisanDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_PartisanDie
OCL                  INITIAL OCL_GLAExplodedDeathPartisanOne
End
Behavior  SlowDeathBehavior ModuleTag_Death035232
DeathTypes           NONE +EXPLODED
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_PartisanDie
OCL                  INITIAL OCL_GLAExplodedDeathPartisanTwo
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PartisanDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathPartisanTwo
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAPartisanDetectionRangeIndicatorDecalObject

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

;Geometry             BOX
;GeometryMajorRadius  500.0
;GeometryMinorRadius  500.0
;GeometryHeight       20.0
;GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End
;------------------------------------------------------------------------------
Object GLAInfantryRPGInsurgent
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUFanaticRPG_L
ButtonImage             SUFanaticRPG

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UIRPGFntc_SKN
IdleAnimation  UITunF_SKL.UITunF_STA 0 20
IdleAnimation  UITunF_SKL.UITunF_IDA
IdleAnimation  UITunF_SKL.UITunF_IDB
IdleAnimation  UITunF_SKL.UITunF_IDC
AnimationMode  ONCE
HideSubObject  WARHEADUP
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponFireFXBone  SECONDARY Muzzle
WeaponLaunchBone  SECONDARY Muzzle
End

ConditionState  MOVING
Animation  UITunF_SKL.UITunF_WKA 16
Animation  UITunF_SKL.UITunF_WKB 30
Animation  UITunF_SKL.UITunF_WKC 30
Animation  UITunF_SKL.UITunF_RNA 15
Animation  UITunF_SKL.UITunF_RNB 25
AnimationMode  LOOP
ParticleSysBone    None InfantryDustTrails
End

ConditionState  DYING
Animation  UITunF_SKL.UITunF_DTA
Animation  UITunF_SKL.UITunF_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  FIRING_A
Animation  UITunF_SKL.UITunF_ATA
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING
End
ConditionState  BETWEEN_FIRING_SHOTS_A
Animation  UITunF_SKL.UITunF_STA
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A

ConditionState  FIRING_B
Animation  UITunF_SKL.UITunF_ATB
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING_B
End
ConditionState  BETWEEN_FIRING_SHOTS_B
Animation  UITunF_SKL.UITunF_ATB
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  RELOADING_B

ConditionState  SPECIAL_CHEERING
Animation  UITUNF_SKL.UITUNF_CHA
AnimationMode  LOOP
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RPGFanatic
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   FanaticRocketWeapon
Weapon  SECONDARY FanaticRocketWeaponAir
PreferredAgainst  SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   FanaticRocketWeaponUpgraded
Weapon  SECONDARY FanaticRocketWeaponAirUpgraded
PreferredAgainst  SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          225
ShroudClearingRange  250

BuildCost  250
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAInfantryTunnelDefenderCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RPGTrooperVoiceSelect
VoiceMove  RPGTrooperVoiceMove
VoiceGuard  RPGTrooperVoiceMove
VoiceAttack  RPGTrooperVoiceAttack
VoiceAttackAir  RPGTrooperVoiceAttack
VoiceFear  RPGTrooperVoiceFear

UnitSpecificSounds
VoiceCreate           RPGTrooperVoiceCreate
VoiceGarrison  RPGTrooperVoiceGarrison
VoiceEnter  RPGTrooperVoiceMove
VoiceEnterHostile  RPGTrooperVoiceMove
VoiceGetHealed       RPGTrooperVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_GLAExplodedDeathRPGInsurgent
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathRPGInsurgent
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperSurrender
OCL                  INITIAL OCL_TunnelDefenderSurrendering
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  WeaponSetUpgrade ModuleTag_08231
TriggeredBy  Upgrade_GLAAPRockets
End

Behavior  CommandSetUpgrade ModuleTag_SuicidePack02
CommandSet   GLAInfantryTunnelDefenderUpgradedCommandSet
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  SpecialAbility ModuleTag_07
SpecialPowerTemplate  SpecialAbilityTankHunterTNTAttack
UpdateModuleStartsAttack  Yes
InitiateSound  RPGTrooperVoiceAttackTNT
End

Behavior  SpecialAbilityUpdate ModuleTag_08
SpecialPowerTemplate  SpecialAbilityTankHunterTNTAttack
StartAbilityRange  2.5
PreparationTime  0
SpecialObject  TNTStickyBomb
MaxSpecialObjects  8
SpecialObjectsPersistWhenOwnerDies  No ;Charges are removed instantly when owner dies (nobody can detonate).
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets  Yes        ;This prevents multiple charges placed on the same object.
FleeRangeAfterCompletion  100.0        ;Runs away after finishing ability
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryRPGInsurgentSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              UIRPGFntc_SKN
Animation          UITunF_SKL.UITunF_SUR
AnimationMode      ONCE
HideSubObject      WARHEADUP
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          UITunF_SKL.UITunF_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          UITunF_SKL.UITunF_DTA
Animation          UITunF_SKL.UITunF_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             GLA
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedRPGInsurgentRevive
TransferPreviousHealth  Yes
End

Behavior  SubObjectsUpgrade ModuleTag_APRocketVissual01
TriggeredBy     Upgrade_GLAAPRockets
ShowSubObjects  WARHEADUP
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_GLAExplodedDeathRPGInsurgent
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathRPGInsurgent
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

;Geometry  BOX
;GeometryMajorRadius  5.0
;GeometryMinorRadius  5.0
;GeometryHeight  7.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
Object GLAInfantryStingerSiteSoldier
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUStingerSoldier_L
ButtonImage              SUStingerSoldier

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  UISmsd_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
End
AliasConditionState  MOVING

;Firing Rockets
ConditionState  FIRING_A
Model  UISmsd_SKN_B
Animation  UITunf_SKL.UITunf_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.3
WeaponFireFXBone  PRIMARY   Muzzle
WeaponLaunchBone  PRIMARY   Muzzle
TransitionKey  TRANS_START_FIRING_A
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING RELOADING_A

ConditionState  BETWEEN_FIRING_SHOTS_A
Model  UISmsd_SKN_B
IdleAnimation  UITunf_SKL.UITunf_STA 0 45
IdleAnimation  UITunf_SKL.UITunf_IDA
IdleAnimation  UITunf_SKL.UITunf_IDC
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING_A
End
AliasConditionState  RELOADING_A

;Firing Stinger Missile at airborne targets
ConditionState  FIRING_B
Model  UISmsd_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
WeaponFireFXBone  SECONDARY Exhaust01
WeaponLaunchBone  SECONDARY Muzzle02
TransitionKey  TRANS_START_FIRING_B
End
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B

ConditionState  BETWEEN_FIRING_SHOTS_B
Model  UISmsd_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  RELOADING_B

;Firing Stinger Missile at balistic missiles
ConditionState  FIRING_C
Model  UISmsd_SKN
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
WeaponFireFXBone  TERTIARY  Exhaust01
WeaponLaunchBone  TERTIARY  Muzzle02
TransitionKey  TRANS_START_FIRING_C
End
AliasConditionState  MOVING FIRING_C
AliasConditionState  MOVING RELOADING_C

ConditionState  BETWEEN_FIRING_SHOTS_C
Model  UISmsd_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING_C
End
AliasConditionState  RELOADING_C


ConditionState  SPECIAL_CHEERING
Model  UISmsd_SKN
Animation  UISMSD_SKL.UISMSD_CHA
AnimationMode  LOOP
End

ConditionState  DYING
Model  UISmsd_SKN
Animation  UISmsd_SKL.UISmsd_DTA
Animation  UISmsd_SKL.UISmsd_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState  TRANS_Dying TRANS_Flailing
Model  UISmsd_SKN
Animation  UISmsd_SKL.UISmsd_ADTF1
Animation  UISmsd_SKL.UISmsd_ADTG21
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model  UISmsd_SKN
Animation  UISmsd_SKL.UISmsd_ADTF2
Animation  UISmsd_SKL.UISmsd_ADTG22
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState  DYING EXPLODED_BOUNCING
Model  UISmsd_SKN
Animation  UISmsd_SKL.UISmsd_ADTF3
Animation  UISmsd_SKL.UISmsd_ADTG23
AnimationMode  ONCE
TransitionKey  None
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerSoldier
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  500.0
ShroudClearingRange  400

WeaponSet
Conditions           None
Weapon               PRIMARY   StingerMissileWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
Weapon               SECONDARY StingerMissileWeaponAir
PreferredAgainst     SECONDARY AIRCRAFT
Weapon               TERTIARY  StingerMissileWeaponBalisticMissile
PreferredAgainst     TERTIARY  BALLISTIC_MISSILE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            StingerSoldierArmor ;Extra protection due to being enclosed by the stinger site.
DamageFX         None
End

CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SALVAGER CLICK_THROUGH SPAWNS_ARE_THE_WEAPONS NO_HEAL_ICON UNATTACKABLE ATTACK_NEEDS_LINE_OF_SIGHT

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes Stealthed ;ATTACK_BUILDINGS
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End
Behavior  SlavedUpdate ModuleTag_06
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  StealthUpdate ModuleTag_09
StealthDelay                 2500 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal01
HealingAmount      2.5  ;in health points
HealingDelay       100  ; msec
StartHealingDelay  7000 ;in miliseconds
StartsActive       Yes
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -DETONATED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_StingerSoldierDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_StingerSoldierDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_StingerSoldierDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
;Instant death and removal for when the structure is bieng sold
Behavior  SlowDeathBehavior ModuleTag_Removeme01
DeathTypes           NONE +DETONATED
DestructionDelay     0
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14
ShadowSizeY  14
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object GLAInfantryStingerSoldier
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SUStingerSoldier_L
ButtonImage              SUStingerSoldier

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UIStngr_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY   Muzzle01
WeaponLaunchBone  PRIMARY   Muzzle01
WeaponFireFXBone  SECONDARY Muzzle01
WeaponLaunchBone  SECONDARY Muzzle01
End

ConditionState  MOVING
Animation  UISmsd_SKL.UISmsd_WKB 25
Animation  UISmsd_SKL.UISmsd_WKA 25
AnimationMode  LOOP
Flags  RANDOMSTART
WaitForStateToFinishIfPossible  NONE
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B

;Machine Pistol Attack
ConditionState  PREATTACK_A
Model  UIStngr_SKN_B
Animation  UIMOB01_SKL.UIMOB01_ATA1_ST ; start firing
AnimationMode  ONCE
End

ConditionState  FIRING_A
Model  UIStngr_SKN_B
Animation  UIMOB01_SKL.UIMOB01_ATA1 ; looping firing
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
WeaponFireFXBone   PRIMARY Muzzle
AnimationSpeedFactorRange  2.0 3.0
End

ConditionState   RELOADING_A
Model  UIStngr_SKN_B
Animation  UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
AnimationMode  ONCE
TransitionKey  TRANS_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_FIRING_A
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

;Firing Missile
ConditionState  FIRING_B
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING_B
End

ConditionState  BETWEEN_FIRING_SHOTS_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  LOOP
Flags  START_FRAME_LAST
TransitionKey  TRANS_RELOADING_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  RELOADING_B

ConditionState  PREATTACK_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  ONCE
Flags  START_FRAME_LAST
TransitionKey  TRANS_PREATTACK_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End

ConditionState  DYING
Animation  UISmsd_SKL.UISmsd_DTA
Animation  UISmsd_SKL.UISmsd_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UISmsd_SKL.UISmsd_ADTF1
Animation  UISmsd_SKL.UISmsd_ADTG21
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UISmsd_SKL.UISmsd_ADTF2
Animation  UISmsd_SKL.UISmsd_ADTG22
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UISmsd_SKL.UISmsd_ADTF3
Animation  UISmsd_SKL.UISmsd_ADTG23
AnimationMode  ONCE
TransitionKey  None
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState  SPECIAL_CHEERING
Animation  UISMSD_SKL.UISMSD_CHA
AnimationMode  LOOP
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerSoldier
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   StingerSoldierPistolWeapon
Weapon  SECONDARY StingerSoldierMissileWeapon
PreferredAgainst  SECONDARY AIRCRAFT
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   StingerSoldierPistolWeapon
Weapon  SECONDARY StingerSoldierMissileUpgradedWeapon
PreferredAgainst  SECONDARY AIRCRAFT
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          250
ShroudClearingRange  275

Prerequisites
Object  GLABlackMarket
End

BuildCost  200
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAInfantryTunnelDefenderCommandSet

; *** AUDIO Parameters ***
VoiceSelect     StingerSoldierVoiceSelect
VoiceMove       StingerSoldierVoiceMove
VoiceGuard      StingerSoldierVoiceGuard
VoiceAttack     StingerSoldierVoiceAttack
VoiceAttackAir  StingerSoldierVoiceAttackAir
VoiceFear       StingerSoldierVoiceFear

UnitSpecificSounds
VoiceCreate        StingerSoldierVoiceCreate
VoiceGarrison      StingerSoldierVoiceGarrison
VoiceEnter         StingerSoldierVoiceMove
VoiceEnterHostile  StingerSoldierVoiceMove
VoiceGetHealed     StingerSoldierVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_StingerSoldierDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDie
OCL                  INITIAL OCL_GLAExplodedDeathStingerSoldier
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDieToxins
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDieToxins
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDieToxins
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_StingerSoldierDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathStingerSoldier
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_StingerSoldierDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_StingerSoldierDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  WeaponSetUpgrade ModuleTag_08231
TriggeredBy  Upgrade_GLAAPRockets
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object GLAInfantryRebel
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SURebel_L
ButtonImage             SURebel

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                UIRGrd_SKN
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

End

BuildCost  65
BuildTime  5.0

Side  GLA
EditorSorting  INFANTRY
BuildVariations  GLAInfantryRebel_Var1 GLAInfantryRebel_Var2

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryRebel_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SURebel_L
ButtonImage             SURebel

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                UIRGrd_SKN
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

ConditionState         REALLYDAMAGED
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        TRANS_StandingHurt
End

; ---- moving
ConditionState         MOVING
Animation            UIRGrd_SKL.UIRGrd_RNA 15
AnimationMode        LOOP
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
Flags                RANDOMSTART
End
AliasConditionState    MOVING ATTACKING

ConditionState         MOVING REALLYDAMAGED
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
TransitionKey        TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USING_WEAPON_A
Animation  UIRGrd_SKL.UIRGrd_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USING_WEAPON_A REALLYDAMAGED
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  TRANS_FiringHurt
End

TransitionState  TRANS_Standing TRANS_Firing
Animation  UIRGrd_SKL.UIRGrd_ATAST
AnimationMode  ONCE
End

TransitionState  TRANS_Firing TRANS_Standing
Animation  UIRGrd_SKL.UIRGrd_ATAED
AnimationMode  ONCE
End

TransitionState  TRANS_StandingHurt TRANS_FiringHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE_BACKWARDS
End

TransitionState  TRANS_FiringHurt TRANS_StandingHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE
End

TransitionState  TRANS_Standing TRANS_StandingHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE
End

; ---- Throwing bottle
ConditionState  PREATTACK_C
Model          UIRGrd_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C RELOADING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RELOADING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState  FIRING_C
Model          UIRGrd_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C BETWEEN_FIRING_SHOTS_C

ConditionState RELOADING_C
Model      UIRGrd_B_SKN
Animation  UIMOB01_SKL.UIMOB01_IDA1
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_C FIRING_C
AliasConditionState  RELOADING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  RELOADING_C REALLYDAMAGED FIRING_C
AliasConditionState  RELOADING_C REALLYDAMAGED BETWEEN_FIRING_SHOTS_C

; ------- Parachuting Animations

ConditionState     FREEFALL
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_PHG
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME START_FRAME_LAST ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_PTD
AnimationMode    ONCE
End

; ------- Bldg-capture

ConditionState  UNPACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState  RAISING_FLAG
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState  PACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState  TRANS_Raising TRANS_Packing
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Rebel
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY  GLARebelMachineGun
Weapon             TERTIARY GLARebelMolotovCocktailWeapon
AutoChooseSources  TERTIARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY  GLARebelMachineGunUpgraded
Weapon             TERTIARY GLARebelMolotovCocktailWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          175
ShroudClearingRange  200

Prerequisites
Object  GLABarracks
End

BuildCost  65
BuildTime  5.0          ;in seconds

ExperienceValue      15 15 30 40     ;Experience point value at each level
ExperienceRequired   0 40 60 120     ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryRebelCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RebelVoiceSelect
VoiceMove  RebelVoiceMove
VoiceGuard  RebelVoiceMove
VoiceAttack  RebelVoiceAttack
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff
VoiceFear  RebelVoiceFear
VoiceTaskComplete  RebelVoiceCaptureComplete
UnitSpecificSounds
VoiceCreate  RebelVoiceCreate
VoiceSubdue  RebelVoiceSubdue
VoiceGarrison  RebelVoiceGarrison
VoiceEnter  RebelVoiceMove
VoiceEnterHostile  RebelVoiceMove
VoiceGetHealed       RebelVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL RebelLocomotor

Behavior  CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End
Behavior  StealthUpdate ModuleTag_07
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_10
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  WeaponSetUpgrade ModuleTag_09
TriggeredBy  Upgrade_GLAAPBullets
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_SuicidePack01
DeathTypes     NONE +CRUSHED
DeathWeapon    TunnelDefenderSuicideDynamitePack
StartsActive   No
TriggeredBy    Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  CommandSetUpgrade ModuleTag_SuicidePack02
CommandSet   GLAInfantryRebelUpgradedCommandSet
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  SquishCollide ModuleTag_11
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_GLAExplodedDeathRebel
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathRebel
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RebelSurrender
OCL                  INITIAL OCL_RebelSurrendering
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_17
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          RebelVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_18
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
End

Behavior  SpecialAbility ModuleTag_20
SpecialPowerTemplate  SpecialAbilityBoobyTrap
UpdateModuleStartsAttack  Yes
StartsPaused               Yes
InitiateSound  RebelVoiceBoobyTrapInstall
End
Behavior  SpecialAbilityUpdate ModuleTag_21
SpecialPowerTemplate  SpecialAbilityBoobyTrap
StartAbilityRange  5.0
PreparationTime  0
SpecialObject  BoobyTrap
MaxSpecialObjects  100
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_22
SpecialPowerTemplate  SpecialAbilityBoobyTrap
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End



;------------------------------------------------------------------------------
ObjectReskin GLAInfantryRebel_Var2 GLAInfantryRebel_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
ConditionState  NONE
Model                UIRGrd2_SKN
Animation            UIMOB01_SKL.UIMOB01_STD
AnimationMode        LOOP
AnimationSpeedFactorRange 0.9 1.1
Flags                RANDOMSTART
WeaponFireFXBone     PRIMARY MuzzleAK
WeaponMuzzleFlash    PRIMARY MuzzleAKFX
TransitionKey        TRANS_Standing
WaitForStateToFinishIfPossible  Trans_Taunting
End
AliasConditionState  REALLYDAMAGED

; ---- moving
ConditionState         MOVING
Model                UIRGrd2_SKN
Animation            UIMOB01_SKL.UIMOB01_RND  15
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState    MOVING ATTACKING
AliasConditionState    MOVING REALLYDAMAGED
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Model                UIRGrd2_SKN
Animation            UIMOB01_SKL.UIMOB01_DD1
Animation            UIMOB01_SKL.UIMOB01_DD2
AnimationMode        ONCE
TransitionKey        TRANS_Dying
WaitForStateToFinishIfPossible  NADA
End

TransitionState  TRANS_Dying TRANS_Flailing
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_A_ADTE1
Animation  UIMOB01_SKL.UIMOB01_D_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_A_ADTE2
Animation  UIMOB01_SKL.UIMOB01_D_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
WaitForStateToFinishIfPossible  NADA
End

ConditionState  DYING EXPLODED_BOUNCING
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_A_ADTE3
Animation  UIMOB01_SKL.UIMOB01_D_ADTE3
AnimationMode  ONCE
TransitionKey  None
WaitForStateToFinishIfPossible  NADA
End

; ---- firing
ConditionState  USING_WEAPON_A
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_ATD1_LP
AnimationMode  LOOP
TransitionKey  TRANS_Firing
WaitForStateToFinishIfPossible  NADA
WeaponFireFXBone     PRIMARY MuzzleAK
WeaponMuzzleFlash    PRIMARY MuzzleAKFX
End
AliasConditionState  USING_WEAPON_A REALLYDAMAGED

TransitionState  TRANS_Standing TRANS_Firing
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_ATD1_ST
AnimationMode  ONCE
WeaponFireFXBone     PRIMARY MuzzleAK
WeaponMuzzleFlash    PRIMARY MuzzleAKFX
End

TransitionState  TRANS_Firing TRANS_Standing
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_ATD1_ED
AnimationMode  ONCE
WeaponFireFXBone     PRIMARY MuzzleAK
WeaponMuzzleFlash    PRIMARY MuzzleAKFX
End

; ---- Throwing bottle

ConditionState  PREATTACK_C
Model          UIRGrd_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C RELOADING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RELOADING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState  FIRING_C
Model          UIRGrd_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C BETWEEN_FIRING_SHOTS_C

ConditionState RELOADING_C
Model      UIRGrd_B_SKN
Animation  UIMOB01_SKL.UIMOB01_IDA1
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_C FIRING_C
AliasConditionState  RELOADING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  RELOADING_C REALLYDAMAGED FIRING_C
AliasConditionState  RELOADING_C REALLYDAMAGED BETWEEN_FIRING_SHOTS_C


; ---- Cheering

ConditionState  SPECIAL_CHEERING
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIRGrd_IDD1
Animation  UIMOB01_SKL.UIRGrd_IDD2
Animation  UIMOB01_SKL.UIRGrd_CHD
AnimationMode  LOOP
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  SPECIAL_CHEERING REALLYDAMAGED

; ------- Parachuting Animations

ConditionState     FREEFALL
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_PHG
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME START_FRAME_LAST ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_PTD
AnimationMode    ONCE
End

; ------- Bldg-capture

ConditionState  UNPACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState  RAISING_FLAG
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState  PACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState  TRANS_Raising TRANS_Packing
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

End

End

;------------------------------------------------------------------------------
Object GLAInfantryRebelSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              UIRGrd_SKN
Animation          UIRGrd_SKL.UIRGrd_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          UIRGrd_SKL.UIRGrd_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          UIRGrd_SKL.UIRGrd_DTA
Animation          UIRGrd_SKL.UIRGrd_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             GLA
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedRebelRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_GLAExplodedDeathRebel
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathRebel
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End

; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object GLAInfantryTerrorist
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUTerrorist_L
ButtonImage             SUTerrorist


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UITrrst_SKN
IdleAnimation  UITRRT_SKL.UITRRT_STA 0 25
;Regular spice animations
IdleAnimation  UITRRT_SKL.UITRRT_IDA
IdleAnimation  UITRRT_SKL.UITRRT_IDB
AnimationMode  ONCE
TransitionKey  TRANS_Stand
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End

ConditionState  REALLYDAMAGED
Animation  UITRRT_SKL.UITRRT_STA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
End

ConditionState  FREEFALL
Animation  UITRRT_SKL.UITRRT_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  UITRRT_SKL.UITRRT_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

ConditionState  MOVING
Animation  UITRRT_SKL.UITRRT_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING REALLYDAMAGED

ConditionState  ATTACKING MOVING
Animation  UITRRT_SKL.UITRRT_RNB 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
End
AliasConditionState  ATTACKING MOVING REALLYDAMAGED

ConditionState  PREATTACK_A
Animation  UITRRT_SKL.UITRRT_ATA
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A MOVING

ConditionState  DYING
Animation  UITRRT_SKL.UITRRT_DTA
Animation  UITRRT_SKL.UITRRT_DTC
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UITRRT_SKL.UITRRT_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UITRRT_SKL.UITRRT_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UITRRT_SKL.UITRRT_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UITRRT_SKL.UITRRT_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Falling TRANS_Chute
Animation  UITRRT_SKL.UITRRT_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  UITRRT_SKL.UITRRT_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Terrorist
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
;Kill himself so we can use FireWeaponWhenDead to fire the real weapon -- and use UNRESISTABLE
;damage to do ini logic for type of death to play -- unresistable for success.
Weapon  PRIMARY TerroristSuicideWeapon
End
ArmorSet
Conditions       None
Armor            TerroristArmor
DamageFX         InfantryDamageFX
End
VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
Object  GLAPalace
End
BuildCost  400
BuildTime  5.0          ;in seconds
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     GLAInfantryTerroristCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TerroristVoiceSelect
VoiceMove  TerroristVoiceMove
VoiceAttack  TerroristVoiceAttack
VoiceFear  TerroristVoiceFear
VoiceGuard  TerroristVoiceMove
UnitSpecificSounds
VoiceGarrison          TerroristVoiceMove
VoiceCreate            TerroristVoiceCreate
VoiceEnter             TerroristVoiceEnter
VoiceEnterHostile      TerroristVoiceEnterHostile
VoiceGetHealed       TerroristVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

ExperienceValue      20 20 20 20  ; Experience point value at each level

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL TerroristLocomotor
Locomotor  SET_NORMAL_UPGRADED TerroristUpgradedLocomotor

Behavior  CommandButtonHuntUpdate  ModuleTag_CBH01 ; allows use of command button hunt script with this unit.
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

Behavior  LocomotorSetUpgrade ModuleTag_Fanatical01
TriggeredBy    Upgrade_GLAArmTheMob
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Napalm Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ShowSubObjects  NAPALM
HideSubObjects  CLUSTER01 CLUSTER02 CLUSTER03
ConflictsWith   Upgrade_GLAWorkerRealCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade02
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
DeathWeapon    TerroristNapalmDeathExplosionWeapon
StartsActive   No
ConflictsWith  Upgrade_GLAWorkerRealCommandSet
End

;Cluster Payload
Behavior  SubObjectsUpgrade ModuleTag_RecyclerUpgrade03
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
ShowSubObjects  CLUSTER01 CLUSTER02 CLUSTER03
HideSubObjects  NAPALM
ConflictsWith   Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_RecyclerUpgrade04
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
DeathWeapon    TerroristClusterBombDeathExplosionWeapon
StartsActive   No
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

;  Behavior  ConvertToCarBombCrateCollide       ModuleTag_06
;    RequiredKindOf     VEHICLE      ; we only give our bonus to VEHICLEs we collide with
;    FXList             FX_MakeCarBombSuccess
;  End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000
InnateStealth                No
;HintDetectableConditions     DETECTED
ForbiddenStatus              DETECTED
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SquishCollide ModuleTag_07
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL  -TOPPLED -EXPLODED -SUICIDED -CRUSHED -SPLATTED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -BURNED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_TerroristDie
End

;POISON_DEATHS POISON_DEATHS POISON_DEATHS POISON_DEATHS
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_032324156 ;Surrender Death (altho not quite surrendering)
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
OCL                  INITIAL OCL_TerroristSurrendering
FX                   INITIAL FX_TerroristSurrender
End

; I have just pulled my ripcord, and this ain't no parachute!
Behavior  SlowDeathBehavior ModuleTag_Death03232
DeathTypes           NONE +TOPPLED +EXPLODED +SUICIDED +CRUSHED +SPLATTED +BURNED +EXTRA_2 +EXTRA_5
DestructionDelay     0
FX                   INITIAL FX_TerroristExplode
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
Weapon               FINAL   SuicideDynamitePack
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryTerroristRevealDummy

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                None
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
Side              GLA
EditorSorting     SYSTEM
TransportSlotCount  1
VisionRange      100

WeaponSet
Conditions  None
Weapon  PRIMARY TerroristRevealDummyWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       3600
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  1
End

Behavior              DestroyDie ModuleTag_05
End

End

;------------------------------------------------------------------------------
Object GLAInfantryTerroristSurrendering ;not realy
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITRRT_RNB
AnimationMode  LOOP
Flags  RANDOMSTART
End

ConditionState  DYING
Model  UITrrst_SKN
Animation  UITRRT_SKL.UITRRT_ATA
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

End

; ***DESIGN parameters ***
Side  GLA
EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

VisionRange  150
DisplayName  OBJECT:Terrorist

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK INFANTRY PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  WanderAIUpdate ModuleTag_03
End
Locomotor  SET_NORMAL FastHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  2500
MaxLifetime  4000
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes           ALL
DestructionDelay     690
OCL                  FINAL   OCL_BloodyGoreExplosion
FX                   FINAL   FX_TerroristSurrenderExplode
Weapon               FINAL   SuicideDynamitePack
End

Geometry  CYLINDER
GeometryMajorRadius  3.0
GeometryMinorRadius  3.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object GLAInfantryTunnelDefender
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SURPG_L
ButtonImage             SURPG

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UITunF_SKN
IdleAnimation  UITunF_SKL.UITunF_STA 0 20
IdleAnimation  UITunF_SKL.UITunF_IDA
IdleAnimation  UITunF_SKL.UITunF_IDB
IdleAnimation  UITunF_SKL.UITunF_IDC
AnimationMode  ONCE
HideSubObject  WARHEADUP
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponFireFXBone  SECONDARY Muzzle
WeaponLaunchBone  SECONDARY Muzzle
End

ConditionState  MOVING
Animation  UITunF_SKL.UITunF_WKA 16
Animation  UITunF_SKL.UITunF_WKB 30
Animation  UITunF_SKL.UITunF_WKC 30
Animation  UITunF_SKL.UITunF_RNA 15
Animation  UITunF_SKL.UITunF_RNB 25
AnimationMode  LOOP
ParticleSysBone    None InfantryDustTrails
End

ConditionState  DYING
Animation  UITunF_SKL.UITunF_DTA
Animation  UITunF_SKL.UITunF_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  FIRING_A
Animation  UITunF_SKL.UITunF_ATA
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING
End
ConditionState  BETWEEN_FIRING_SHOTS_A
Animation  UITunF_SKL.UITunF_STA
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A

ConditionState  FIRING_B
Animation  UITunF_SKL.UITunF_ATB
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING_B
End
ConditionState  BETWEEN_FIRING_SHOTS_B
Animation  UITunF_SKL.UITunF_ATB
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  RELOADING_B

ConditionState  SPECIAL_CHEERING
Animation  UITUNF_SKL.UITUNF_CHA
AnimationMode  LOOP
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:TunnelDefender
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   TunnelDefenderRocketWeapon
Weapon  SECONDARY TunnelDefenderRocketWeaponAir
PreferredAgainst  SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   TunnelDefenderRocketWeaponUpgraded
Weapon  SECONDARY TunnelDefenderRocketWeaponAirUpgraded
PreferredAgainst  SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          225
ShroudClearingRange  250

BuildCost  250
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAInfantryTunnelDefenderCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RPGTrooperVoiceSelect
VoiceMove  RPGTrooperVoiceMove
VoiceGuard  RPGTrooperVoiceMove
VoiceAttack  RPGTrooperVoiceAttack
VoiceAttackAir  RPGTrooperVoiceAttack
VoiceFear  RPGTrooperVoiceFear

UnitSpecificSounds
VoiceCreate           RPGTrooperVoiceCreate
VoiceGarrison  RPGTrooperVoiceGarrison
VoiceEnter  RPGTrooperVoiceMove
VoiceEnterHostile  RPGTrooperVoiceMove
VoiceGetHealed       RPGTrooperVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_GLAExplodedDeathTunnelDefender
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathTunnelDefender
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperSurrender
OCL                  INITIAL OCL_TunnelDefenderSurrendering
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  WeaponSetUpgrade ModuleTag_08231
TriggeredBy  Upgrade_GLAAPRockets
End

Behavior  SubObjectsUpgrade ModuleTag_APRocketVissual01
TriggeredBy     Upgrade_GLAAPRockets
ShowSubObjects  WARHEADUP
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_SuicidePack01
DeathTypes     NONE +CRUSHED
DeathWeapon    TunnelDefenderSuicideDynamitePack
StartsActive   No
TriggeredBy    Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  CommandSetUpgrade ModuleTag_SuicidePack02
CommandSet   GLAInfantryTunnelDefenderUpgradedCommandSet
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Behavior  SpecialAbility ModuleTag_07
SpecialPowerTemplate  SpecialAbilityTankHunterTNTAttack
UpdateModuleStartsAttack  Yes
InitiateSound  RPGTrooperVoiceAttackTNT
End

Behavior  SpecialAbilityUpdate ModuleTag_08
SpecialPowerTemplate  SpecialAbilityTankHunterTNTAttack
StartAbilityRange  2.5
PreparationTime  0
SpecialObject  TNTStickyBomb
MaxSpecialObjects  8
SpecialObjectsPersistWhenOwnerDies  No ;Charges are removed instantly when owner dies (nobody can detonate).
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets  Yes        ;This prevents multiple charges placed on the same object.
FleeRangeAfterCompletion  100.0        ;Runs away after finishing ability
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryTunnelDefenderSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              UITunF_SKN
Animation          UITunF_SKL.UITunF_SUR
AnimationMode      ONCE
HideSubObject      WARHEADUP
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          UITunF_SKL.UITunF_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          UITunF_SKL.UITunF_DTA
Animation          UITunF_SKL.UITunF_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             GLA
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedTunnelDefenderRevive
TransferPreviousHealth  Yes
End

Behavior  SubObjectsUpgrade ModuleTag_APRocketVissual01
TriggeredBy     Upgrade_GLAAPRockets
ShowSubObjects  WARHEADUP
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_GLAExplodedDeathTunnelDefender
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_GLAExplodedDeathTunnelDefender
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

;Geometry  BOX
;GeometryMajorRadius  5.0
;GeometryMinorRadius  5.0
;GeometryHeight  7.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object GLAInfantryWorker
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUWorker_L
ButtonImage             SUWorker

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model          UIWRKR_SKN
IdleAnimation  UIWRKR_SKL.UIWRKR_STA 0 9
IdleAnimation  UIWRKR_SKL.UIWRKR_IDA
AnimationMode  ONCE
TransitionKey  TRANS_Stand
HideSubObject  OMGL33TSHOES
WaitForStateToFinishIfPossible  DroppingCrate
End

ConditionState   MOVING
Animation      UIWRKR_SKL.UIWRKR_RNA 16
AnimationMode  LOOP
Flags          RANDOMSTART
TransitionKey  TRANS_Moving
ParticleSysBone  None InfantryDustTrails
End
; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
; since we flip the bit once we get pretty close to the target. but it looks
; funky to do the construction animation while moving.
; so just use the normal move animation in that case.
AliasConditionState  ACTIVELY_CONSTRUCTING MOVING

ConditionState  ATTACKING
ShowSubObject  MINED_SKIN
Animation  UIWRKR_SKL.UIWRKR_MS
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_MetalDetector_Standing
End

ConditionState  MOVING ATTACKING
Animation  UIWRKR_SKL.UIWRKR_MSW 50
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_MetalDetector_Moving
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING CARRYING

TransitionState  TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -= ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -= STANDING
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away standing
AnimationMode  ONCE
End

TransitionState  TRANS_Carry TRANS_MetalDetector_Standing    ;CARRYING -= ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Carry    ;ATTACKING -= CARRYING
ShowSubObject  MINED_SKIN
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away standing
AnimationMode  ONCE
End
TransitionState  TRANS_Carry TRANS_MetalDetector_Moving      ;CARRYING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_MetalDetector_Moving TRANS_Stand      ;MOVING ATTACKING -= STANDING
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away moving
AnimationMode  ONCE
End
TransitionState  TRANS_Stand TRANS_MetalDetector_Moving      ;STANDING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_Moving TRANS_MetalDetector_Standing   ;MOVING -= ATTACKING [STANDING]
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Moving   ;ATTACKING [STANDING] -= MOVING
Animation      UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_Moving TRANS_MetalDetector_Moving     ;MOVING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End
TransitionState  TRANS_MetalDetector_Moving TRANS_Moving     ;MOVING ATTACKING -= MOVING
Animation      UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End


ConditionState  MOVING CARRYING
ShowSubObject  BOX
Animation  UIWRKR_SKL.UIWRKR_CARY 12
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Carry
ParticleSysBone  None InfantryDustTrails
End
; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
; since we flip the bit once we get pretty close to the target. but it looks
; funky to do the construction animation while moving.
; so just use the normal move animation in that case.
AliasConditionState  ACTIVELY_CONSTRUCTING MOVING CARRYING

ConditionState  CARRYING
Animation  UIWRKR_SKL.UIWRKR_CARST 30
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Carry
End

ConditionState  DYING
Animation  UIWRKR_SKL.UIWRKR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
AliasConditionState  DYING CARRYING

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIWRKR_SKL.UIWRKR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIWRKR_SKL.UIWRKR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIWRKR_SKL.UIWRKR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      UIWRKR_SKL.UIWRKR_CHA
AnimationMode  ONCE
End

ConditionState   ACTIVELY_CONSTRUCTING
Animation      UIWRKR_SKL.UIWRKR_BDA
AnimationMode  LOOP
TransitionKey  TRANS_Constructing
End
AliasConditionState  ACTIVELY_CONSTRUCTING CARRYING

; --------------------
ConditionState  DOCKING
Animation      UIWRKR_SKL.UIWRKR_PIK
AnimationMode  ONCE
TransitionKey  DroppingCrate
End

ConditionState  DOCKING CARRYING
Animation      UIWRKR_SKL.UIWRKR_PIK
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.3 2.3
Flags          START_FRAME_LAST
TransitionKey  DroppingCrate
End

TransitionState  TRANS_Stand TRANS_Constructing
Animation      UIWRKR_SKL.UIWRKR_TRA1
AnimationMode  ONCE
End

TransitionState  TRANS_Constructing TRANS_Stand
Animation      UIWRKR_SKL.UIWRKR_TRA2
AnimationMode  ONCE
End

End


; ***DESIGN parameters ***
DisplayName  OBJECT:Worker
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)


WeaponSet
Conditions  None
Weapon  PRIMARY None
End
WeaponSet
Conditions  MINE_CLEARING_DETAIL
Weapon  PRIMARY WorkerMineDisarmingWeapon
End

ArmorSet
Conditions       None
Armor            WorkerHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  100
ShroudClearingRange  220

BuildCost  200
BuildTime  3.0          ;in seconds
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  GLAWorkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  WorkerVoiceSelect
VoiceMove  WorkerVoiceMove
VoiceAttack  WorkerVoiceMove
VoiceGuard  WorkerVoiceMove
VoiceFear  WorkerVoiceFear
VoiceTaskComplete  WorkerVoiceBuildComplete
UnitSpecificSounds
VoiceEnter         WorkerVoiceMoveUpgraded
VoiceEnterHostile  WorkerVoiceMoveUpgraded
VoiceGarrison      WorkerVoiceGarrison
VoiceCreate        WorkerVoiceCreate
VoiceSupply        WorkerVoiceSupply
VoiceNoBuild       WorkerVoiceBuildNot
VoiceRepair        WorkerVoiceRepair
VoiceDisarm        WorkerVoiceClearMine
VoiceBuildResponse  WorkerVoiceBuild
VoiceGetHealed     WorkerVoiceMoveUpgraded
VoiceMoveUpgraded  WorkerVoiceMoveUpgraded
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER DOZER HARVESTER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  WorkerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond   2%    ; % of max health to repair each second
BoredTime                      5000  ; in milliseconds
BoredRange                     150   ; when bored, we look this far away to do something
MaxBoxes                       1
UpgradedSupplyBoost            8 ; gives this much more cash for every box collected
SupplyCenterActionDelay        150 ;400 ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay     150 ;400 ;ms per box (many small transactions)
SupplyWarehouseScanDistance    700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  WorkerVoiceSuppliesDepleted
; the only "enemies" that workers can acquire are mines, to be disarmed...
AutoAcquireEnemiesWhenIdle     Yes
End
Locomotor  SET_NORMAL FastHumanLocomotor
Locomotor  SET_NORMAL_UPGRADED WorkerShoesLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End
Behavior  LocomotorSetUpgrade ModuleTag_07
TriggeredBy  Upgrade_GLAWorkerShoes
End

Behavior  StatusBitsUpgrade ModuleTag_0625
TriggeredBy    Upgrade_GLAWorkerShoes
StatusToSet    STATUS_RIDER8
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_WorkerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_WorkerDie
End
Behavior  CreateObjectDie ModuleTag_Death03_OCLOne
DeathTypes  NONE +EXPLODED
ExemptStatus  STATUS_RIDER8
CreationList  OCL_GLAExplodedDeathWorker
End
Behavior  CreateObjectDie ModuleTag_Death03_OCLTwo
DeathTypes  NONE +EXPLODED
RequiredStatus  STATUS_RIDER8
CreationList  OCL_GLAExplodedDeathWorkerShoes
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_WorkerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL xxxxxxxxx
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_WorkerSurrender
OCL                  INITIAL OCL_WorkerSurrendering
End
; --- end Death modules ---



Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End


Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SubObjectsUpgrade ModuleTag_ShoeVissual01
TriggeredBy     Upgrade_GLAWorkerShoes
ShowSubObjects  OMGL33TSHOES
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  ProductionUpdate ModuleTag_CommandSetUpgrade01
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       GLAWorkerCommandSet ; AmericaDozerCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
StatusToClear        STATUS_RIDER2
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade04
CommandSet       GLAWorkerDefenceCommandSet ; AmericaDozerDefenceCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER2
StatusToClear        STATUS_RIDER1
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade06
TriggeredBy          Upgrade_CostReduction
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
End

;This module fires a weapon with a dummy collision object that ensures that we always have collision
Behavior  FireWeaponUpdate ModuleTag_CommandSetUpgrade07
Weapon  GenericCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade08
CollideWeapon   GLAWorkerStandardBuildingDecalWeapon
RequiredStatus  STATUS_RIDER1
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade09
CollideWeapon   GLAWorkerDefenceBuildingDecalWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object WorkerDefaultDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE CLEARED_BY_BUILD

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  50
MaxLifetime  50
End

Scale   25.0
ShadowTexture  EXEUDzrNrm
ShadowSizeX  20
ShadowSizeY  20

End

;------------------------------------------------------------------------------
Object WorkerDefenceDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE CLEARED_BY_BUILD

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  50
MaxLifetime  50
End

Scale   25.0
ShadowTexture  EXEUDzrDfc
ShadowSizeX  20
ShadowSizeY  20

End

Object GLAInfantryWorker_AI
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SUWorker_L
ButtonImage             SUWorker

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model          UIWRKR_SKN
IdleAnimation  UIWRKR_SKL.UIWRKR_STA 0 9
IdleAnimation  UIWRKR_SKL.UIWRKR_IDA
AnimationMode  ONCE
TransitionKey  TRANS_Stand
HideSubObject  OMGL33TSHOES
WaitForStateToFinishIfPossible  DroppingCrate
End

ConditionState   MOVING
Animation      UIWRKR_SKL.UIWRKR_RNA 16
AnimationMode  LOOP
Flags          RANDOMSTART
TransitionKey  TRANS_Moving
ParticleSysBone  None InfantryDustTrails
End
; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
; since we flip the bit once we get pretty close to the target. but it looks
; funky to do the construction animation while moving.
; so just use the normal move animation in that case.
AliasConditionState  ACTIVELY_CONSTRUCTING MOVING

ConditionState  ATTACKING
ShowSubObject  MINED_SKIN
Animation  UIWRKR_SKL.UIWRKR_MS
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_MetalDetector_Standing
End

ConditionState  MOVING ATTACKING
Animation  UIWRKR_SKL.UIWRKR_MSW 50
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_MetalDetector_Moving
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING CARRYING

TransitionState  TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -= ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -= STANDING
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away standing
AnimationMode  ONCE
End

TransitionState  TRANS_Carry TRANS_MetalDetector_Standing    ;CARRYING -= ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Carry    ;ATTACKING -= CARRYING
ShowSubObject  MINED_SKIN
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away standing
AnimationMode  ONCE
End
TransitionState  TRANS_Carry TRANS_MetalDetector_Moving      ;CARRYING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_MetalDetector_Moving TRANS_Stand      ;MOVING ATTACKING -= STANDING
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away moving
AnimationMode  ONCE
End
TransitionState  TRANS_Stand TRANS_MetalDetector_Moving      ;STANDING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_Moving TRANS_MetalDetector_Standing   ;MOVING -= ATTACKING [STANDING]
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Moving   ;ATTACKING [STANDING] -= MOVING
Animation      UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_Moving TRANS_MetalDetector_Moving     ;MOVING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End
TransitionState  TRANS_MetalDetector_Moving TRANS_Moving     ;MOVING ATTACKING -= MOVING
Animation      UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End


ConditionState  MOVING CARRYING
ShowSubObject  BOX
Animation  UIWRKR_SKL.UIWRKR_CARY 12
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Carry
ParticleSysBone  None InfantryDustTrails
End
; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
; since we flip the bit once we get pretty close to the target. but it looks
; funky to do the construction animation while moving.
; so just use the normal move animation in that case.
AliasConditionState  ACTIVELY_CONSTRUCTING MOVING CARRYING

ConditionState  CARRYING
Animation  UIWRKR_SKL.UIWRKR_CARST 30
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Carry
End

ConditionState  DYING
Animation  UIWRKR_SKL.UIWRKR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
AliasConditionState  DYING CARRYING

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIWRKR_SKL.UIWRKR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIWRKR_SKL.UIWRKR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIWRKR_SKL.UIWRKR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      UIWRKR_SKL.UIWRKR_CHA
AnimationMode  ONCE
End

ConditionState   ACTIVELY_CONSTRUCTING
Animation      UIWRKR_SKL.UIWRKR_BDA
AnimationMode  LOOP
TransitionKey  TRANS_Constructing
End
AliasConditionState  ACTIVELY_CONSTRUCTING CARRYING

; --------------------
ConditionState  DOCKING
Animation      UIWRKR_SKL.UIWRKR_PIK
AnimationMode  ONCE
TransitionKey  DroppingCrate
End

ConditionState  DOCKING CARRYING
Animation      UIWRKR_SKL.UIWRKR_PIK
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.3 2.3
Flags          START_FRAME_LAST
TransitionKey  DroppingCrate
End

TransitionState  TRANS_Stand TRANS_Constructing
Animation      UIWRKR_SKL.UIWRKR_TRA1
AnimationMode  ONCE
End

TransitionState  TRANS_Constructing TRANS_Stand
Animation      UIWRKR_SKL.UIWRKR_TRA2
AnimationMode  ONCE
End

End


; ***DESIGN parameters ***
DisplayName  OBJECT:Worker
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)


WeaponSet
Conditions  None
Weapon  PRIMARY None
End
WeaponSet
Conditions  MINE_CLEARING_DETAIL
Weapon  PRIMARY WorkerMineDisarmingWeapon
End

ArmorSet
Conditions       None
Armor            WorkerHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  100
ShroudClearingRange  220

BuildCost  200
BuildTime  3.0          ;in seconds
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  GLAWorkerCommandSet_AI

; *** AUDIO Parameters ***
VoiceSelect  WorkerVoiceSelect
VoiceMove  WorkerVoiceMove
VoiceAttack  WorkerVoiceMove
VoiceGuard  WorkerVoiceMove
VoiceFear  WorkerVoiceFear
VoiceTaskComplete  WorkerVoiceBuildComplete
UnitSpecificSounds
VoiceEnter         WorkerVoiceMoveUpgraded
VoiceEnterHostile  WorkerVoiceMoveUpgraded
VoiceGarrison      WorkerVoiceGarrison
VoiceCreate        WorkerVoiceCreate
VoiceSupply        WorkerVoiceSupply
VoiceNoBuild       WorkerVoiceBuildNot
VoiceRepair        WorkerVoiceRepair
VoiceDisarm        WorkerVoiceClearMine
VoiceBuildResponse  WorkerVoiceBuild
VoiceGetHealed     WorkerVoiceMoveUpgraded
VoiceMoveUpgraded  WorkerVoiceMoveUpgraded
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER DOZER HARVESTER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  WorkerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond   2%    ; % of max health to repair each second
BoredTime                      5000  ; in milliseconds
BoredRange                     150   ; when bored, we look this far away to do something
MaxBoxes                       1
UpgradedSupplyBoost            8 ; gives this much more cash for every box collected
SupplyCenterActionDelay        150 ;400 ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay     150 ;400 ;ms per box (many small transactions)
SupplyWarehouseScanDistance    700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  WorkerVoiceSuppliesDepleted
; the only "enemies" that workers can acquire are mines, to be disarmed...
AutoAcquireEnemiesWhenIdle     Yes
End
Locomotor  SET_NORMAL FastHumanLocomotor
Locomotor  SET_NORMAL_UPGRADED WorkerShoesLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End
Behavior  LocomotorSetUpgrade ModuleTag_07
TriggeredBy  Upgrade_GLAWorkerShoes
End

Behavior  StatusBitsUpgrade ModuleTag_0625
TriggeredBy    Upgrade_GLAWorkerShoes
StatusToSet    STATUS_RIDER8
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_WorkerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_WorkerDie
End
Behavior  CreateObjectDie ModuleTag_Death03_OCLOne
DeathTypes  NONE +EXPLODED
ExemptStatus  STATUS_RIDER8
CreationList  OCL_GLAExplodedDeathWorker
End
Behavior  CreateObjectDie ModuleTag_Death03_OCLTwo
DeathTypes  NONE +EXPLODED
RequiredStatus  STATUS_RIDER8
CreationList  OCL_GLAExplodedDeathWorkerShoes
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_WorkerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL xxxxxxxxx
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_WorkerSurrender
OCL                  INITIAL OCL_WorkerSurrendering
End
; --- end Death modules ---



Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End


Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SubObjectsUpgrade ModuleTag_ShoeVissual01
TriggeredBy     Upgrade_GLAWorkerShoes
ShowSubObjects  OMGL33TSHOES
End


;Geometry  CYLINDER
;GeometryMajorRadius  10.0
;GeometryMinorRadius  10.0
;GeometryHeight  12.0
;GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryBlackMarketArmsDealer01
Scale 0.90
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor   Yes

DefaultConditionState
Model          UIDealer02_SKN
IdleAnimation  UIPART_SKL.UIPART_STA 0 10
IdleAnimation  UIPART_SKL.UIPART_IDA
IdleAnimation  UIPART_SKL.UIPART_IDB
AnimationMode  ONCE
Turret         UIPART_MAINRT
End

End

; ***DESIGN parameters ***
DisplayName    OBJECT:GunMerchant
EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS CLICK_THROUGH IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         80
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle     -135.0
End
End

; --- begin Death modules ---
Behavior  DestroyDie ModuleTag_Death01
End
; --- end Death modules ---

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  AutoDepositUpdate ModuleTag_MakeMoney01
DepositTiming        1800  ; in milliseconds
DepositAmount        25    ; cash amount to deposit every DepositTiming
InitialCaptureBonus  0     ; no initial bonus
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  CYLINDER
GeometryMajorRadius  30.0
GeometryMinorRadius  30.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAInfantryBlackMarketArmsDealer02
Scale 0.90
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model          UIDealer01_SKN
IdleAnimation  UIPART2_SKL.UIPART2_STA 0 10
IdleAnimation  UIPART2_SKL.UIPART2_IDA
IdleAnimation  UIPART2_SKL.UIPART2_IDB
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName    OBJECT:SmallArmsMerchant
EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS CLICK_THROUGH IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

; --- begin Death modules ---
Behavior  DestroyDie ModuleTag_Death01
End
; --- end Death modules ---

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  AutoDepositUpdate ModuleTag_MakeMoney01
DepositTiming        1800  ; in milliseconds
DepositAmount        25    ; cash amount to deposit every DepositTiming
InitialCaptureBonus  0     ; no initial bonus
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  CYLINDER
GeometryMajorRadius  30.0
GeometryMinorRadius  30.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAInfantryBlackMarketArmsDealer03
Scale 0.90
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor   Yes

DefaultConditionState
Model          UIDealer03_SKN
IdleAnimation  CIUMC01_SKL.CIUMC01_STN 0 10
IdleAnimation  CIUMC01_SKL.CIUMC01_IDA
AnimationMode  ONCE
Turret         CIUMC01_MAINRT
End

End

; ***DESIGN parameters ***
DisplayName    OBJECT:HeavyWeaponsMerchant
EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS CLICK_THROUGH IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_073243
Turret
TurretTurnRate         80
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle     -25
End
End

; --- begin Death modules ---
Behavior  DestroyDie ModuleTag_Death01
End
; --- end Death modules ---

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  AutoDepositUpdate ModuleTag_MakeMoney01
DepositTiming        1800  ; in milliseconds
DepositAmount        25    ; cash amount to deposit every DepositTiming
InitialCaptureBonus  0     ; no initial bonus
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  CYLINDER
GeometryMajorRadius  30.0
GeometryMinorRadius  30.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAGunMerchant1DummyObject

; *** ART Parameters ***
ButtonImage             SSGunMerchant

; ***DESIGN parameters ***
DisplayName            OBJECT:GunMerchant
MaxSimultaneousOfType  1
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0
BuildTime              45.0
BuildCost              2000

Prerequisites
Object  GLAPalace
End

Behavior  GrantUpgradeCreate ModuleTag_01
UpgradeToGrant  Upgrade_BlackMarketMerchant1
End

Behavior  DeletionUpdate ModuleTag_02
MinLifetime  1000
MaxLifetime  1000
End

End

;------------------------------------------------------------------------------
Object GLAGunMerchant2DummyObject

; *** ART Parameters ***
ButtonImage             SSSmallArmsMerchant

; ***DESIGN parameters ***
DisplayName            OBJECT:SmallArmsMerchant
MaxSimultaneousOfType  1
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0
BuildTime              45.0
BuildCost              2000

Prerequisites
;    Object  GLAPalace
Object  GLAInfantryBlackMarketArmsDealer01
End

Behavior  GrantUpgradeCreate ModuleTag_01
UpgradeToGrant  Upgrade_BlackMarketMerchant2
End

Behavior  DeletionUpdate ModuleTag_02
MinLifetime  1000
MaxLifetime  1000
End

End

;------------------------------------------------------------------------------
Object GLAGunMerchant3DummyObject

; *** ART Parameters ***
ButtonImage             SSHeavyWeaponsMerchant

; ***DESIGN parameters ***
DisplayName            OBJECT:HeavyWeaponsMerchant
MaxSimultaneousOfType  1
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0
BuildTime              45.0
BuildCost              2000

Prerequisites
;    Object  GLAPalace
Object  GLAInfantryBlackMarketArmsDealer01
Object  GLAInfantryBlackMarketArmsDealer02
End

Behavior  GrantUpgradeCreate ModuleTag_01
UpgradeToGrant  Upgrade_BlackMarketMerchant3
End

Behavior  DeletionUpdate ModuleTag_02
MinLifetime  1000
MaxLifetime  1000
End

End

;------------------------------------------------------------------------------
;Note that we must have this GLA Hole defined before we do any of the
;object reskins with it later in this file
;------------------------------------------------------------------------------
Object GLAHole

; *** ART Parameters ***
SelectPortrait            SUHole_L
ButtonImage               SUHole_L

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End

PlacementViewAngle        -135

; ***DESIGN parameters ***
DisplayName        OBJECT:GLAHole
Side               GLA
EditorSorting      SYSTEM
Prerequisites
Object  GLACommandCenter
End
BuildCost          100
BuildTime          10.0           ; in seconds
EnergyProduction   0
VisionRange        50.0           ; Shroud clearing distance
ShroudClearingRange  50

WeaponSet
Conditions          None
Weapon              TERTIARY  SuicideWeapon ;Holes cannot be sold so they have a self kill function
AutoChooseSources   TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

CommandSet        RussiaRubbleBunkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TunnelNetworkSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE IMMOBILE REBUILD_HOLE CAN_SEE_THROUGH_STRUCTURE IMMUNE_TO_CAPTURE SCORE_DESTROY MP_COUNT_FOR_VICTORY
Body               StructureBody ModuleTag_03
; To set the health for a particular hole, edit the entry in the object
; that will leave the hole behind (edit the RebuildHoleExposeDie entry)
MaxHealth        9999999.9  ;bigger than anything realistic we use
InitialHealth    9999999.9  ;bigger than anything realistic we use
End


Behavior  AIUpdateInterface ModuleTag_0622
AutoAcquireEnemiesWhenIdle  No
End

Behavior                     RebuildHoleBehavior ModuleTag_04
WorkerObjectName           GLAInfantryWorker
WorkerRespawnDelay         20000 ;in milliseconds
HoleHealthRegen%PerSecond  0.5%    ;regen this % of HoleMaxHealth per second
End

Behavior              CreateObjectDie ModuleTag_13
CreationList   OCL_LargeStructureDebris
End
Behavior              FXListDie ModuleTag_14
DeathFX        FX_StructureSmallDeath
End



Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       5.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
;Generic Tunnel rebuild hole
ObjectReskin GLAGenericTunnelBuilding GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End
Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes

ConditionState  NONE
Model                 UBSNATK_R
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE

ConditionState  SNOW
Model                 UBSNATK_RS
End
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE

End
End


;------------------------------------------------------------------------------
ObjectReskin GLAHideoutHole GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End

Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes

DefaultConditionState
Model                 UBHdout_R
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  SNOW
Model                 UBHdout_RS
End
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW RUBBLE

End

End


;------------------------------------------------------------------------------
ObjectReskin GLABarracksHole GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End

Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes

DefaultConditionState
Model                 UBBrkTnl_R
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  SNOW
Model                 UBBrkTnl_RS
End
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW RUBBLE

End

End


;------------------------------------------------------------------------------
ObjectReskin GLASupplyStashHole GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End

Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes

DefaultConditionState
Model                 UBSplyStsh_R
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  SNOW
Model                 UBSplyStsh_RS
End
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW RUBBLE

End

End


;------------------------------------------------------------------------------
ObjectReskin GLAArmsdealerHole GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End

Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes

DefaultConditionState
Model                 UBArmsdlr_R
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  SNOW
Model                 UBArmsdlr_RS
End
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW RUBBLE

End

End


;------------------------------------------------------------------------------
ObjectReskin GLAHoleBlackMarket GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End
Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBBlckMrkt_R
ParticleSysBone       Smoke01 SmolderingSmoke
ParticleSysBone       Smoke03 SmolderingSmoke
ParticleSysBone       Smoke04 SmolderingSmoke
End
ConditionState          DAMAGED REALLYDAMAGED RUBBLE
Model                 UBBlckMrkt_R
ParticleSysBone       Smoke01 SmolderingSmoke
ParticleSysBone       Smoke03 SmolderingSmoke
ParticleSysBone       Smoke04 SmolderingSmoke
End
End
Draw  W3DModelDraw ModuleTag_DirtPatch01
DefaultConditionState
Model            UBBlckMrkt_A6
End
End
Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model            UBBlckMrkt_B
End
End
MaxSimultaneousOfType  1 ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  BlackMarket
End


;------------------------------------------------------------------------------
ObjectReskin GLAHoleScudStorm GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End

Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBScdStrm_A6
End
End

MaxSimultaneousOfType  DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  ScudStorm  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

End


;------------------------------------------------------------------------------
ObjectReskin GLAHoleTunnelNetwork GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End
Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBUndTunn_R
End
ConditionState          DAMAGED REALLYDAMAGED
Model                 UBUndTunn_R
End
End
End

;------------------------------------------------------------------------------
ObjectReskin GLAHoleStingerSite GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End
Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBStingerS_R
End
ConditionState          DAMAGED REALLYDAMAGED
Model                 UBStingerS_R
End
End
End


;------------------------------------------------------------------------------
ObjectReskin GLAHolePalace GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End
Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBBlckMrkt_R
ParticleSysBone       Smoke01 SmolderingSmoke
ParticleSysBone       Smoke03 SmolderingSmoke
ParticleSysBone       Smoke04 SmolderingSmoke
End
ConditionState          DAMAGED REALLYDAMAGED RUBBLE
Model                 UBBlckMrkt_R
ParticleSysBone       Smoke01 SmolderingSmoke
ParticleSysBone       Smoke03 SmolderingSmoke
ParticleSysBone       Smoke04 SmolderingSmoke
End
End
Draw                      W3DModelDraw ModuleTag_039787
ConditionState          NONE
Model                 UBScdStrm_A6
End
End

MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  ChemLab
End


;------------------------------------------------------------------------------
ObjectReskin GLAHoleAirstrip GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End
Draw  W3DModelDraw ModuleTag_ExtraShizzle
DefaultConditionState
Model            UBAirfld_R
End
End
MaxSimultaneousOfType  1 ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  Airstrip
End

;------------------------------------------------------------------------------
ObjectReskin GLAHolScramblerStation GLAHole

Draw                      W3DModelDraw  ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBHole
End
ConditionState          DAMAGED
Model                 UBHole_D
ParticleSysBone       Smoke01 SteamVent
End
ConditionState          REALLYDAMAGED
Model                 UBHole_E
ParticleSysBone       Smoke01 SteamVent
ParticleSysBone       Smoke02 SteamVent
ParticleSysBone       Fire01 GLAPowerPlantFlame
ParticleSysBone       Fire02 GLAPowerPlantFlame
ParticleSysBone       Fire03 GLAPowerPlantFlame
End
End

Draw  W3DModelDraw ModuleTag_HoleDoors01

OkToChangeModelColor  Yes

DefaultConditionState
Model  UBHole_A1
Animation  UBHole_A1.UBHole_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End

ConditionState  DAMAGED CONSTRUCTION_COMPLETE
Model  UBHole_A1D
Animation  UBHole_A1D.UBHole_A1D
AnimationMode  ONCE
Flags  START_FRAME_LAST
End

ConditionState  DAMAGED
Model  UBHole_A1D
End

ConditionState  REALLYDAMAGED
Model  NONE
End

End
Draw                      W3DModelDraw ModuleTag_02
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 UBGPSScrblr_R
End
ConditionState          DAMAGED REALLYDAMAGED
Model                 UBGPSScrblr_R
End
End
End

;------------------------------------------------------------------------------
Object CINE_CheeringRebel01

; *** ART Parameters ***
SelectPortrait          SURebel_L
ButtonImage             SURebel

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                UIRGrd_SKN
IdleAnimation        UIRGrd_SKL.UIRGrd_CHA
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

ConditionState         REALLYDAMAGED
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        TRANS_StandingHurt
End

; ---- moving
ConditionState         MOVING
Animation            UIRGrd_SKL.UIRGrd_RNA 15
AnimationMode        LOOP
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING

ConditionState         MOVING REALLYDAMAGED
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
TransitionKey        TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USING_WEAPON_A
Animation  UIRGrd_SKL.UIRGrd_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USING_WEAPON_A REALLYDAMAGED
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  TRANS_FiringHurt
End

TransitionState  TRANS_Standing TRANS_Firing
Animation  UIRGrd_SKL.UIRGrd_ATAST
AnimationMode  ONCE
End

TransitionState  TRANS_Firing TRANS_Standing
Animation  UIRGrd_SKL.UIRGrd_ATAED
AnimationMode  ONCE
End

TransitionState  TRANS_StandingHurt TRANS_FiringHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE_BACKWARDS
End

TransitionState  TRANS_FiringHurt TRANS_StandingHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE
End

TransitionState  TRANS_Standing TRANS_StandingHurt
Animation  UIRGrd_SKL.UIRGrd_ATA2ED
AnimationMode  ONCE
End



; ------- Bldg-capture

ConditionState  UNPACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState  RAISING_FLAG
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState  PACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState  TRANS_Raising TRANS_Packing
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Rebel
Side                 GLA
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY GLARebelMachineGun
Weapon             TERTIARY GLARebelMolotovCocktailWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          220
ShroudClearingRange  300
Prerequisites
Object  GLABarracks
End
BuildCost  150
BuildTime  5.0          ;in seconds

ExperienceValue      15 15 30 40     ;Experience point value at each level
ExperienceRequired   0 40 60 120     ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryRebelCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RebelVoiceSelect
VoiceMove  RebelVoiceMove
VoiceGuard  RebelVoiceMove
VoiceAttack  RebelVoiceAttack
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff
VoiceFear  RebelVoiceFear
VoiceTaskComplete  RebelVoiceCaptureComplete
UnitSpecificSounds
VoiceCreate  RebelVoiceCreate
VoiceSubdue  RebelVoiceSubdue
VoiceGarrison  RebelVoiceGarrison
VoiceEnter  RebelVoiceMove
VoiceEnterHostile  RebelVoiceMove
VoiceGetHealed       RebelVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
End

Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End
Behavior  StealthUpdate ModuleTag_07
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  WeaponBonusUpgrade ModuleTag_09
TriggeredBy  Upgrade_GLAAPBullets
End
Behavior  StealthUpgrade ModuleTag_10
TriggeredBy  Upgrade_GLACamouflage
End


Behavior  SquishCollide ModuleTag_11
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_17
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          RebelVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_18
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End

Behavior  SpecialAbility ModuleTag_20
SpecialPowerTemplate  SpecialAbilityBoobyTrap
UpdateModuleStartsAttack  Yes
StartsPaused               Yes
InitiateSound  RebelVoiceBoobyTrapInstall
End
Behavior  SpecialAbilityUpdate ModuleTag_21
SpecialPowerTemplate  SpecialAbilityBoobyTrap
StartAbilityRange  5.0
PreparationTime  0
SpecialObject  BoobyTrap
MaxSpecialObjects  100
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_22
SpecialPowerTemplate  SpecialAbilityBoobyTrap
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object CINE_CheeringRebel02

; *** ART Parameters ***
SelectPortrait          SURebel_L
ButtonImage             SURebel

UpgradeCameo1  Upgrade_GLAAPBullets
UpgradeCameo2  Upgrade_GLACamouflage

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
ConditionState  NONE
Model  UIRGrd2_SKN
IdleAnimation  UIMOB01_SKL.UIMOB01_IDD1
IdleAnimation  UIMOB01_SKL.UIMOB01_IDD2
;IdleAnimation  UIMOB01_SKL.UIMOB01_CHD
AnimationMode  ONCE
AnimationSpeedFactorRange 0.9 1.1
TransitionKey  TRANS_STAND
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  REALLYDAMAGED

; ---- moving
ConditionState         MOVING
Model                UIRGrd2_SKN
Animation            UIMOB01_SKL.UIMOB01_RND  15
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState    MOVING ATTACKING
AliasConditionState    MOVING REALLYDAMAGED
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Model                UIRGrd2_SKN
Animation            UIMOB01_SKL.UIMOB01_DD1
Animation            UIMOB01_SKL.UIMOB01_DD2
AnimationMode        ONCE
TransitionKey        TRANS_Dying
WaitForStateToFinishIfPossible  NADA
End

TransitionState  TRANS_Dying TRANS_Flailing
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_A_ADTE1
Animation  UIMOB01_SKL.UIMOB01_D_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_A_ADTE2
Animation  UIMOB01_SKL.UIMOB01_D_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
WaitForStateToFinishIfPossible  NADA
End

ConditionState  DYING EXPLODED_BOUNCING
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_A_ADTE3
Animation  UIMOB01_SKL.UIMOB01_D_ADTE3
AnimationMode  ONCE
TransitionKey  None
WaitForStateToFinishIfPossible  NADA
End

; ---- firing
ConditionState  USING_WEAPON_A
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_ATD1_LP
AnimationMode  LOOP
TransitionKey  TRANS_Firing
WaitForStateToFinishIfPossible  NADA
WeaponFireFXBone     PRIMARY MuzzleAK
WeaponMuzzleFlash    PRIMARY MuzzleAKFX
End
AliasConditionState  USING_WEAPON_A REALLYDAMAGED

TransitionState  TRANS_Standing TRANS_Firing
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_ATD1_ST
AnimationMode  ONCE
WeaponFireFXBone     PRIMARY MuzzleAK
WeaponMuzzleFlash    PRIMARY MuzzleAKFX
End

TransitionState  TRANS_Firing TRANS_Standing
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIMOB01_ATD1_ED
AnimationMode  ONCE
WeaponFireFXBone     PRIMARY MuzzleAK
WeaponMuzzleFlash    PRIMARY MuzzleAKFX
End

; ---- Throwing bottle

ConditionState  PREATTACK_C
Model          UIRGrd_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C RELOADING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RELOADING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState  FIRING_C
Model          UIRGrd_B_SKN
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C BETWEEN_FIRING_SHOTS_C

ConditionState RELOADING_C
Model      UIRGrd_B_SKN
Animation  UIMOB01_SKL.UIMOB01_IDA1
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_C FIRING_C
AliasConditionState  RELOADING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  RELOADING_C REALLYDAMAGED FIRING_C
AliasConditionState  RELOADING_C REALLYDAMAGED BETWEEN_FIRING_SHOTS_C


; ---- Cheering

ConditionState  SPECIAL_CHEERING
Model                UIRGrd2_SKN
Animation  UIMOB01_SKL.UIRGrd_IDD1
Animation  UIMOB01_SKL.UIRGrd_IDD2
Animation  UIMOB01_SKL.UIRGrd_CHD
AnimationMode  LOOP
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  SPECIAL_CHEERING REALLYDAMAGED

; ------- Parachuting Animations

ConditionState     FREEFALL
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME START_FRAME_LAST ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Model            UIRGrd_SKN
Animation        UIRGrd_SKL.UIRGrd_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

; ------- Bldg-capture

ConditionState  UNPACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState  RAISING_FLAG
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState  PACKING
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState  TRANS_Raising TRANS_Packing
Model              UIRGrd_F_SKN
Animation          UIRGrd_F_SKL.UIRGrd_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Rebel
Side                 GLA
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY GLARebelMachineGun
Weapon             TERTIARY GLARebelMolotovCocktailWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          220
ShroudClearingRange  300
Prerequisites
Object  GLABarracks
End
BuildCost  150
BuildTime  5.0          ;in seconds

ExperienceValue      15 15 30 40     ;Experience point value at each level
ExperienceRequired   0 40 60 120     ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           GLAInfantryRebelCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RebelVoiceSelect
VoiceMove  RebelVoiceMove
VoiceGuard  RebelVoiceMove
VoiceAttack  RebelVoiceAttack
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff
VoiceFear  RebelVoiceFear
VoiceTaskComplete  RebelVoiceCaptureComplete
UnitSpecificSounds
VoiceCreate  RebelVoiceCreate
VoiceSubdue  RebelVoiceSubdue
VoiceGarrison  RebelVoiceGarrison
VoiceEnter  RebelVoiceMove
VoiceEnterHostile  RebelVoiceMove
VoiceGetHealed       RebelVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
End

Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End
Behavior  StealthUpdate ModuleTag_07
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  WeaponBonusUpgrade ModuleTag_09
TriggeredBy  Upgrade_GLAAPBullets
End
Behavior  StealthUpgrade ModuleTag_10
TriggeredBy  Upgrade_GLACamouflage
End


Behavior  SquishCollide ModuleTag_11
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_17
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          RebelVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_18
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End

Behavior  SpecialAbility ModuleTag_20
SpecialPowerTemplate  SpecialAbilityBoobyTrap
UpdateModuleStartsAttack  Yes
StartsPaused               Yes
InitiateSound  RebelVoiceBoobyTrapInstall
End
Behavior  SpecialAbilityUpdate ModuleTag_21
SpecialPowerTemplate  SpecialAbilityBoobyTrap
StartAbilityRange  5.0
PreparationTime  0
SpecialObject  BoobyTrap
MaxSpecialObjects  100
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_22
SpecialPowerTemplate  SpecialAbilityBoobyTrap
TriggeredBy  Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
;Tunnel Fanatic ;Now called the RPG Trooper
Object CINE_CheeringTunnelDefender

; *** ART Parameters ***
SelectPortrait          SURPG_L
ButtonImage             SURPG

UpgradeCameo1  Upgrade_GLAAPRockets
;UpgradeCameo2  NONE
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UITunF_SKN
IdleAnimation  UITunF_SKL.UITunF_CHA
AnimationMode  ONCE
HideSubObject  WARHEADUP
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
End

ConditionState  MOVING
Animation  UITunF_SKL.UITunF_WKA 16
Animation  UITunF_SKL.UITunF_WKB 30
Animation  UITunF_SKL.UITunF_WKC 30
Animation  UITunF_SKL.UITunF_RNA 15
Animation  UITunF_SKL.UITunF_RNB 25
AnimationMode  LOOP
ParticleSysBone    None InfantryDustTrails
End

ConditionState  DYING
Animation  UITunF_SKL.UITunF_DTA
Animation  UITunF_SKL.UITunF_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  FIRING_A
Animation  UITunF_SKL.UITunF_ATA
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING
End
ConditionState  BETWEEN_FIRING_SHOTS_A
Animation  UITunF_SKL.UITunF_STA
AnimationMode  ONCE
; this is basically a trick: this guy has a nontrivial animation for firing,
; and a long recycle time between shots. we want him to finish his fire animation
; (unless he's ordered to do something else), so this is just a handy trick that
; says, "if the previous state had this transition key, allow it to finish before
; switching to us, if possible".
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A

ConditionState  SPECIAL_CHEERING
Animation  UITUNF_SKL.UITUNF_CHA
AnimationMode  LOOP
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:TunnelDefender
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY TunnelDefenderRocketWeapon
Weapon  SECONDARY TunnelDefenderRocketWeapon
PreferredAgainst  SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  220
ShroudClearingRange  400

BuildCost  300
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       GLAInfantryTunnelDefenderCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RPGTrooperVoiceSelect
VoiceMove  RPGTrooperVoiceMove
VoiceGuard  RPGTrooperVoiceMove
VoiceAttack  RPGTrooperVoiceAttack
VoiceFear  RPGTrooperVoiceFear
UnitSpecificSounds
VoiceCreate           RPGTrooperVoiceCreate
VoiceGarrison  RPGTrooperVoiceGarrison
VoiceEnter  RPGTrooperVoiceMove
VoiceEnterHostile  RPGTrooperVoiceMove
VoiceGetHealed       RPGTrooperVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGTrooperDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING USING_ABILITY
MoveThresholdSpeed           3
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_GLACamouflage
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag998
DeathTypes     NONE +CRUSHED
DeathWeapon    TunnelDefenderSuicideDynamitePack
StartsActive   No
TriggeredBy    Upgrade_GLAInfantryRebelBoobyTrapAttack
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object CINE_CheeringTerrorist

; *** ART Parameters ***
SelectPortrait          SUTerrorist_L
ButtonImage             SUTerrorist

;UpgradeCameo1  NONE
;UpgradeCameo2  NONE
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UITrrst_SKN
IdleAnimation  UITRRT_SKL.UITRRT_CHA
AnimationMode  ONCE
TransitionKey  TRANS_Stand
HideSubObject  NAPALM CLUSTER01 CLUSTER02 CLUSTER03
End

ConditionState  REALLYDAMAGED
Animation  UITRRT_SKL.UITRRT_STA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
End

ConditionState  FREEFALL
Animation  UITRRT_SKL.UITRRT_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  UITRRT_SKL.UITRRT_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

ConditionState  MOVING
Animation  UITRRT_SKL.UITRRT_RNA 15
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING REALLYDAMAGED

ConditionState  ATTACKING MOVING
Animation  UITRRT_SKL.UITRRT_RNB 10
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
End
AliasConditionState  ATTACKING MOVING REALLYDAMAGED

ConditionState  PREATTACK_A
Animation  UITRRT_SKL.UITRRT_ATA
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A MOVING

ConditionState  DYING
Animation  UITRRT_SKL.UITRRT_DTA
Animation  UITRRT_SKL.UITRRT_DTC
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UITRRT_SKL.UITRRT_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UITRRT_SKL.UITRRT_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UITRRT_SKL.UITRRT_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UITRRT_SKL.UITRRT_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Falling TRANS_Chute
Animation  UITRRT_SKL.UITRRT_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  UITRRT_SKL.UITRRT_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Terrorist
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
;Kill himself so we can use FireWeaponWhenDead to fire the real weapon -- and use UNRESISTABLE
;damage to do ini logic for type of death to play -- unresistable for success.
Weapon  PRIMARY TerroristSuicideWeapon
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  GLABarracks
End
BuildCost  200
BuildTime  5.0          ;in seconds
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     GLAInfantryTerroristCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TerroristVoiceSelect
VoiceMove  TerroristVoiceMove
VoiceAttack  TerroristVoiceAttack
VoiceFear  TerroristVoiceFear
VoiceGuard  TerroristVoiceMove
UnitSpecificSounds
VoiceGarrison          TerroristVoiceMove
VoiceCreate            TerroristVoiceCreate
VoiceEnter             TerroristVoiceEnter
VoiceEnterHostile      TerroristVoiceEnterHostile
VoiceGetHealed       TerroristVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

ExperienceValue      20 20 20 20  ; Experience point value at each level

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Behavior  CommandButtonHuntUpdate  ModuleTag_CBH01 ; allows use of command button hunt script with this unit.
End

Locomotor  SET_NORMAL FastHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

;Kris
Behavior  ConvertToCarBombCrateCollide       ModuleTag_06
RequiredKindOf     VEHICLE      ; we only give our bonus to VEHICLEs we collide with
;ForbiddenKindOf   TRANSPORT DOZER  ; but not to TRANSPORTs or DOZERs!
FXList             FX_MakeCarBombSuccess
End

Behavior  SquishCollide ModuleTag_07
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -EXPLODED -SUICIDED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_TerroristDie
End

;POISON_DEATHS POISON_DEATHS POISON_DEATHS POISON_DEATHS
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End

; I have just pulled my ripcord, and this ain't no parachute!
Behavior  SlowDeathBehavior ModuleTag_Death03232
DeathTypes           NONE +EXPLODED +SUICIDED +CRUSHED +SPLATTED +LASERED +BURNED +EXTRA_2 +EXTRA_4 +EXTRA_5
DestructionDelay     0
FX                   INITIAL FX_TerroristExplode
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
Weapon               FINAL   SuicideDynamitePack
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;-------------------------------------------------------------------------------------
Object CINE_CheeringHijacker

; *** ART Parameters ***
SelectPortrait          SUHijacker_L
ButtonImage             SUHijacker

;UpgradeCameo1  NONE
;UpgradeCameo2  NONE
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UIHJCK_SKN
IdleAnimation  UIHJCK_SKL.UIHJCK_CHA
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED

ConditionState  MOVING
Animation  UIHJCK_SKL.UIHJCK_RUN
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  REALLYDAMAGED MOVING


ConditionState  DYING
Animation  UIHJCK_SKL.UIHJCK_DTA
Animation  UIHJCK_SKL.UIHJCK_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIHJCK_SKL.UIHJCK_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIHJCK_SKL.UIHJCK_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIHJCK_SKL.UIHJCK_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIHJCK_SKL.UIHJCK_CHA
AnimationMode  LOOP
End


ConditionState  PARACHUTING
Animation  UIHJCK_SKL.UIHJCK_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  UIHJCK_SKL.UIHJCK_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  UIHJCK_SKL.UIHJCK_PTD
AnimationMode  ONCE
End


End

; ***DESIGN parameters ***
DisplayName       OBJECT:Hijacker
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)



ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220


BuildCost  400
BuildTime  10.0          ;in seconds




ExperienceValue  50 100 150 400    ;Experience point value at each level
ExperienceRequired   0 40 60 120     ;Experience points needed to gain each level
IsTrainable  Yes                   ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     GLAInfantryHijackerCommandSet

; *** AUDIO Parameters ***
VoiceSelect     HijackerVoiceSelect
VoiceMove       HijackerVoiceMove
VoiceGuard       HijackerVoiceMove
VoiceAttack     HijackerVoiceAttack
VoiceFear       HijackerVoiceFear
SoundStealthOn     StealthOn
SoundStealthOff    StealthOff
UnitSpecificSounds
VoiceGarrison   HijackerVoiceGarrison
VoiceCreate            HijackerVoiceCreate
VoiceEnter             HijackerVoiceEnter
VoiceEnterHostile      HijackerVoiceEnterHostile
VoiceGetHealed       HijackerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
EnterGuard  Yes
HijackGuard  Yes
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE STEALTH_GARRISON
;STEALTH_GARRISON Added per Dustin, 12/14--ML

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  HijackerUpdate ModuleTag_04
ParachuteName  GLAParachute
End

Behavior  AIUpdateInterface ModuleTag_05
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_CBH01 ; allows use of command button hunt script with this unit.
End

Locomotor  SET_NORMAL JarmenKellLocomotor

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior  ConvertToHijackedVehicleCrateCollide       ModuleTag_08
RequiredKindOf  VEHICLE      ; This is my car now, infidel!
ForbiddenKindOf  IMMUNE_TO_CAPTURE DRONE ;no more dozers for you becouse of the lame command center placing exploit
End


Behavior  StealthUpdate ModuleTag_07
StealthDelay                 500
StealthForbiddenConditions   MOVING
MoveThresholdSpeed           3
InnateStealth                Yes ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SquishCollide ModuleTag_09
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_HijackerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_HijackerDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
Object CINE_CheeringWorker

; *** ART Parameters ***
SelectPortrait          SUWorker_L
ButtonImage             SUWorker

UpgradeCameo1  Upgrade_GLAWorkerShoes
;UpgradeCameo2  NONE
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model          UIWRKR_SKN
IdleAnimation  UIWRKR_SKL.UIWRKR_CHA
AnimationMode  ONCE
TransitionKey  TRANS_Stand
HideSubObject  OMGL33TSHOES
WaitForStateToFinishIfPossible  DroppingCrate
End

ConditionState   MOVING
Animation      UIWRKR_SKL.UIWRKR_RNA 16
AnimationMode  LOOP
Flags          RANDOMSTART
TransitionKey  TRANS_Moving
ParticleSysBone  None InfantryDustTrails
End
; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
; since we flip the bit once we get pretty close to the target. but it looks
; funky to do the construction animation while moving.
; so just use the normal move animation in that case.
AliasConditionState  ACTIVELY_CONSTRUCTING MOVING

ConditionState  ATTACKING
ShowSubObject  MINED_SKIN
Animation  UIWRKR_SKL.UIWRKR_MS
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_MetalDetector_Standing
End

ConditionState  MOVING ATTACKING
Animation  UIWRKR_SKL.UIWRKR_MSW 50
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_MetalDetector_Moving
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING CARRYING

TransitionState  TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -= ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -= STANDING
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away standing
AnimationMode  ONCE
End

TransitionState  TRANS_Carry TRANS_MetalDetector_Standing    ;CARRYING -= ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Carry    ;ATTACKING -= CARRYING
ShowSubObject  MINED_SKIN
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away standing
AnimationMode  ONCE
End
TransitionState  TRANS_Carry TRANS_MetalDetector_Moving      ;CARRYING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_MetalDetector_Moving TRANS_Stand      ;MOVING ATTACKING -= STANDING
Animation      UIWRKR_SKL.UIWRKR_TRB2;put away moving
AnimationMode  ONCE
End
TransitionState  TRANS_Stand TRANS_MetalDetector_Moving      ;STANDING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_Moving TRANS_MetalDetector_Standing   ;MOVING -= ATTACKING [STANDING]
Animation      UIWRKR_SKL.UIWRKR_TRB1;take out standing
AnimationMode  ONCE
End
TransitionState  TRANS_MetalDetector_Standing TRANS_Moving   ;ATTACKING [STANDING] -= MOVING
Animation      UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End

TransitionState  TRANS_Moving TRANS_MetalDetector_Moving     ;MOVING -= MOVING ATTACKING
Animation      UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End
TransitionState  TRANS_MetalDetector_Moving TRANS_Moving     ;MOVING ATTACKING -= MOVING
Animation      UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.0
End


ConditionState  MOVING CARRYING
ShowSubObject  BOX
Animation  UIWRKR_SKL.UIWRKR_CARY 12
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Carry
ParticleSysBone  None InfantryDustTrails
End
; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
; since we flip the bit once we get pretty close to the target. but it looks
; funky to do the construction animation while moving.
; so just use the normal move animation in that case.
AliasConditionState  ACTIVELY_CONSTRUCTING MOVING CARRYING

ConditionState  CARRYING
Animation  UIWRKR_SKL.UIWRKR_CARST 30
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Carry
End

ConditionState  DYING
Animation  UIWRKR_SKL.UIWRKR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
AliasConditionState  DYING CARRYING

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIWRKR_SKL.UIWRKR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIWRKR_SKL.UIWRKR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIWRKR_SKL.UIWRKR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      UIWRKR_SKL.UIWRKR_CHA
AnimationMode  ONCE
End

ConditionState   ACTIVELY_CONSTRUCTING
Animation      UIWRKR_SKL.UIWRKR_BDA
AnimationMode  LOOP
TransitionKey  TRANS_Constructing
End
AliasConditionState  ACTIVELY_CONSTRUCTING CARRYING

; --------------------
ConditionState  DOCKING
Animation      UIWRKR_SKL.UIWRKR_PIK
AnimationMode  ONCE
TransitionKey  DroppingCrate
End

ConditionState  DOCKING CARRYING
Animation      UIWRKR_SKL.UIWRKR_PIK
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.3 2.3
Flags          START_FRAME_LAST
TransitionKey  DroppingCrate
End

TransitionState  TRANS_Stand TRANS_Constructing
Animation      UIWRKR_SKL.UIWRKR_TRA1
AnimationMode  ONCE
End

TransitionState  TRANS_Constructing TRANS_Stand
Animation      UIWRKR_SKL.UIWRKR_TRA2
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName  OBJECT:Worker
Side  GLA
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)


WeaponSet
Conditions  None
Weapon  PRIMARY None
End
WeaponSet
Conditions  MINE_CLEARING_DETAIL
Weapon  PRIMARY WorkerMineDisarmingWeapon
End


ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  100
ShroudClearingRange  220
;Prerequisites
;  Object  GLABarracks GLASupplyStash ;commented out, or else you can't build from Con Yard as Dozer.
;End
BuildCost  200
BuildTime  3.0          ;in seconds
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  GLAWorkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  WorkerVoiceSelect
VoiceMove  WorkerVoiceMove
VoiceAttack  WorkerVoiceMove
VoiceGuard  WorkerVoiceMove
VoiceFear  WorkerVoiceFear
VoiceTaskComplete  WorkerVoiceBuildComplete
UnitSpecificSounds
VoiceEnter         WorkerVoiceMoveUpgraded
VoiceEnterHostile  WorkerVoiceMoveUpgraded
VoiceGarrison      WorkerVoiceGarrison
VoiceCreate        WorkerVoiceCreate
VoiceSupply        WorkerVoiceSupply
VoiceNoBuild       WorkerVoiceBuildNot
VoiceRepair        WorkerVoiceRepair
VoiceDisarm        WorkerVoiceClearMine
VoiceBuildResponse  WorkerVoiceBuild
VoiceGetHealed     WorkerVoiceMoveUpgraded
VoiceMoveUpgraded  WorkerVoiceMoveUpgraded
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SALVAGER DOZER HARVESTER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  WorkerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond   2%    ; % of max health to repair each second
BoredTime                      5000  ; in milliseconds
BoredRange                     150   ; when bored, we look this far away to do something
MaxBoxes                       1
UpgradedSupplyBoost            8 ; gives this much more cash for every box collected
SupplyCenterActionDelay        150 ;400 ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay     150 ;400 ;ms per box (many small transactions)
SupplyWarehouseScanDistance    700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  WorkerVoiceSuppliesDepleted
; the only "enemies" that workers can acquire are mines, to be disarmed...
AutoAcquireEnemiesWhenIdle     Yes
End
Locomotor  SET_NORMAL FastHumanLocomotor
Locomotor  SET_NORMAL_UPGRADED WorkerShoesLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End
Behavior  LocomotorSetUpgrade ModuleTag_07
TriggeredBy  Upgrade_GLAWorkerShoes
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_WorkerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_WorkerDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_WorkerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SubObjectsUpgrade ModuleTag_ShoeVissual01
TriggeredBy     Upgrade_GLAWorkerShoes
ShowSubObjects  OMGL33TSHOES
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------Cinematic Only-----------------------------
Object CINE_akStature

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            CINE_akStature
Animation        CINE_akStature.CINE_akStature
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState     DOOR_1_OPENING
Model            CINE_akStature
Animation        CINE_akStature.CINE_akStature
AnimationMode    ONCE
ParticleSysBone  dustBone statDust1
AnimationSpeedFactorRange  1.01 1.01
End

ConditionState     DAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState     REALLYDAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState  RUBBLE
Model  CBBaikRock_CR
End

End

; ***DESIGN parameters ***
DisplayName      OBJECT:Structure
EditorSorting    STRUCTURE
ArmorSet
Conditions     None
Armor          StructureArmor
DamageFX       StructureDamageFXNoShake
End
CommandSet       BaikonurLaunchTowerCommandSet

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
Body                   ActiveBody ModuleTag_02
MaxHealth        200000.0
InitialHealth    200000.0
End

;Behavior  DestroyDie ModuleTag_03
;  ;nothing
;End
; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
; never truly destroyed, even when reduced to zero health. Also note that garrisonable
; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior  KeepObjectDie ModuleTag_IWantRubble
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  FlammableUpdate ModuleTag_05
FlameDamageLimit  20         ;Catch fire if I take this much fire damage...
FlameDamageExpiration  2000  ;in a span of this long
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  25       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_07
CreationList   OCL_PoisonFieldLarge
End

Behavior              FXListDie ModuleTag_08
DeathFX        FX_NukeGLA
End

Behavior  TransitionDamageFX ModuleTag_09
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Geometry               BOX
GeometryMajorRadius    1.0
GeometryMinorRadius    1.0
GeometryHeight         1.0
GeometryIsSmall        No
Shadow  NONE
End

;------------------------------------------------------------------------------
Object BombTruckDefaultBombRider

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object BombTruckDirtyNukeBombRider

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object BombTruckTacticalNukeBombRider

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object BombTruckMirvWarheadBombRider

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object BombTruckNeutronBombRider

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object DeadCommandTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  UVCmdTrk_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
;KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          3500
SinkRate           2     ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadGLAVehicleBM21GradHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVBM21_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
;KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          3500
SinkRate           2     ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadMarauderHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  UVMrdr_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          3000
SinkRate           2     ; in Dist/Sec
DestructionDelay   12000
End
End

;------------------------------------------------------------------------------
Object DeadScorpionHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  UVLiteTank_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   12000
End
End

;------------------------------------------------------------------------------
Object DeadCheetahHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVCheetah_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   12000
End
End

;------------------------------------------------------------------------------
Object DeadGLAVehicleStingerTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVStngTrck_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
;KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          3500
SinkRate           2     ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadGLAVehicleDemoTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVDemoTruck_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
;KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          3500
SinkRate           2     ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadBattleBusHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVBattBus_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   12000
End
End


;------------------------------------------------------------------------------
Object DeadSCUDLauncherHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVScudLchr_d1
End
ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVScudLchr_d1
Turret  TURRETUP01
TurretPitch  TURRETEL01
ShowSubObject  TURRETUP01
HideSubObject  TURRET TURRETUP02
End
ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVScudLchr_d1
Turret  TURRETUP02
TurretPitch  TURRETEL02
ShowSubObject  TURRETUP02
HideSubObject  TURRET TURRETUP01
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End

End

;------------------------------------------------------------------------------
Object DeadToxinTractorHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVToxinTrk_d1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadQuadCannonHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVQdCnn_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadBombTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVBmbTruk_d1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  3000   ; min lifetime in msec
MaxLifetime  4000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          4000
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadBombBioBombTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVBmbTruk_d1
End
End
Draw  W3DModelDraw ModuleTag_02323
DefaultConditionState
Model  UVAlphBmtrck
End
End

; ***DESIGN parameters ***
DisplayName  OBJECT:AnthraxBombTruckWreck
EditorSorting  SYSTEM
KindOf  IMMOBILE SELECTABLE STRUCTURE STICK_TO_TERRAIN_SLOPE NO_HEAL_ICON

; ***AUDIO parameters ***
SoundAmbient       ToxicPoolAmbientLoop

; *** ENGINEERING Parameters ***
ArmorSet
Conditions       None
Armor            BattleBusTruckArmorPlusOne
DamageFX         TruckDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         1000.0
InitialHealth     1000.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  MediumPoisonFieldWeapon
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_ToxicPoolDie
End

Behavior         CreateObjectDie ModuleTag_Death01
CreationList   OCL_PoisonFieldMedium
End

Behavior         CreateObjectDie ModuleTag_Death02
CreationList   OCL_BombTruckHulk
End

Behavior         FXListDie ModuleTag_Death03
DeathFX        FX_BuggyNewDeathExplosion
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object DeadBombAmthraxBombTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVBmbTruk_d1
End
End
Draw  W3DModelDraw ModuleTag_02323
DefaultConditionState
Model  UVBetaBmtrck
End
End

; ***DESIGN parameters ***
DisplayName  OBJECT:AnthraxBombTruckWreck
EditorSorting  SYSTEM
KindOf  IMMOBILE SELECTABLE STRUCTURE STICK_TO_TERRAIN_SLOPE NO_HEAL_ICON

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop

; *** ENGINEERING Parameters ***
ArmorSet
Conditions       None
Armor            BattleBusTruckArmorPlusOne
DamageFX         TruckDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         1000.0
InitialHealth     1000.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  MediumPoisonFieldWeaponUpgraded
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_ToxicPoolDie
End

Behavior         CreateObjectDie ModuleTag_Death01
CreationList   OCL_PoisonFieldUpgradedMedium
End

Behavior         CreateObjectDie ModuleTag_Death02
CreationList   OCL_BombTruckHulk
End

Behavior         FXListDie ModuleTag_Death03
DeathFX        FX_BuggyNewDeathExplosion
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object DeadTechnicalVanHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVTECHVAN_d1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadTechnicalJeepHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVTECHJEEP_d1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadTechnicalTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVTECHTRCK_d1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadRocketBuggyHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVRocketBug_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadCombatBikeHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVComBike_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2    ; in Dist/Sec
DestructionDelay   16000
End

End


;---------------------------------------------------------------------------
Object GazelleRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         UVPDstr_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object GLAJetInterceptorHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model            UVFitter_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object DeadRadarVanHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVObsVan_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          5000
SinkRate           2     ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadRecyclerHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVRecylr_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          5000
SinkRate           2     ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object DeadMobileGPSHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UVMblGPS_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          5000
SinkRate           2     ; in Dist/Sec
DestructionDelay   16000
End

End

;------------------------------------------------------------------------------
Object GLACargoHelicopterRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVHook_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End

End

;------------------------------------------------------------------------------
Object GLAJetVultureHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model            UVVulture_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object DeadAhtraxRecyclerTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVReclrTox
End
End

; ***DESIGN parameters ***
DisplayName  OBJECT:AnthraxBombTruckWreck
EditorSorting  SYSTEM
KindOf  IMMOBILE SELECTABLE STRUCTURE STICK_TO_TERRAIN_SLOPE

; ***AUDIO parameters ***
SoundAmbient       ToxicPoolAmbientLoop

; *** ENGINEERING Parameters ***
ArmorSet
Conditions       None
Armor            BattleBusTruckArmorPlusOne
DamageFX         TruckDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         1000.0
InitialHealth     1000.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  ToxinRecyclerPoisonFieldWeapon
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_ToxicPoolDie
End

Behavior         CreateObjectDie ModuleTag_Death01
CreationList   OCL_PoisonFieldRecycler
End

Behavior         CreateObjectDie ModuleTag_Death02
CreationList   OCL_RecyclerDeathEffect
End

Behavior         FXListDie ModuleTag_Death03
DeathFX        FX_BuggyNewDeathExplosion
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object DeadAhtraxBetaRecyclerTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  UVReclrBta
End
End

; ***DESIGN parameters ***
DisplayName  OBJECT:AnthraxBombTruckWreck
EditorSorting  SYSTEM
KindOf  IMMOBILE SELECTABLE STRUCTURE STICK_TO_TERRAIN_SLOPE

; ***AUDIO parameters ***
SoundAmbient       ToxicPoolAmbientLoop

; *** ENGINEERING Parameters ***
ArmorSet
Conditions       None
Armor            BattleBusTruckArmorPlusOne
DamageFX         TruckDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         1000.0
InitialHealth     1000.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  ToxinRecyclerPoisonFieldBetaWeapon
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_ToxicPoolDie
End

Behavior         CreateObjectDie ModuleTag_Death01
CreationList   OCL_PoisonFieldRecyclerBeta
End

Behavior         CreateObjectDie ModuleTag_Death02
CreationList   OCL_RecyclerDeathEffect
End

Behavior         FXListDie ModuleTag_Death03
DeathFX        FX_BuggyNewDeathExplosion
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object GLARocketBuggyFullDebris

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVRkBgy_D1
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:RocketBuggyDebris
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority          UNIT
KindOf                 CAN_CAST_REFLECTIONS

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_06
DestructionDelay           500
DestructionDelayVariance   1500
OCL                        FINAL     OCL_RocketBuggyAirDeath
FX                         INITIAL   FX_RocketBuggyAirDeathGroundPart
FX                         FINAL     FX_RocketBuggyAirDeathAirPart    ; This happens in the air
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLACombatBikeFullDebris

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVComBike_D1
End
End

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority          UNIT
KindOf                 CAN_CAST_REFLECTIONS

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_06
DestructionDelay           500
DestructionDelayVariance   1500
OCL                        FINAL     OCL_CombatBikeAirDeath
FX                         INITIAL   FX_RocketBuggyAirDeathGroundPart
FX                         FINAL     FX_RocketBuggyAirDeathAirPart    ; This happens in the air
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLACombatBikeToppledHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVComBike_D1
End
End

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority          UNIT
KindOf                 CAN_CAST_REFLECTIONS

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1
SinkRate  1.0
DestructionDelay  3000
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RocketBuggyMissileDebris

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RocketBuggyDebris
EditorSorting      SYSTEM
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  3
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
DestructionDelay  500
DestructionDelayVariance  500
FX  INITIAL FX_BuggyMissileDebris
FX  FINAL WeaponFX_RocketBuggyMissileDetonation
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GLAParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVChute
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  UVChute
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  UVChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  UVChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAVehicleParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVVChute_A
Animation  UVVChute_A.UVVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  UVVChute_B
Animation  UVVChute_B.UVVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  UVVChute_C
Animation  UVVChute_C.UVVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  UVVChute_C
Animation  UVVChute_C.UVVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   10
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    15.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_PadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLACrateParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  UVVChute_A
Animation  UVVChute_A.UVVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  UVVChute_B
Animation  UVVChute_B.UVVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  UVVChute_C
Animation  UVVChute_C.UVVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  UVVChute_C
Animation  UVVChute_C.UVVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    12.5  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.1
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object TechAirStrikeGLAPlaneLauncher

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  UVKamikaze_B
WeaponLaunchBone  SECONDARY WeaponA
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  150.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY   TechAirstrikeGLASuicideBombers
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      130
MaxDelay      130
OCL           OCL_CreateRealFortress
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  No
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  200
MaxLifetime  200
End

Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL
DestructionDelay   1300
Weapon  FINAL GLASuicidePlaneAttackVoiceWeapon
End


Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0

End

;------------------------------------------------------------------------------
Object TechAirStrikeGLAPlaneLauncher_NoVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  UVKamikaze_B
WeaponLaunchBone  SECONDARY WeaponA
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  150.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY   TechAirstrikeGLASuicideBombers
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      130
MaxDelay      130
OCL           OCL_CreateRealFortress
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  No
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  200
MaxLifetime  200
End


Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0

End

;------------------------------------------------------------------------------
Object TechAirStrikeGLASuicideBomberProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVKamikaze
Animation  UVKamikaze.UVKamikaze
AnimationMode  LOOP
ParticleSysBone  NONE JetBlackTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD CAN_CAST_REFLECTIONS PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

; ---- death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
FX          WeaponFX_BombTruckDefaultBombDetonation
OCL         OCL_GlaAirstrikeSuicdePlaneDebris
Weapon      TechAirstrikeGLASuicidePlaneDamageWeapon
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_04
TryToFollowTarget    No
DetonateCallsKill    Yes
FuelLifetime         0
IgnitionDelay        0
InitialVelocity      0
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving   0
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  15.0
TargetHeightIncludesStructures  Yes
End

Locomotor  SET_NORMAL SuicideAirplaneLocomotor

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX               89

End

; -----------------------------------------------------------------------------
; Special Recycelr Tech Salvage Crate spawned by Tier1 and Tier2 units of each faction
; -----------------------------------------------------------------------------



; -----------------------------------------------------------------------------
Object SalvageCrate_AmericaT1

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT2 CHIT1 CHIT2 GLAT1 GLAT2 RUST1 RUST2 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE EMP_HARDENED
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerAmericanTier1RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerAmericanTier1RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateAmericaTier1
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerAmericanTier1RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockAmericanTier1TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockAmericanTier1TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_America_Tier1
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_AmericaT2

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 CHIT1 CHIT2 GLAT1 GLAT2 RUST1 RUST2 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerAmericanTier2RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerAmericanTier2RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateAmericaTier2
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerAmericanTier2RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockAmericaTier2TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockAmericaTier2TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_America_Tier2
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_ChinaT1

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT2 GLAT1 GLAT2 RUST1 RUST2 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerChinaTier1RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerChinaTier1RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateChinaTier1
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerChineseTier1RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockChinaTier1TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockChinaTier1TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_China_Tier1
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_ChinaT2

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT1 GLAT1 GLAT2 RUST1 RUST2 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerChinaTier2RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerChinaTier2RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateChinaTier2
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerChineseTier2RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockChinaTier2TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockChinaTier2TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_China_Tier2
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_GLAT1

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT1 CHIT2 GLAT2 RUST1 RUST2 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerGLATier1RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerGLATier1RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateGLATier1
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerGLATier1RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockGLATier1TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockGLATier1TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_GLA_Tier1
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_GLAT2

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT1 CHIT2 GLAT1 RUST1 RUST2 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerGLATier2RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerGLATier2RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateGLATier2
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerGLATier2RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockGLATier2TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockGLATier2TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_GLA_Tier2
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_RussiaT1

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT1 CHIT2 GLAT1 GLAT2 RUST2 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerRussiaTier1RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerRussiaTier1RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateRussiaTier1
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerRussiaTier1RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockRussiaTier1TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockRussiaTier1TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_Russia_Tier1
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_RussiaT2

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT1 CHIT2 GLAT1 GLAT2 RUST1 ECAT1 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerRussiaTier2RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerRussiaTier2RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateRussiaTier2
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerRussiaTier2RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockRussiaTier2TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockRussiaTier2TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_Russia_Tier2
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_EuropeT1

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT1 CHIT2 GLAT1 GLAT2 RUST1 RUST2 ECAT2
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerEuropeTier1RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerEuropeTier1RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateEuropeTier1
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerEuropeTier1RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockEuropeTier1TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockEuropeTier1TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_Europe_Tier1
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

; -----------------------------------------------------------------------------
Object SalvageCrate_EuropeT2

; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  PMJnkCrtT
End
End

Draw  W3DScienceModelDraw ModuleTag_FactionIcon01
RequiredScience  SCIENCE_GLA ; Only GLA players and observers can see us.
DefaultConditionState
Model  EXRecCrtIco
HideSubObject  USAT1 USAT2 CHIT1 CHIT2 GLAT1 GLAT2 RUST1 RUST2 ECAT1
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_GLA   ; Only GLA players can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup    ; FXList to play when sucessfully picked up

WeaponChance  100%           ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%             ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%             ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                 ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
End

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerEuropeTier2RecoveringObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_CratePickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  120000
MaxLifetime  125000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RecyclerEuropeTier2RecoveringObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMJnkCrtT
End
End
Draw  W3DModelDraw ModuleTag_Effects01
DefaultConditionState
Model  EXRecycle
Animation  EXRecycle.EXRecycle
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  NONE RecyclerRecoveringTechCrateRings
End
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:RecyclingSalvage
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            NoArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FXListDie ModuleTag_1452323
DeathTypes  ALL
DeathFX  FX_BattleMasterExplosionOneFinal
End


Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10033   ; min lifetime in msec
MaxLifetime  10033   ; max lifetime in msec
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      10000
MaxDelay      10000
OCL           OCL_RecyclerRecoveringCrateEuropeTier2
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

End

; -----------------------------------------------------------------------------
Object RecyclerEuropeTier2RecoveringObjectCrate

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE

Behavior  UnitCrateCollide ModuleTag_04
UnitCount  1
UnitName  RecyclerUnlockEuropeTier2TechObject
RequiredKindOf  EMP_HARDENED
PickupScience  SCIENCE_GLA
BuildingPickup  No
ForbidOwnerPlayer  No
ExecuteFX  FX_SalvageCrateRecoveryPickup
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100
MaxLifetime  100
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

; -----------------------------------------------------------------------------
Object RecyclerUnlockEuropeTier2TechObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  GrantUpgradeCreate ModuleTag_02
UpgradeToGrant  Upgrade_CostReduction
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantScienceUpgrade ModuleTag_03
GrantScience  SCIENCE_Europe_Tier2
TriggeredBy   Upgrade_CostReduction
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  100     ; one pulse
MaxLifetime  100
End

End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;; Sabotage Objects Begins Here ;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;------------------------------------------------------------------------------
Object SabotageCursor

Draw  W3DModelDraw ModuleTag_ShadowDraw01
DefaultConditionState
Model  NVDeva_U2
End
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  180;
ShadowSizeY  180;
ShadowTexture  SCCSabotage;

End

; -----------------------------------------------------------------------------
;We use a crate to make sure only objects with the kindof "VEHICLE" receive damage
Object SabotageDamageCrateOne
; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  CRATE
Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf     VEHICLE
ForbiddenKindOf    AIRCRAFT
ExecuteFX          FX_SabotageOil
UnitCount          1
BuildingPickup     No
ForbidOwnerPlayer  Yes
UnitName           SabotageDamageObjectOne
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

;Note the geometry should match the disable effect radius for this power to work correctly
Geometry  CYLINDER
GeometryMajorRadius  90.0
GeometryMinorRadius  90.0
GeometryHeight  20.0

End

;------------------------------------------------------------------------------
Object SabotageDamageObjectOne

; ***DESIGN parameters ***
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    SabotageRankOneDamageWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_07
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_SabotageSalvageCrate
End

End

;------------------------------------------------------------------------------
Object SabotageDissableEffectOne

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model  NONE
ParticleSysBone  NONE VehicleSabotagedRadiusRing
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     10000
Lifetime             500
StartFadeTime        300
StartScale           0.01
TargetScaleMin       3.00
TargetScaleMax       4.00
StartColor           R:255 G:255 B:255
EndColor             R:0 G:0 B:0
DoesNotAffectMyOwnBuildings  No
EffectRadius         90
VictimForbiddenKindOf  STRUCTURE
VictimRequiredKindOf   VEHICLE
DisableFXParticleSystem  VehicleSabotagedEffect
End

Geometry             SPHERE
GeometryMajorRadius  1.0
GeometryIsSmall      No

End

; -----------------------------------------------------------------------------
;We use a crate to make sure only objects with the kindof "VEHICLE" receive damage
Object SabotageDamageCrateTwo
; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  CRATE
Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf     VEHICLE
ForbiddenKindOf    AIRCRAFT
ExecuteFX          FX_SabotageOil
UnitCount          1
BuildingPickup     No
ForbidOwnerPlayer  Yes
UnitName           SabotageDamageObjectTwo
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

;Note the geometry should match the disable effect radius for this power to work correctly
Geometry             SPHERE
GeometryMajorRadius  90.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object SabotageDamageObjectTwo

; ***DESIGN parameters ***
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    SabotageRankTwoDamageWeapon
StartsActive   Yes
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_SabotageSalvageCrate
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object SabotageDissableEffectTwo

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model  NONE
ParticleSysBone  NONE VehicleSabotagedRadiusRing
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     15000
Lifetime             500
StartFadeTime        300
StartScale           0.01
TargetScaleMin       3.00
TargetScaleMax       4.00
StartColor           R:255 G:255 B:255
EndColor             R:0 G:0 B:0
DoesNotAffectMyOwnBuildings  No
EffectRadius         90
VictimForbiddenKindOf  STRUCTURE
VictimRequiredKindOf   VEHICLE
DisableFXParticleSystem  VehicleSabotagedEffect
End

Geometry             SPHERE
GeometryMajorRadius  1.0
GeometryIsSmall      No

End

; -----------------------------------------------------------------------------
;We use a crate to make sure only objects with the kindof "VEHICLE" receive damage
Object SabotageDamageCrateThree
; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  CRATE
Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf     VEHICLE
ForbiddenKindOf    AIRCRAFT
ExecuteFX          FX_SabotageOil
UnitCount          1
BuildingPickup     No
ForbidOwnerPlayer  Yes
UnitName           SabotageDamageObjectThree
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

;Note the geometry should match the disable effect radius for this power to work correctly
Geometry             SPHERE
GeometryMajorRadius  90.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object SabotageDamageObjectThree

; ***DESIGN parameters ***
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    SabotageRanktThreeDamageWeapon
StartsActive   Yes
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_SabotageSalvageCrate
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object SabotageDissableEffectThree

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model  NONE
ParticleSysBone  NONE VehicleSabotagedRadiusRing
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     20000
Lifetime             500
StartFadeTime        300
StartScale           0.01
TargetScaleMin       3.00
TargetScaleMax       4.00
StartColor           R:255 G:255 B:255
EndColor             R:0 G:0 B:0
DoesNotAffectMyOwnBuildings  No
EffectRadius         90
VictimForbiddenKindOf  STRUCTURE
VictimRequiredKindOf   VEHICLE
DisableFXParticleSystem  VehicleSabotagedEffect
End

Geometry             SPHERE
GeometryMajorRadius  1.0
GeometryIsSmall      No

End

; -----------------------------------------------------------------------------
Object SabotageSalvageCrate
; *** ART Parameters ***
Draw  W3DScienceModelDraw ModuleTag_01
RequiredScience  SCIENCE_OilSabotage1 ; Only GLA players with the sabotage power can see these
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMSabJnkCrt
End
End

; ***DESIGN parameters ***
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE SELECTABLE ;Only Salvage crates are marked Selectable so the Mouse can interact with them and give Salvage voices.  Being dead makes them not actually selectable

Behavior  SalvageCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE
PickupScience  SCIENCE_OilSabotage1    ; Only GLA players with the sabotage power can pick this up (Draw module makes it so only they can see it)
ExecuteFX  FX_CratePickup              ; FXList to play when sucessfully picked up
WeaponChance  100%                     ; If we are WeaponSalvager, this is the chance we get a WeaponSet upgrade if not fully upgraded
LevelChance  25%                       ; Either we are just a regular Salvager, or we are fully upgraded.  This is the chance we gain a level
MoneyChance  75%                       ; And this is the chance we get money.  Level + Money  100%.  Weapon is an idependant FirstChance
MinMoney  25                           ; If we get money, this is how much we get.  Make them different to get a random range.
MaxMoney  75
ForbidOwnerPlayer  Yes
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  60000
MaxLifetime  65000
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  12.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;; Sabotage Objects Ends Here ;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;------------------------------------------------------------------------------
Object GLAJetCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model            UVCargoPln
Animation        UVCargoPln.UVCargoPln
AnimationMode    LOOP
ParticleSysBone  Engine01 JetBlackTrail
ParticleSysBone  Engine02 JetBlackTrail
ParticleSysBone  Engine03 JetBlackTrail
ParticleSysBone  Engine04 JetBlackTrail
End
ConditionState  DAMAGED
Model            UVCargoPln_D
Animation        UVCargoPln_D.UVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            UVCargoPln_D
Animation        UVCargoPln_D.UVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  RUBBLE
Model            UVCargoPln_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            UVCargoPln_A2
Animation        UVCargoPln_A2.UVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            UVCargoPln_A2
Animation        UVCargoPln_A2.UVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            UVCargoPln_A2
Animation        UVCargoPln_A2.UVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  GLACrateParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE FORCEATTACKABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponAnthraxBomb
UpgradeOCL            SCIENCE_AnthraxBomb_BetaUpgrade  SUPERWEAPON_AnthraxBomb
OCL                   SUPERWEAPON_AnthraxBomb
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_11
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_12
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAJetCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model            UVBoxcar
Animation        UVBoxcar.UVBoxcar
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  PROPELLER01 JetBlackTrail
ParticleSysBone  PROPELLER02 JetBlackTrail
End
ConditionState  DAMAGED
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  PROPELLER01 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  PROPELLER01 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  RUBBLE
Model            UVBoxcar_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End

OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_02

DefaultConditionState
Model            UVBoxcar
Animation        UVBoxcar.UVBoxcar
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End

ConditionState  DOOR_1_OPENING
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End

ConditionState  DOOR_1_CLOSING
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

ConditionState  REALLYDAMAGED
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED DOOR_1_OPENING
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End

ConditionState  REALLYDAMAGED DOOR_1_CLOSING
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  BoxcarAmbientLoop
SoundAmbientRubble  NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  GLACrateParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE FORCEATTACKABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponAnthraxBomb
UpgradeOCL            SCIENCE_AnthraxBomb_BetaUpgrade  SUPERWEAPON_AnthraxBomb
OCL                   SUPERWEAPON_AnthraxBomb
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_11
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_12
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLASuicideBomberProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVKamikaze
Animation  UVKamikaze.UVKamikaze
AnimationMode  LOOP
ParticleSysBone  NONE JetBlackTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0
ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS AIRCRAFT

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

; ---- death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
FX          WeaponFX_BombTruckDefaultBombDetonation
OCL         OCL_GlaAirstrikeSuicdePlaneDebris
Weapon      GLASuicidePlaneDamageWeapon
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_04
TryToFollowTarget    Yes
DetonateCallsKill    Yes
FuelLifetime         0
IgnitionDelay        0
InitialVelocity      0
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving   0
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  15.0
TargetHeightIncludesStructures  Yes
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponOverwatch
End

Locomotor  SET_NORMAL SuicideAirplaneLocomotor

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX               89

End

;------------------------------------------------------------------------------
Object OverwatchCursor

Draw  W3DModelDraw ModuleTag_ShadowDraw01
DefaultConditionState
Model  EXOvrwtch_3
End
End

PlacementViewAngle  -180

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  340;
ShadowSizeY  340;
ShadowTexture  SCCOvrwtch;

End

;------------------------------------------------------------------------------
Object OverwatchMarkerOne

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model                NONE
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXOvrwtch_1
WeaponLaunchBone  SECONDARY Skull
HideSubObject  Torus01
End

End

Draw                       W3DOverlordTankDraw ModuleTag_Decal01
ExtraPublicBone  PLANE01

ConditionState  NONE
Model                EXAmmoDump_B
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model                  EXAmmoDump
Animation              EXAmmoDump.EXAmmoDump
AnimationMode          LOOP
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  150.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY OverwatchPlaneLauncherObjectWeaponOne
End

ArmorSet
Conditions       None
Armor            OverwatchMarkerArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Body  ActiveBody ModuleTag_02
MaxHealth        200000.0
InitialHealth    200000.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  StealthUpdate ModuleTag_Stealth03
StealthDelay  0
StealthForbiddenConditions  NONE
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  300000
MaxLifetime  300000
End

Behavior  OverlordContain ModuleTag_RotatingDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    OverwatchMarkerDecal
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0

End


;------------------------------------------------------------------------------
Object OverwatchMarkerTwo

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model                NONE
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXOvrwtch_2
WeaponLaunchBone  SECONDARY Skull
HideSubObject  Torus01
End

End

Draw                       W3DOverlordTankDraw ModuleTag_Decal01
ExtraPublicBone  PLANE01

ConditionState  NONE
Model                EXAmmoDump_B
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model                  EXAmmoDump
Animation              EXAmmoDump.EXAmmoDump
AnimationMode          LOOP
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  150.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY OverwatchPlaneLauncherObjectWeaponTwo
End

ArmorSet
Conditions       None
Armor            OverwatchMarkerArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Body  ActiveBody ModuleTag_02
MaxHealth        400000.0
InitialHealth    400000.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  StealthUpdate ModuleTag_Stealth03
StealthDelay  0
StealthForbiddenConditions  NONE
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  300000
MaxLifetime  300000
End

Behavior  OverlordContain ModuleTag_RotatingDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    OverwatchMarkerDecal
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0

End

;------------------------------------------------------------------------------
Object OverwatchMarkerDecal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  PLANE01
DefaultConditionState
Model                EXBlackout
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI ALWAYS_VISIBLE
Body             StructureBody ModuleTag_02
MaxHealth        500000.0
InitialHealth    500000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
Shadow  SHADOW_DECAL
ShadowSizeX  340;
ShadowSizeY  340;
ShadowTexture  SCCOvrwtch;

End

;------------------------------------------------------------------------------
Object OverwatchMarkerPlaneLauncher

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  UVKamikaze_B
WeaponLaunchBone  SECONDARY WeaponA
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  170.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY   OverwatchSuicidePlaneWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  CAN_ATTACK NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  33
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon                GLASuicidePlaneAttackVoiceWeapon
InitialDelay          1300
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  3500
MaxLifetime  3500
End

Behavior              DestroyDie ModuleTag_Die01
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_KillMarker01
DeathWeapon    OverwatchPlaneMarkerKillWeapon
StartsActive   Yes
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object GLACargoHelicopter

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  HookCargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     GLACrateParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior  HelicopterSlowDeathBehavior ModuleTag_CrashtoDeath01
DestructionDelay                 100000          ; the destruction delay
SpiralOrbitTurnRate              180.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          120.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       10              ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                GLACargoHelicopterRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLACargoHelicopter_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  HookCargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     GLACrateParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior  HelicopterSlowDeathBehavior ModuleTag_CrashtoDeath01
DestructionDelay                 100000          ; the destruction delay
SpiralOrbitTurnRate              180.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          120.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       10              ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60              ; in degrees per second
MaxSelfSpin                      120             ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25              ; in degrees
FallHowFast                      12.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                GLACargoHelicopterRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAAirforceLimitsSpawnerObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf   IGNORED_IN_GUI NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  DestroyDie ModuleTag_0Y
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_GLAAirforceLimitObjects
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime  1
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
End

;------------------------------------------------------------------------------
Object GLAAirStripLimitOneObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  Airstrip

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

; -----------------------------------------------------------------------------
Object GLAAirStripLimitOneCrateObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf  UNATTACKABLE
ForbiddenKindOf  STRUCTURE VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED
;ExecuteFX  FX_CratePickup
;PickupScience  SCIENCE_GLAAirforce2
UnitCount  1
UnitName  GLAAirfieldLimitKillerObject
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  300
MaxLifetime  300
End

Shadow               SHADOW_VOLUME
Geometry  BOX
GeometryMajorRadius  4.0
GeometryMinorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAAirStripLimitTwoObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  Airstrip

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

; -----------------------------------------------------------------------------
Object GLAAirStripLimitTwoCrateObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf  UNATTACKABLE
ForbiddenKindOf  STRUCTURE VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED
;ExecuteFX  FX_CratePickup
;PickupScience  SCIENCE_GLAAirforce3
UnitCount  1
UnitName  GLAAirfieldLimitKillerObject
End

Behavior  DeletionUpdate ModuleTag_03blugh
MinLifetime  300
MaxLifetime  300
End

Shadow               SHADOW_VOLUME
Geometry  BOX
GeometryMajorRadius  4.0
GeometryMinorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This object triggers a status on airfield limit objects that causes them to kill themselfs
Object GLAAirfieldLimitKillerObject

; ***DESIGN parameters ***
Side                 GLA
DisplayName          FACTION:GLA
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLAAirforceGeneralsPowerUnlockCollisionSelfKillDummyWeapon
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_03blugh
MinLifetime  300
MaxLifetime  300
End

End

;------------------------------------------------------------------------------
Object GLAAircraftLimitOneObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  6
MaxSimultaneousLinkKey  GLA_Aircraft

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object GLAAircraftLimitTwoObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  6
MaxSimultaneousLinkKey  GLA_Aircraft

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object CombatDrugsCursor

Draw  W3DModelDraw ModuleTag_ShadowDraw01
DefaultConditionState
Model  NVDeva_U2
End
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  255;
ShadowSizeY  255;
ShadowTexture  SCCDrugs;

End


;------------------------------------------------------------------------------
Object CombatDrugsCursorMarker

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None CombatDrugsIcon
ParticleSysBone  None CombatDrugsRadiusRing
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf  CAN_ATTACK INFANTRY; Must be set
ForbiddenAffectKindOf  STRUCTURE DEMOTRAP UNATTACKABLE VEHICLE DRONE AIRCRAFT ; Must be clear
BonusDuration  25000             ; How long effect lasts
BonusDelay  100000               ; How often to pulse (short lifetime will trump, of course)
BonusRange  120                  ; Keep in line with radius cursor size in special power template
BonusConditionType  HORDE        ; And which bonus to give
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  CombatDrugsFriendlyDamageWeapon
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1 ;one pulse
MaxLifetime  1
End
End


;------------------------------------------------------------------------------
Object RefinedCombatDrugsCursorMarker

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None CombatDrugsIcon
ParticleSysBone  None CombatDrugsRadiusRing
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf  CAN_ATTACK INFANTRY; Must be set
ForbiddenAffectKindOf  STRUCTURE DEMOTRAP UNATTACKABLE VEHICLE DRONE AIRCRAFT ; Must be clear
BonusDuration  25000             ; How long effect lasts
BonusDelay  100000               ; How often to pulse (short lifetime will trump, of course)
BonusRange  120                  ; Keep in line with radius cursor size in special power template
BonusConditionType  HORDE        ; And which bonus to give
End

Behavior  AutoHealBehavior ModuleTag_08 ;this is now only for aircraft ground units use a different heal logic
HealingAmount      1000.0
HealingDelay       1
Radius             120.0
StartsActive       Yes
KindOf             INFANTRY
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  RefinedCombatDrugsFriendlyDamageWeapon
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1 ;one pulse
MaxLifetime  1
End

End

;------------------------------------------------------------------------------
Object FactionGLA

; ***DESIGN parameters ***
Side                 GLA
DisplayName          FACTION:GLA
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ComancheLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

End

;This is the object that the command center creates when it's sheltered within the chemical lab
;It controls all command center functions we'd like the player to think the command center has.
;------------------------------------------------------------------------------
Object GLA_ChemicalLabRadarObjectDummy

; ***DESIGN parameters ***
DisplayName          Object:DeployedCommandCenter ;give it a name so that displays as building requirements for tier 2 tech.
EditorSorting        SYSTEM
Side                 GLA
TransportSlotCount   0


ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD NO_COLLIDE IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_04
MaxHealth        100000000.0
InitialHealth    100000000.0
End

Behavior         RadarUpgrade ModuleTag_Radar01
TriggeredBy    Upgrade_CostReduction
DisableProof   Yes
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  1500
MaxLifetime  1500
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object GLA_ChemicalLabGeneralsPowersObjectDummy

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100
InitialHealth    100
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ComancheLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  6000
MaxLifetime  6000
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  ProductionUpdate ModuleTag_Production01
End

Behavior  SlavedUpdate ModuleTag_Slave07
GuardMaxRange      1 ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange   1 ;How far away I'm allowed to wander from master while guarding.
AttackRange        1 ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1 ;How far I'm allowed to wander from target.
ScoutRange         1 ;How far away from master I'm allowed when master is moving.
ScoutWanderRange   1 ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  OCLSpecialPower ModuleTag_RadarScan01
SpecialPowerTemplate  SpecialPowerRadarVanScan
OCL                   SUPERWEAPON_RadarVanScan
CreateLocation        CREATE_AT_LOCATION
StartsPaused          No
End

Behavior  CashBountyPower ModuleTag_CashBounty01
SpecialPowerTemplate     SpecialAbilityCashBounty1
Bounty                   10%
End
Behavior  CashBountyPower ModuleTag_CashBounty02
SpecialPowerTemplate     SpecialAbilityCashBounty2
Bounty                   20%
End
Behavior  CashBountyPower ModuleTag_CashBounty03
SpecialPowerTemplate     SpecialAbilityCashBounty3
Bounty                   30%
End

;;;;;;;;;;;;;Start Command Center Generals Powers  ;;;;;;;;;;;;;

Behavior            OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponRebelAmbush
UpgradeOCL            SCIENCE_RebelAmbush3 SUPERWEAPON_RebelAmbush3
UpgradeOCL            SCIENCE_RebelAmbush2 SUPERWEAPON_RebelAmbush2
OCL                   SUPERWEAPON_RebelAmbush1
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponAnthraxBomb
UpgradeOCL            SCIENCE_AnthraxBomb_BetaUpgrade  SUPERWEAPON_AnthraxBomb
OCL                   SUPERWEAPON_AnthraxBomb
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower05
SpecialPowerTemplate  SuperweaponSneakAttack
OCL                   OCL_CreateSneakAttackTunnelStart
ReferenceObject       GLASneakAttackTunnelNetwork
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower06
SpecialPowerTemplate  SuperweaponOilSabotage
OCL                   SUPERWEAPON_OilSabotage1
UpgradeOCL            SCIENCE_OilSabotage3 SUPERWEAPON_OilSabotage3
UpgradeOCL            SCIENCE_OilSabotage2 SUPERWEAPON_OilSabotage2
ReferenceObject       OilSabotageDecalObject
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower07
SpecialPowerTemplate  SuperWeaponGlaInformant
OCL                   SUPERWEAPON_Informant
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower08
SpecialPowerTemplate  SuperweaponInsurrection
OCL                   SUPERWEAPON_Insurrection
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponCombatDrugs
OCL                   SUPERWEAPON_CombatDrugs
UpgradeOCL            SCIENCE_RefinedCombatDrugs SUPERWEAPON_RefinedCombatDrugs
ReferenceObject       CombatDrugsCursor
CreateLocation        CREATE_AT_LOCATION
OCLAdjustPositionToPassable  No
End

;;;;;;;;;;;;;End Command Center Generals Powers  ;;;;;;;;;;;;;

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  19.0
GeometryHeight  17.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;This is the object that the command center creates when it's deployed
;It controls all command center functions we'd like the player to think the command center has.
;------------------------------------------------------------------------------
Object GLA_RadarObjectDummy

;  Draw  W3DModelDraw ModuleTag_01
;    OkToChangeModelColor  Yes
;    ConditionState  None
;      Model  AVBOMBER
;    End
;  End

; ***DESIGN parameters ***
DisplayName          Object:DeployedCommandCenter ;give it a name so that displays as building requirements for tier 2 tech.
EditorSorting        SYSTEM
Side                 GLA
TransportSlotCount   0


ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD NO_COLLIDE IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_04
MaxHealth        100000000.0
InitialHealth    100000000.0
End

Behavior         RadarUpgrade ModuleTag_Radar01
TriggeredBy    Upgrade_CostReduction
DisableProof   Yes
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  1000
MaxLifetime  1000
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  19.0
GeometryHeight  17.0
GeometryIsSmall  No

End


;------------------------------------------------------------------------------
Object GLA_RadarObjectCollisionDummy

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Geometry  CYLINDER
GeometryMajorRadius  20.0
GeometryMinorRadius  20.0
GeometryHeight  20.0

End

;------------------------------------------------------------------------------
Object GLACommandTruckVictoryObject

;  Draw  W3DModelDraw ModuleTag_01
;    OkToChangeModelColor  Yes
;    ConditionState  None
;      Model  AVBOMBER
;    End
;  End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 GLA
TransportSlotCount   0


ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD NO_COLLIDE IMMOBILE STRUCTURE MP_COUNT_FOR_VICTORY UNATTACKABLE

Body  ActiveBody ModuleTag_04
MaxHealth        100000000.0
InitialHealth    100000000.0
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  300
MaxLifetime  300
End

Geometry  BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight  -1.0
GeometryIsSmall  No

End


;------------------------------------------------------------------------------
Object DemoTruckRemoveDemoTrapUpgradeObject

EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End

Locomotor  SET_NORMAL BattleDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_DemoTruckPurchaseDemoTrap ModuleTag_DemoTrap02
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_DemoTrap04
End

Behavior  LifetimeUpdate ModuleTag_DIE01
MinLifetime        1
MaxLifetime        1
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RocketBuggyHornTauntDelayObject

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerWorthlessCommandSet ModuleTag_BarrelRoll02
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  8000
MaxLifetime  8000
End

Behavior  FireWeaponUpdate ModuleTag_233
Weapon  RocketBuggyTauntWeapon
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ScramblerTrackJamPulseEffect

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXJamPulse
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     0.0
Lifetime             1200
StartFadeTime        300
StartScale           0.01
TargetScaleMin       5.45
TargetScaleMax       5.45
EffectRadius         1.0

StartColor                   R:255 G:255 B:255
EndColor                     R:255 G:255 B:255
DoesNotAffectMyOwnBuildings  No
DisableFXParticleSystem      Nada
DoesNotAffectMyOwnBuildings  No
DoesNotAffect                ALLIES SELF
VictimForbiddenKindOf        AIRCRAFT STRUCTURE
End

Behavior  FireWeaponUpdate ModuleTag_DissableEffect01
Weapon  ScramblerTrackJammingPulseDisableWeapon
InitialDelay  600
End

Geometry             SPHERE
GeometryMajorRadius  30.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object GazelleToxinSprayer

Draw                     W3DModelDraw ModuleTag_ToxinUpgrade01

OkToChangeModelColor   Yes

ConditionState       NONE
Model              NONE
ParticleSysBone    NONE GazelleAnthraxSpray
End

;Anthrax Beta
ConditionState       USER_1
Model              NONE
ParticleSysBone    NONE GazelleAnthraxSprayUpgraded
End

End

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** AUDIO Parameters ***
SoundAmbient           ToxinTractorWeaponLoop

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS SELECTABLE CAN_ATTACK
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Behavior  FireWeaponUpdate ModuleTag_032233
Weapon  GazelleToxinSprayerWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_ToxinSprayer03
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAAnthraxBeta
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object PoisonFieldLarge

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       ToxicPoolAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  LargePoisonFieldWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  45000  ; 45 seconds
MaxLifetime  45000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_ToxicPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  70.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldMedium

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

; ***AUDIO parameters ***
SoundAmbient       ToxicPoolAmbientLoop

; *** ENGINEERING Parameters ***
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  MediumPoisonFieldWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  30000 ; 30 seconds.
MaxLifetime  30000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_ToxicPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  40.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldSmall

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       ToxicPoolAmbientLoop


; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  SmallPoisonFieldWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  10000 ; 10 seconds.
MaxLifetime  10000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_ToxicPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  6.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldUpgradedLarge

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  LargePoisonFieldWeaponUpgraded
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  45000
MaxLifetime  45000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  70.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldUpgradedMedium

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop


; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  MediumPoisonFieldWeaponUpgraded
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  30000
MaxLifetime  30000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  40.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldUpgradedSmall

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop


; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  SmallPoisonFieldWeaponUpgraded
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  10000
MaxLifetime  10000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  4.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldAnthraxBombAlpha

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         12000.0
InitialHealth     12000.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  AnthraxBombPoisonFieldWeaponAlpha
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  60000
MaxLifetime  60000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  150.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldAnthraxBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         12000.0
InitialHealth     12000.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  AnthraxBombPoisonFieldWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  60000
MaxLifetime  60000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  150.0
GeometryHeight       1.0
GeometryIsSmall      No

End

Object PoisonFieldSmall_Rockets

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop


; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  SmallPoisonFieldWeapon_Rockets
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  16000
MaxLifetime  16000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  4.0
GeometryHeight       1.0
GeometryIsSmall      No

End

Object PoisonFieldUpgradedSmall_Rockets

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop


; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  SmallPoisonFieldWeaponUpgraded_Rockets
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  16000
MaxLifetime  16000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  4.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object RadarVanPing

; ***DESIGN parameters ***
VisionRange      220.0
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  DynamicShroudClearingRangeUpdate ModuleTag_02
FinalVision  0.0
ShrinkDelay  18000
ShrinkTime  2000
ChangeInterval  50
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  20000   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  20000
End

End

;------------------------------------------------------------------------------
Object RebelAmbushPlacedVoiceEffect

; ***DESIGN parameters ***
VisionRange      150.0
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End

; *** AUDIO Parameters ***
SoundEnter               GLARebelAmbushPlaced

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
InitialDelay  500
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  600
MaxLifetime  600
End

Behavior  DestroyDie ModuleTag_06
End

End

;------------------------------------------------------------------------------
Object GLACommandTruckRadarInsideChemicalLabObject

;  Draw  W3DModelDraw ModuleTag_Test01
;    ConditionState  None
;     Model  AVBomber
;    End
;  End

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ChemicalLabCommandTruckGenpowersandRadarDummyLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponUpdate ModuleTag_233
Weapon  ChemicalLabRadarTriggerWeapon
End

Behavior  BoneFXDamage ModuleTag_RadarActive01
End

Behavior  BoneFXUpdate ModuleTag_RadarActive02
PristineOCL1       bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
DamagedOCL1        bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0

End

;------------------------------------------------------------------------------
Object PartisanRadioReceiverStealthDetectionObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  3000
MaxLifetime  3000
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLACommandTruckDeployedDecal

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  50
MaxLifetime  50
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                50.0
ShadowTexture  SCCDplyMrkr; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  62
ShadowSizeY  62

End

;------------------------------------------------------------------------------
Object MercenaryRemoveUpgradeNormalModeObject

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform06
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1000
MaxLifetime  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object MercenaryRemoveUpgradeMachetteModeObject

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1000
MaxLifetime  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RocketBuggyRemoveUpgradeRocketWeaponObject

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform06
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RocketBuggyRemoveUpgradeMortarWeaponObject

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RocketBuggyRemoveUpgradeModesInitialDelayObject

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_ChinaOverlordGattlingCannon ModuleTag_Transform10
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object StationGPScramblerFieldDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCScrambler
ShadowSizeX  610
ShadowSizeY  610

End

;------------------------------------------------------------------------------
Object ViralGasCloud

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model              NONE
;ParticleSysBone    NONE ViralGasCloud
End
End

; ***DESIGN parameters ***
ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           EmptyDamageFX
End


; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE
EditorSorting  SYSTEM

Body                 ActiveBody ModuleTag_02
MaxHealth          1000000.0
InitialHealth      1000000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  SpawnBehavior ModuleTag_Drones01
SpawnNumber            2
SpawnReplaceDelay      1
SpawnTemplateName      ViralGasCloudSlave
ExitByBudding          No
InitialBurst           3
OneShot                No
AggregateHealth        No
SlavesHaveFreeWill     No
SpawnedRequireSpawner  Yes
End

Behavior  QueueProductionExitUpdate ModuleTag_Drones02
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay          1
InitialBurst       2
End

Behavior  ProductionUpdate ModuleTag_Drones03
MaxQueueEntries  1
End

Behavior  LifetimeUpdate ModuleTag_06
MinLifetime  10000.0
MaxLifetime  15000.0
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object ViralGasCloudSlave

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model              NONE
ParticleSysBone    NONE ViralGasCloud
End
End

; ***DESIGN parameters ***
ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           EmptyDamageFX
End


; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE CAN_ATTACK UNATTACKABLE CAN_CAST_REFLECTIONS CAN_BE_REPULSED AIRCRAFT
EditorSorting  SYSTEM

Body                 ActiveBody ModuleTag_02
MaxHealth          1000000.0
InitialHealth      1000000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL ViralGasCloudLocomotor

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  50      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  50   ;How far away I'm allowed to wander from master while guarding.
AttackRange  75        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_07424
End

Behavior  FireWeaponUpdate ModuleTag_233
Weapon  ViralCloudDamageWeapon
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object InformantStealthRevealObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    GLAInformantStealthRevealWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object GLAInformantReportDummyObject

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

VisionRange  600
ShroudClearingRange  600

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  15000
MaxLifetime  15000
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object GLARadarScanDecalDummy

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor  SET_NORMAL RadiusDecalDummyLocomotor

Behavior  DeletionUpdate ModuleTag_removeme03
MinLifetime  20000
MaxLifetime  20000
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0

End

;------------------------------------------------------------------------------
Object RecyclerAreaRepairAbilityTriggerObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponUpdate ModuleTag_wedawl01
Weapon  RecyclerAreaRepairAbilityStatusWeapon
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  66
MaxLifetime  66
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RecyclerAreaRepairObject

;  Draw  W3DModelDraw ModuleTag_Test01
;    ConditionState  None
;      Model  UVBoxcar
;    End
;  End

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor
Locomotor  SET_PANIC  GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_032414
MinLifetime  15000
MaxLifetime  15000
End

Behavior  AutoHealBehavior ModuleTag_323
HealingAmount      2.0
HealingDelay       66
Radius             115.0
StartsActive       Yes
KindOf             VEHICLE
ForbiddenKindOf    AIRCRAFT
SkipSelfForHealing  Yes
;UnitHealPulseParticleSystemName  ECAVehicleRepairEffect
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RecyclerAreaRepairDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  66
MaxLifetime  66
End

Scale   50.0
ShadowTexture  SCCRecyclerRpr
ShadowSizeX  235
ShadowSizeY  235

End

;------------------------------------------------------------------------------
Object RecyclerAreaRecoveryDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  33
MaxLifetime  33
End

Scale   50.0
ShadowTexture  SCC_RecyclerRpr
ShadowSizeX  80
ShadowSizeY  80

End

;------------------------------------------------------------------------------
Object RecyclerAirstrikeProjectile

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  SlowDeathBehavior ModuleTag_0423141413
DeathTypes  ALL
DestructionDelay  6534
;OCL  MIDPOINT OCL_RussiaBorisMigAirstrikeRegulair
Weapon  FINAL RecyclerAirstrikeDamageWeapon
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill    Yes
FirstHeight  330  ; Height of Bezier control points above highest intervening terrain
SecondHeight  420
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  10
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object RecyclerAirstrikeDelayedSpawningObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RecyclerA10Airstrike
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  3234
MaxLifetime  3234
End

Behavior  DestroyDie ModuleTag_0622
End

End

;------------------------------------------------------------------------------
Object RecyclerAmericanJetA10

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model  UVRecUsT2_A2
Animation  UVRecUsT2_A2.UVRecUsT2_A2
AnimationMode  ONCE
WeaponFireFXBone    PRIMARY Muzzle
WeaponMuzzleFlash   PRIMARY MuzzleFX
WeaponLaunchBone    SECONDARY WeaponA
WeaponHideShowBone  SECONDARY WeaponA
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Wingtip01 JetContrailThin
ParticleSysBone  Wingtip02 JetContrailThin
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions  None
Weapon  PRIMARY   RecyclerA10AirstrikeVulcanWeapon
Weapon  SECONDARY RecyclerA10AirstrikeMissilesWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  BoneFXUpdate ModuleTag_04
PristineFXList1  bone:NULL OnlyOnce:Yes 0    0    FXList:WeaponFX_LaserGuidedBombingRunPart1
PristineFXList2  bone:NULL OnlyOnce:Yes 1800 1800 FXList:WeaponFX_LaserGuidedBombingRunPart2
End

Behavior  BoneFXDamage ModuleTag_05
End

Behavior  OCLUpdate ModuleTag_FireWeapon01
MinDelay      1300
MaxDelay      1300
OCL           OCL_RecyclerA10AirstrikeFireVulcan
End

Behavior  OCLUpdate ModuleTag_FireWeapon02
MinDelay      2220
MaxDelay      2220
OCL           OCL_RecyclerA10AirstrikeFireMissiles
End

Behavior  LifetimeUpdate ModuleTag_06
MinLifetime  2590
MaxLifetime  2590
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL
DestructionDelay  6000
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       800.0
GeometryMinorRadius       800.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object RecyclerSalvageCrateRecoveryAbilityCollisionDummyObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM
TransportSlotCount  0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD VEHICLE EMP_HARDENED

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_09
End
Locomotor  SET_NORMAL GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  100   ; min lifetime in msec
MaxLifetime  100   ; max lifetime in msec
End

Geometry             SPHERE
GeometryMajorRadius  42.0

End

;------------------------------------------------------------------------------
Object RecyclerRecoverSalvageCrateCollisionDummyObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM
TransportSlotCount  0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD VEHICLE EMP_HARDENED

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_09
End
Locomotor  SET_NORMAL GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  100   ; min lifetime in msec
MaxLifetime  100   ; max lifetime in msec
End

Geometry             SPHERE
GeometryMajorRadius  20.0

End


;------------------------------------------------------------------------------
Object RecyclerEMPulseEffectSpheroid

KindOf  NO_COLLIDE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXEMPSphere
Animation        EXEMPSphere.EXEMPSphere
ParticleSysBone  NONE RecyclerEMPLensFlare
ParticleSysBone  NONE RecyclerEMPRing
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     10000
Lifetime             700
StartFadeTime        100
StartScale           0.01
TargetScaleMin       3.10
TargetScaleMax       3.80
EffectRadius         50

StartColor           R:0 G:255 B:255
EndColor             R:0 G:50 B:50
DoesNotAffectMyOwnBuildings  No
DisableFXParticleSystem      EMPSparks
End

Geometry             SPHERE
GeometryMajorRadius  30.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldToxinRecycler

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         12000.0
InitialHealth     12000.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  ToxinRecyclerPoisonFieldWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  20000
MaxLifetime  20000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  150.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object PoisonFieldToxinRecyclerBeta

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       AnthraxPoolAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         12000.0
InitialHealth     12000.0
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  ToxinRecyclerPoisonFieldBetaWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  20000
MaxLifetime  20000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_AnthraxPoolDie
End

Geometry             CYLINDER
GeometryMajorRadius  150.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object GLADefenceRevealDummyObject

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE


; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  GLADefenceRevealWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  20000
MaxLifetime  20000
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object GLAExplosiveCachesUpgradeCrate

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  GLAGrantExplosiveCachesUpgradeObject
BuildingPickup  Yes
PickupScience  SCIENCE_HighExplosiveCaches
ForbidOwnerPlayer  No
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  900
MaxLifetime  900
End

Geometry             SPHERE
GeometryMajorRadius  20.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object GLAGrantExplosiveCachesUpgradeObject

; ***DESIGN parameters ***
VisionRange  0.0
EditorSorting  SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_040
MaxHealth  100.0
InitialHealth  100.0
End

Behavior  GrantUpgradeCreate ModuleTag_648
UpgradeToGrant  Upgrade_GLAInfantryRebelBoobyTrapAttack
ExemptStatus  UNDER_CONSTRUCTION
End

Behavior  DeletionUpdate ModuleTag_034
MinLifetime  1
MaxLifetime  1
End

End
;------------------------------------------------------------------------------
Object RecyclerFlameThrowerFireField

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None InfernoCannonFire
ParticleSysBone  None InfernoCannonFlare
ParticleSysBone  None InfernoCannonRing
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE NO_COLLIDE NO_HEAL_ICON

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
;nothing
End

;This fire field is just vissual now
;  Behavior  FireWeaponUpdate ModuleTag_03
;    Weapon  RecyclerFlameThrowerFireFieldWeapon
;  End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  2500
MaxLifetime  2500
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

Object GLAVeteranAdvanceVehicleSpecialists

; *** ART Parameters ***
ButtonImage  GLAVeteranAdvanceVehicle

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1500
BuildTime          45.0           ; in seconds
MaxSimultaneousOfType   1

Prerequisites
Science  SCIENCE_VeteranVehicle
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  GLAAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_VeteranVehicleSpecialists
End

End
;------------------------------------------------------------------------------
Object RadarVanGLAScanObject

;  Draw  W3DModelDraw ModuleTag_Test01
;    ConditionState  None
;      Model  AVBomber
;    End
;  End

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor
Locomotor  SET_PANIC  GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RadarVanGLAGSPScramblerObject

;  Draw  W3DModelDraw ModuleTag_Test01
;    ConditionState  None
;     Model  AVBomber
;    End
;  End

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry  CYLINDER
GeometryMajorRadius  20.0
GeometryMinorRadius  20.0
GeometryHeight  20.0

End

;--------------------------------------------------------------------------------------------------------
;--The objects blow are the dummy objects that hold the cost and settings for the sneak attack upgrades--
;--------------------------------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Object GLASneakAttackUpgradeIntoHideOutUpgrade

; *** ART Parameters ***
ButtonImage             SSUpgradeIntoHideout

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          35.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          WorkerVoiceBuildCompleteUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLASneakAttackUpgradingIntoHideoutTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;-------------------------------------------------------------------------------------------------------
;--The objects blow are the dummy objects that trigger the transition from uprading to upgraded tunnel--
;-------------------------------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Object GLASneakAttackUpgradingToHideOut

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                UBSnkAtck
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState         SNOW
Model                UBSnkAtck_S
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End

Draw  W3DModelDraw ModuleTag_BuildAnimation01

DefaultConditionState
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
AnimationSpeedFactorRange  2.0 2.0
End

ConditionState     SNOW
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
End

End

Draw  W3DModelDraw ModuleTag_BuildAnimation02

DefaultConditionState
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
ParticleSysBone  Dust01 BuildingDust
AnimationSpeedFactorRange  2.0 2.0
End

ConditionState     SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
ParticleSysBone  Dust01 BuildingSnowDust
AnimationSpeedFactorRange  2.0 2.0
End

End

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         EmptyDamageFX
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE MP_COUNT_FOR_VICTORY
Body               StructureBody ModuleTag_05
MaxHealth      1000.0
InitialHealth  1000.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL -SUICIDED
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_GLASneakAttackHideOut
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_052322
DeathTypes           NONE +SUICIDED
DestructionDelay     3000
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  100
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object GLAUpgradeBombTruckDirtyNukeBomb

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  1.0
End

Behavior  FireWeaponUpdate ModuleTag_wedawl01
Weapon  BombTruckDirtyNukeBombUpgradeStatusWeapon
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  200
MaxLifetime  200
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAUpgradeBombTruckTacticalNuclearBomb

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  1.0
End

Behavior  FireWeaponUpdate ModuleTag_wedawl01
Weapon  BombTruckTacticalNukeBombUpgradeStatusWeapon
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  200
MaxLifetime  200
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAUpgradeBombTruckMirvWarheadBomb

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  1.0
End

Behavior  FireWeaponUpdate ModuleTag_wedawl01
Weapon  BombTruckMirvWarheadBombUpgradeStatusWeapon
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  200
MaxLifetime  200
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAUpgradeBombTruckNeutronBomb

; ***DESIGN parameters ***
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  1.0
End

Behavior  FireWeaponUpdate ModuleTag_wedawl01
Weapon  BombTruckNeutronBombUpgradeStatusWeapon
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  200
MaxLifetime  200
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeAmericaTier1

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;400
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromAmericaTier1Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeAmericaTier2

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;800
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromAmericaTier2Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeChinaTier1

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;400
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromChinaTier1Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeChinaTier2

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;800
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromChinaTier2Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeGLATierT1

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;400
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromGLATier1Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeGLATier2

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;800
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromGLATier2Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeRussiaTier1

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;400
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromRussiaTier1Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeRussiaTier2

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;800
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromRussiaTier2Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeEuropeTier1

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;400
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromECATier1Tech
End

End

;------------------------------------------------------------------------------
Object GLARecyclerUpgradeEuropeTier2

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          0;800
BuildTime          0.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE NO_COLLIDE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  GLARecyclerUpgradeFromECATier2Tech
End

End

;------------------------------------------------------------------------------
Object GLACashBountyLevel1DummyObject

; *** ART Parameters ***
ButtonImage             SSCashBounty

; ***DESIGN parameters ***
DisplayName            SCIENCE:GLACashBounty1
MaxSimultaneousOfType  1
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0
MaxSimultaneousOfType  1

BuildCost              1000
BuildTime              20.0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  RebelVoiceUpgradeCashBounty
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  GrantScienceUpgrade ModuleTag_CashBounty01
GrantScience  SCIENCE_CashBounty1
TriggeredBy   Upgrade_CostReduction
End

End

;------------------------------------------------------------------------------
Object GLACashBountyLevel2DummyObject

; *** ART Parameters ***
ButtonImage             SSCashBounty2

; ***DESIGN parameters ***
DisplayName            SCIENCE:GLACashBounty2
MaxSimultaneousOfType  1
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0
MaxSimultaneousOfType  1

BuildCost              1500
BuildTime              40.0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

Prerequisites
Object  GLACashBountyLevel1DummyObject
Object  GLABlackMarket
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  RebelVoiceUpgradeCashBounty
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  GrantScienceUpgrade ModuleTag_CashBounty01
GrantScience  SCIENCE_CashBounty2
TriggeredBy   Upgrade_CostReduction
End

End

;------------------------------------------------------------------------------
Object GLACashBountyLevel3DummyObject

; *** ART Parameters ***
ButtonImage             SSCashBounty3

; ***DESIGN parameters ***
DisplayName            SCIENCE:GLACashBounty3
MaxSimultaneousOfType  1
Side                   GLA
EditorSorting          SYSTEM
TransportSlotCount     0
MaxSimultaneousOfType  1

BuildCost              2000
BuildTime              60.0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

Prerequisites
Object  GLACashBountyLevel2DummyObject
Object  GLAPalace
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  RebelVoiceUpgradeCashBounty
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  GrantScienceUpgrade ModuleTag_CashBounty01
GrantScience  SCIENCE_CashBounty3
TriggeredBy   Upgrade_CostReduction
End

End

;------------------------------------------------------------------------------
Object GLACombatDrugsRefinedUpgrade

; *** ART Parameters ***
ButtonImage             SSCombatDrugsRefined

; ***DESIGN parameters ***
Side  GLA
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  CombatDrugsRefined

Prerequisites
Science  SCIENCE_CombatDrugs
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          GLAAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_RefinedCombatDrugs
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;--------------------------------
Object GLAG6HowitzerArtilleryShell
; *** ART Parameters ***
Draw   W3DModelDraw ModuleTag_592
OkToChangeModelColor   Yes
ConditionState   NONE
Model   AVTankShel
;ParticleSysBone   NONE ArtilleryBarrageTrail
;ParticleSysBone   NONE ArtilleryBarrageTrailRing
End
End
; ***DESIGN parameters ***
DisplayName   OBJECT:TankShell
EditorSorting   SYSTEM
ArmorSet
Armor   ProjectileArmor
End
VisionRange   0.0
; *** AUDIO Parameters ***
SoundAmbient   ArtilleryBarrageIncomingWhistle
; *** ENGINEERING Parameters ***
KindOf   PROJECTILE
Body   ActiveBody ModuleTag_593
MaxHealth   100.0
InitialHealth   100.0
End
Behavior   DestroyDie ModuleTag_594
; nothing
End
Behavior   DumbProjectileBehavior ModuleTag_595
; To tweak a Bezier path, please see GS
FirstHeight   50     ; Height of Bezier control points above highest intervening terrain
SecondHeight   150
FirstPercentIndent   30%     ; Percentage of shot distance control points are placed
SecondPercentIndent   70%
FlightPathAdjustDistPerSecond   0
DetonateCallsKill Yes
End
Behavior   PhysicsBehavior ModuleTag_596
Mass   0.01     ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior   FireWeaponWhenDeadBehavior ModuleTag_FireWeapon01
DeathWeapon     GLAG6HowitzerWeaponFX
StartsActive    Yes
;ConflictsWith   Upgrade_GLAToxinShells Upgrade_GLAAnthraxBeta Upgrade_DemoHEShells
End
;Behavior   FireWeaponWhenDeadBehavior ModuleTag_FireWeapon02
;DeathWeapon     GLAG6HowitzerWeaponFXHE
;StartsActive    No
;TriggeredBy     Upgrade_DemoHEShells
;End
;Behavior   FireWeaponWhenDeadBehavior ModuleTag_FireWeapon03
;DeathWeapon     GLAG6HowitzerWeaponFXToxin
;StartsActive    No
;TriggeredBy     Upgrade_GLAToxinShells
;ConflictsWith   Upgrade_GLAAnthraxBeta Upgrade_DemoHEShells
;End
;Behavior   FireWeaponWhenDeadBehavior ModuleTag_FireWeapon04
;DeathWeapon     GLAG6HowitzerWeaponFXBeta
;StartsActive    No
;TriggeredBy     Upgrade_GLAAnthraxBeta
;ConflictsWith   Upgrade_DemoHEShells
;End

Geometry   Sphere
GeometryIsSmall   Yes
GeometryMajorRadius   1.0
End

;------------------------------------------------------------------------------
Object AnthraxBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXAnthrxBmb
Animation  EXAnthrxBmb.EXAnthrxBmb
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:AnthraxBomb
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane    DaisyCutterWeapon
SoundEnter               GLAAnthraxBombDropped

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1  ; this is now friction-per-sec
ForwardFriction        33     ; this is now friction-per-sec
CenterOfMassOffset     2  ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Anthrax01
DeathWeapon    AnthraxBombWeaponAlpha
StartsActive   Yes
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Anthrax02
DeathWeapon    AnthraxBombWeapon
StartsActive   No
TriggeredBy    Upgrade_GLAAnthraxBeta
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  40.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponAnthraxBomb
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  FXListDie ModuleTag_09
DeathFX  FX_AnthraxBombAlpha
StartsActive   Yes
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FXListDie ModuleTag_10
DeathFX  FX_AnthraxBomb
StartsActive   No
TriggeredBy  Upgrade_GLAAnthraxBeta
End

Behavior  FXListDie ModuleTag_11
DeathFX  FX_AnthraxBombSound
StartsActive   Yes
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Scale  0.9

End

;------------------------------------------------------------------------------
Object BM21GradRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVTOS1_M
ParticleSysBone  EXHAUSTBONE EMissileLenzflare
ParticleSysBone  EXHAUSTBONE EMissileFlame
ParticleSysBone  EXHAUSTBONE EMissileExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  IncomingShellRocketWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
DeathTypes  ALL -LASERED
End

Behavior  InstantDeathBehavior DeathModuleTag_MissileDeaths01
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  DumbProjectileBehavior ModuleTag_04
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  130
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  WeaponBonusUpgrade Upgrade_01121
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
ObjectReskin BM21GradRocketHeroic BM21GradRocket
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVTOS1_M
ParticleSysBone  EXHAUSTBONE EMissileLenzflare
ParticleSysBone  EXHAUSTBONE EMissileFlame
ParticleSysBone  EXHAUSTBONE HeriocEMissileExhaust
End
End
End

;------------------------------------------------------------------------------
Object StingerMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE InfantryStingerPreIgnitionExhaust
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            300
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_StingerMissileIgnitionSound
DistanceToTargetForLock  100
End
Locomotor  SET_NORMAL StingerMissileLocomotor

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  300
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object JarmenKellStingerMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

;;;;Missile Travaling thoward target destination
ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            JarmenKellStingerMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
FX          FX_GenericMissileDeath
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          100
IgnitionDelay            550
DistanceToTravelBeforeTurning  1
IgnitionFX               WeaponFX_JarmenKellMissileIgnition
DistanceToTargetForLock  100  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL JarmenKellStingerMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  2.0
GeometryHeight  2.0
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
ObjectReskin JarmenKellHeroicStingerMissile JarmenKellStingerMissile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End

;;;;Missile Travaling thoward target destination
ConditionState  REALLYDAMAGED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  NONE HeriocEMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End
End
End

;------------------------------------------------------------------------------
Object GLARebelMolotovCocktailProjectile

BuildVariations  GLARebelMolotovCocktailClearingProjectile GLARebelMolotovCocktailNoneClearingProjectile

End


;------------------------------------------------------------------------------
Object GLARebelMolotovCocktailClearingProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  Mob_Botl
ParticleSysBone  BONE_FX MolotovBurningRag
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:GLARock
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DumbProjectileBehavior ModuleTag_03
TumbleRandomly                   Yes
DetonateCallsKill                Yes
FirstHeight                      30
SecondHeight                     30
FirstPercentIndent               50%
SecondPercentIndent              90%
FlightPathAdjustDistPerSecond    100
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             1
GarrisonHitKillFX                FX_DragonFlameGarrisonBuildingHit
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  0.1
End

Behavior  DestroyDie ModuleTag_05
;nothing
End


Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object GLARebelMolotovCocktailNoneClearingProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  Mob_Botl
ParticleSysBone  BONE_FX MolotovBurningRag
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:GLARock
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DumbProjectileBehavior ModuleTag_03
TumbleRandomly                   Yes
DetonateCallsKill                Yes
FirstHeight                      30
SecondHeight                     30
FirstPercentIndent               50%
SecondPercentIndent              90%
FlightPathAdjustDistPerSecond    100
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  0.1
End

Behavior  DestroyDie ModuleTag_05
End


Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object GLAAngryMobRockProjectileObject

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  Mob_Rock
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:GLARock
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
TumbleRandomly  Yes    ; not implemented, alas
DetonateCallsKill  Yes
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05;lorenzen sez, please keep this, it allows tumbling
Mass  0.1 ; about the weight of a rock
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object GLAAngryMobMolotovCocktailProjectileObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model  Mob_Rock
End

ConditionState  USER_1
Model  Mob_Botl
ParticleSysBone  BONE_FX MolotovBurningRag
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:GLARock
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  DumbProjectileBehavior ModuleTag_03
TumbleRandomly  Yes ; not implemented, alas
DetonateCallsKill  Yes
FirstHeight  30  //TALL ARC LOOK GOOD
SecondHeight  30 //TALL ARC LOOK GOOD
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_04;lorenzen sez, please keep this, it allows tumbling
Mass  0.1 ; about the weight of a rock
End

Behavior  ModelConditionUpgrade ModuleTag_Upgrade01
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAArmTheMob
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Upgrade02
DeathWeapon    MoltovDetonationWeapon
StartsActive   Yes
ConflictsWith  Upgrade_GLAArmTheMob
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Upgrade03
DeathWeapon    MoltovUpgradedDetonationWeapon
StartsActive   No
TriggeredBy    Upgrade_GLAArmTheMob
End

Behavior  WeaponBonusUpgrade ModuleTag_Upgrade04
TriggeredBy  Upgrade_GLAArmTheMob
End

Behavior  DestroyDie ModuleTag_05
End


Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object TruckStingerMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
ParticleSysBone  None SparksMedium
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            400
DistanceToTravelBeforeTurning  5
IgnitionFX               WeaponFX_TruckStingerMissileIgnition
DistanceToTargetForLock  100
End

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End
Locomotor  SET_NORMAL StingerMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  400
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ScudStormMissile

; *** ART Parameters ***
Draw                W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model           UBScudStrm_M
End
ConditionState    DAMAGED REALLYDAMAGED RUBBLE
Model           NONE
End

End

; ***DESIGN parameters ***
KindOf  PROJECTILE ;BALLISTIC_MISSILE
EditorSorting        SYSTEM
VisionRange          300.0
ShroudClearingRange  0
TransportSlotCount   10
ArmorSet
Conditions        None
Armor             ProjectileArmor
DamageFX          None
End

; *** AUDIO Parameters ***
SoundAmbient  ScudStormIncomingWhistle

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         10000.0
InitialHealth     10000.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  500.0
End

Behavior  MissileAIUpdate ModuleTag_04
DetonateCallsKill              Yes
TryToFollowTarget              No
FuelLifetime                   0 ; zero is infinite
InitialVelocity                0                ; in dist/sec
IgnitionFX                     FX_ScudStormIgnition
DistanceToTravelBeforeTurning  500
DistanceToTargetBeforeDiving   200 ; When I hit this close to target, I ignore PreferredHeight.
End
Locomotor  SET_NORMAL SCUDStormMissileLocomotor

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponScudStorm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_08
DeathWeapon    ScudStormDamageWeapon
StartsActive   Yes
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_09
DeathWeapon    ScudStormDamageWeaponUpgraded
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAAnthraxBeta
End

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_PushOverTree01
DestructionDelay     50
FXList               FX_Nada

Blast1Enabled        Yes
Blast1Delay          1
Blast1InnerRadius    20.0
Blast1OuterRadius    80.0
Blast1MaxDamage      0.0
Blast1MinDamage      0.0
Blast1ToppleSpeed    0.5
Blast1PushForce      10.0

Blast2Enabled        No
Blast3Enabled        No
Blast4Enabled        No
Blast5Enabled        No
Blast6Enabled        No
Blast7Enabled        No
Blast8Enabled        No
Blast9Enabled        No
End


Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  7.0
GeometryHeight  30.0

End

;------------------------------------------------------------------------------
Object GLAInterceptorMachinegunProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  FLAK
Animation  FLAK.FLAK
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:PatriotMissile
EditorSorting    VEHICLE
VisionRange  300.0
ShroudClearingRange  0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  0.1
End

Behavior   DumbProjectileBehavior ModuleTag_07
FirstHeight   0
SecondHeight   0
FirstPercentIndent   100%
SecondPercentIndent   100%
FlightPathAdjustDistPerSecond   9999
DetonateCallsKill   yes
End

Behavior  DestroyDie ModuleTag_11
End

Behavior  WeaponBonusUpgrade ModuleTag_12
TriggeredBy  Upgrade_GLAAPBullets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  0.8

End

;------------------------------------------------------------------------------
Object GLAInterceptorMachinegunProjectileAir

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  FLAK
Animation  FLAK.FLAK
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:PatriotMissile
EditorSorting    VEHICLE
VisionRange  300.0
ShroudClearingRange  0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  0.1
End

Behavior  DumbProjectileBehavior ModuleTag_06
FirstHeight 0
SecondHeight 0
FirstPercentIndent 33% ; 33%
SecondPercentIndent 66% ; 66%
FlightPathAdjustDistPerSecond 9999 ; 9999
;OrientToFlightPath  Yes
DetonateCallsKill Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.8

End
;------------------------------------------------------------------------------
Object GazelleRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None TunnelDefenderMissileExhaust
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -20
SecondHeight  -45
FirstPercentIndent  30%
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  LifetimeUpdate ModuleTag_Life01
MinLifetime  5000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Behavior  WeaponBonusUpgrade Upgrade_01121
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin HeroicGazelleRocketProjectile GazelleRocketProjectile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None TunnelDefenderHeroicMissileExhaust
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End
End

;------------------------------------------------------------------------------
Object GazelleStrelaMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXStinger01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            0
DistanceToTravelBeforeTurning  5
DistanceToTargetForLock  100
End

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Locomotor  SET_NORMAL StingerMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GazelleAntiTankMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVGazelle_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  2000
InitialVelocity  200                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  10
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL GazelleAntiTankMissileLocomotor

Behavior  WeaponBonusUpgrade Upgrade_01121
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object TunnelDefenderMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXURocket
Animation  EXURocket.EXURocket
AnimationMode  LOOP
HideSubObject  WARHEADUP
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget              Yes;;;;;;;;;;No
FuelLifetime                   1250
InitialVelocity                150                ; in dist/sec
IgnitionDelay                  0
DistanceToTravelBeforeTurning  20
IgnitionFX                     FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TunnelDefenderMissileLocomotor

Behavior  SubObjectsUpgrade ModuleTag_APRocketVissual01
TriggeredBy     Upgrade_GLAAPRockets
ShowSubObjects  WARHEADUP
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object TunnelDefenderBikerMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXURocket
Animation  EXURocket.EXURocket
AnimationMode  LOOP
HideSubObject  WARHEADUP
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget              Yes;;;;;;;;;;No
FuelLifetime                   1250
InitialVelocity                150                ; in dist/sec
IgnitionDelay                  0
DistanceToTravelBeforeTurning  0
IgnitionFX                     FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TunnelDefenderMissileLocomotor

Behavior  SubObjectsUpgrade ModuleTag_APRocketVissual01
TriggeredBy     Upgrade_GLAAPRockets
ShowSubObjects  WARHEADUP
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object BuggyMortarProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVMortar
Animation  NVMortar.NVMortar
AnimationMode  LOOP
ParticleSysBone      None ArtilleryBarrageTrail
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  100  ; Height of Bezier control points above highest intervening terrain
SecondHeight  120
FirstPercentIndent  55% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ToxinShell01
DeathWeapon    ToxinShellWeapon
StartsActive   No
TriggeredBy    Upgrade_GLAToxinShells
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ToxinShell02
DeathWeapon    ToxinShellWeaponUpgraded
StartsActive   No
TriggeredBy    Upgrade_GLAAnthraxBeta Upgrade_GLAToxinShells
RequiresAllTriggers  Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.1

End

;------------------------------------------------------------------------------
Object MediumToxinFieldSpawnerObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  0.1
MaxLifetime  0.1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    SmallPoisonFieldWeaponCreate
StartsActive   Yes
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    SmallPoisonFieldWeaponUpgradedCreate
StartsActive   No
TriggeredBy    Upgrade_GLAAnthraxBeta
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object ToxinTruckStreamProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a toxin trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                 1
AllowCollideForce    No  ; toxins collide, but never apply forces when they do so
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget                No
FuelLifetime                     0
InitialVelocity                  120                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    20
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             2
GarrisonHitKillFX                FX_ToxinStreamGarrisonBuildingHit
End

Locomotor  SET_NORMAL ToxinTruckStreamLocomotor

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ToxinTrail01 ; Covers gap at beginning of line
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ToxinTruckStreamProjectileUpgraded

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a toxin trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget                No
FuelLifetime                     0
InitialVelocity                  120                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    20
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             2
GarrisonHitKillFX                FX_ToxinStreamUpgradedGarrisonBuildingHit
End
Locomotor  SET_NORMAL ToxinTruckStreamLocomotor

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:AnthraxTrail01 ; Covers gap at beginning of line
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ToxinTruckProjectileStream

; *** ART Parameters ***
Draw  W3DProjectileStreamDraw ModuleTag_01
Texture        EXToxinStream.tga
Width          1.5
TileFactor     2.0 ; put the texture on the line segment this many times
ScrollRate     6.0; scroll the texture offset this fast
MaxSegments    14 ; only play the first X if there are a ton of them. 0 means play all
End

; *** ENGINEERING Parameters ***
KindOf  INERT
Behavior  ProjectileStreamUpdate ModuleTag_02
;nothing
End

End


;------------------------------------------------------------------------------
Object ToxinTruckProjectileStreamUpgraded

; *** ART Parameters ***
Draw  W3DProjectileStreamDraw ModuleTag_01
Texture        EXAnthraxStream.tga
Width          1.5
TileFactor     2.0 ; put the texture on the line segment this many times
ScrollRate     6.0; scroll the texture offset this fast
MaxSegments    14 ; only play the first X if there are a ton of them. 0 means play all
End

; *** ENGINEERING Parameters ***
KindOf  INERT
Behavior  ProjectileStreamUpdate ModuleTag_02
;nothing
End

End

;------------------------------------------------------------------------------
Object ToxinTruckSprayProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  1
InitialVelocity  1                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  0
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.

End

Locomotor  SET_NORMAL ToxinTruckDribbleLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
; created by upgraded rebels
Object BoobyTrap

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  25.0  ;Allow the stickybomb to show itself to user?
ShroudClearingRange  25

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
End

; *** AUDIO Parameters ***
UnitSpecificSounds
StickyBombCreated  BoobyTrapInstall
End

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  BOOBY_TRAP NO_COLLIDE MINE

Body  HighlanderBody ModuleTag_01
MaxHealth  1.0
InitialHealth  1.0
End

Behavior  PhysicsBehavior ModuleTag_02
Mass  5
End

Behavior  StickyBombUpdate ModuleTag_03
GeometryBasedDamageWeapon  BoobyTrapDetonationWeapon ; We add our bounding circle to the radius of this weapon, and damage people ourselves
GeometryBasedDamageFX  FX_BoobyTrapExplosion ; And we modify our effect too
End

Behavior  StealthUpdate ModuleTag_04
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           50.0%
InnateStealth                Yes
End

Geometry             CYLINDER
GeometryMajorRadius  8.0
GeometryHeight       8.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object DemoTrapDetonationObject ;The explodes-next-frame object when demo trap is triggered.

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0  ;Allow the stickybomb to show itself to user?

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PROJECTILE

Behavior  PhysicsBehavior ModuleTag_01
Mass  5
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  1
FX                   INITIAL WeaponFX_DemoTrapDetonation
Weapon               FINAL   DemoTrapDetonationWeapon
End

End

;------------------------------------------------------------------------------
Object RocketBuggyMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVRockBug_m
ParticleSysBone  Object03 TunnelDefenderMissileExhaust
ParticleSysBone  Object03 EMissileFlame
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
;    FX          FX_GenericMissileDeath
OCL          OCL_GLARocketExplosionEffect
End

Behavior  HeightDieUpdate ModuleTag_067
TargetHeight  1.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  No
SnapToGroundOnDeath  Yes
End

; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  75
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.

End

Behavior  WeaponBonusUpgrade ModuleTag_08
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object SCUDMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVScudLchr_M
End
ConditionState  REALLYDAMAGED
Model  UVScudLchr_DM
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
ConditionState  REALLYDAMAGED JAMMED
Model  UVScudLchr_DM
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SCUDMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
;*Be careful with this type, use in conjunction with KindOf  BALLISTIC_MISSILE to restrict targeting
;*to select weapons, because ballistic missile armor is weak! Weapons capable of targeting must have
;*AntiBallisticMissile  Yes set in the Weapon.ini.
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  0
IgnitionDelay  0
InitialVelocity  50                ; in dist/sec
DistanceToTravelBeforeTurning  200
DistanceToTargetBeforeDiving  200 ; When I hit this close to target, I ignore PreferredHeight.
End
Locomotor  SET_NORMAL SCUDMissileLocomotor

Behavior  WeaponBonusUpgrade ModuleTag_08
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

ObjectReskin SCUDMissilePlusOne SCUDMissile
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVScudLchr_B
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

End

ObjectReskin SCUDMissilePlusTwo SCUDMissile
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVScudLchr_C
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

End



;------------------------------------------------------------------------------
Object ScorpionTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  None GenericTankShellTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    ToxinShellWeapon
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAToxinShells
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    ToxinShellWeaponUpgraded
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAAnthraxBeta   Upgrade_GLAToxinShells
RequiresAllTriggers  Yes ;TriggeredBy is an AND, not an OR like it normally is
End

Behavior  DumbProjectileBehavior ModuleTag_06
DetonateCallsKill  Yes
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  0.01 ; can't be zero, but we want it tiny so that it travels nearly straight
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MarauderTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  None GenericTankShellLargeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    ToxinShellWeaponUpgraded
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAAnthraxBeta Upgrade_GLAToxinShells
RequiresAllTriggers  Yes ;TriggeredBy is an AND, not an OR like it normally is
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    ToxinShellWeapon
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAToxinShells
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  DumbProjectileBehavior ModuleTag_06
DetonateCallsKill  Yes
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  0.01 ; can't be zero, but we want it tiny so that it travels nearly straight
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object SmallToxinFieldSpawner

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    PoisonFieldSpawnWeapon
StartsActive   Yes
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    UpgradedPoisonFieldSpawnWeapon
StartsActive   No
TriggeredBy    Upgrade_GLAAnthraxBeta
End

Behavior  LifetimeUpdate ModuleTag_10
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

End

;------------------------------------------------------------------------------
Object StingerSoldierAntiTankRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVRockBug_m
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            0
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_StingerSoldierRocketIgnition
DistanceToTargetForLock  100
End

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Locomotor  SET_NORMAL StingerMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

Object GLARocketDetonationEffectSpawnerObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  0.1
MaxLifetime  0.1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    GLANormalRocketDetonationEffectWeapon
StartsActive   Yes
ConflictsWith  Upgrade_GLAAPRockets
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    GLAArmorPiercingRocketDetonationEffectWeapon
StartsActive   No
TriggeredBy    Upgrade_GLAAPRockets
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object ScorpionMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVScrp_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    ToxinShellWeapon
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAToxinShells
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    ToxinShellWeaponUpgraded
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAAnthraxBeta   Upgrade_GLAToxinShells
RequiresAllTriggers  Yes ;TriggeredBy is an AND, not an OR like it normally is
End


; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  4000
InitialVelocity  150                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  30
IgnitionFX  FX_JetMissileIgnition
End
Locomotor  SET_NORMAL ScorpionMissileLocomotor


Behavior  WeaponBonusUpgrade ModuleTag_08
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0


End

;------------------------------------------------------------------------------
Object ToxinTractorChemicalMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVScrp_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  4000
InitialVelocity  150                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  30
IgnitionFX  FX_JetMissileIgnition
End
Locomotor  SET_NORMAL ScorpionMissileLocomotor

Behavior  DeletionUpdate ModuleTag_10121
MinLifetime  5000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0


End

;------------------------------------------------------------------------------
Object NuclearBombTruckWarheadScatterObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  RVTopol_WH
;ParticleSysBone  None TigerRocketPodMissileFlame
;ParticleSysBone  None TigerRocketLenzflare
ParticleSysBone  None TigerRocketExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  20  ; Height of Bezier control points above highest intervening terrain
SecondHeight  100
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    TopolNuclearWarheadReentryAircraftDamageWeapon
StartsActive   Yes
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_PushOverTree01
DestructionDelay     80
FXList               FX_Nada

Blast1Enabled        Yes
Blast1Delay          1
Blast1InnerRadius    20.0
Blast1OuterRadius    80.0
Blast1MaxDamage      0.0
Blast1MinDamage      0.0
Blast1ToppleSpeed    0.5
Blast1PushForce      10.0

Blast2Enabled        No
Blast3Enabled        No
Blast4Enabled        No
Blast5Enabled        No
Blast6Enabled        No
Blast7Enabled        No
Blast8Enabled        No
Blast9Enabled        No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End


;------------------------------------------------------------------------------
Object InterceptorAntiTankMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVFitter_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget              Yes;;;;;;;;;;No
FuelLifetime                   1250
InitialVelocity                150                ; in dist/sec
IgnitionDelay                  0
DistanceToTravelBeforeTurning  20
IgnitionFX                     FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TunnelDefenderMissileLocomotor

Behavior  WeaponBonusUpgrade Upgrade_01121
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object RecyclerTremorArtilleryProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVTankShel
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  360  ; Height of Bezier control points above highest intervening terrain
SecondHeight  450
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.1

End

;------------------------------------------------------------------------------
Object RecyclerDroneAttackOrderTrailProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          None
ParticleSysBone  None DroneRecyclerScanningTrail
End
End

; ***DESIGN parameters ***

EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        99999.0
InitialHealth    99999.0
End

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound


Behavior  PhysicsBehavior ModuleTag_06
Mass  0.1
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  150
FirstPercentIndent  15% ; Percentage of shot distance control points are placed
SecondPercentIndent  50%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  StealthUpdate ModuleStealth_MeNoSee01
StealthDelay                 0 ; msec
InnateStealth                Yes ;Requires upgrade first
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object RecyclerDroneMortarRound

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXMiniMrtr
Animation  EXMiniMrtr.EXMiniMrtr
AnimationMode  LOOP
ParticleSysBone  None BMDMortarSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.1

End

;------------------------------------------------------------------------------
Object RecyclerEmpCannonBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXRecEmpBmb
ParticleSysBone  None RecyclerEmpBombTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
TumbleRandomly  Yes
FirstHeight  100  ; Height of Bezier control points above highest intervening terrain
SecondHeight  170
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond  0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_033
DeathWeapon    RecyclerEmpBombSphereWeapon
StartsActive  Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL
Scale  1.1

End

;------------------------------------------------------------------------------
Object RecyclerFlameProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXFlmBall
ParticleSysBone  None InfernoTrail
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%

GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             2 ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_DragonFlameGarrisonBuildingHit
End

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail01 ; Covers gap at beginning of line
PristineParticleSystem2   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail02
PristineParticleSystem3   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail03
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail04
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail05
PristineParticleSystem5   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail06
PristineParticleSystem6   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke01
PristineParticleSystem7   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke02
End

Behavior  BoneFXDamage ModuleTag_07
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  2000
Weapon  INITIAL  RecyclerFlameThrowerFireFieldWeapon
Weapon  MIDPOINT RecyclerFlameThrowerFireFieldWeapon
Weapon  FINAL    RecyclerFlameThrowerFireFieldWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GLARecyclerTeslaLightningArcTriggerObjectOne

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  220.0
ShroudClearingRange  220.0

WeaponSet
Conditions           None
Weapon               SECONDARY RecyclerChainLightningTeslaJumpOneWeapon
Weapon               TERTIARY  RecyclerChainLightningTeslaJumpTwoTriggerWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
Turret
TurretTurnRate  1000
ControlledWeaponSlots  SECONDARY TERTIARY
End
TurretsLinked  Yes
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object GLARecyclerTeslaLightningArcTriggerObjectTwo

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  220.0
ShroudClearingRange  220.0

WeaponSet
Conditions           None
Weapon               SECONDARY RecyclerChainLightningTeslaJumpTwoWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object GLARecyclerTeslaLightningArcTriggerObjectOneHeroic

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  220.0
ShroudClearingRange  220.0

WeaponSet
Conditions           None
Weapon               SECONDARY RecyclerChainLightningTeslaJumpOneWeaponHeroic
Weapon               TERTIARY  RecyclerChainLightningTeslaJumpTwoTriggerWeaponHeroic
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
Turret
TurretTurnRate  1000
ControlledWeaponSlots  SECONDARY TERTIARY
End
TurretsLinked  Yes
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object GLARecyclerTeslaLightningArcTriggerObjectTwoHeroic

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  220.0
ShroudClearingRange  220.0

WeaponSet
Conditions           None
Weapon               SECONDARY RecyclerChainLightningTeslaJumpTwoWeaponHeroic
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object RecyclerA10Missile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVWrthg_M
ParticleSysBone  NONE PatriotMissileTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  Russia
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileNoECMArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD CAN_CAST_REFLECTIONS PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_04
TryToFollowTarget    No
DetonateCallsKill    Yes
FuelLifetime         0
IgnitionDelay        0
InitialVelocity      100                ; in dist/sec
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving   0
End
Locomotor  SET_NORMAL TechAirstrikeBombLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.1

End


;------------------------------------------------------------------------------
Object RecyclerSalvageCollectionProjectile

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MercenaryGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone      None MercenaryGrenadeSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MercenaryArcFireModeGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone      None MercenaryGrenadeSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
FirstHeight                      50  ; Height of Bezier control points above highest intervening terrain
SecondHeight                     100
FirstPercentIndent               30% ; Percentage of shot distance control points are placed
SecondPercentIndent              70%
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object ScorpionTankRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVRockBug_m
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            0
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_StingerSoldierRocketIgnition
DistanceToTargetForLock  100
End

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  3000
MaxLifetime  3000
End

Locomotor  SET_NORMAL StingerMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object BM21GuidedMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVGradMssl_M
HideSubObject  WEAPONB01 WEAPONC01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
;*Be careful with this type, use in conjunction with KindOf  BALLISTIC_MISSILE to restrict targeting
;*to select weapons, because ballistic missile armor is weak! Weapons capable of targeting must have
;*AntiBallisticMissile  Yes set in the Weapon.ini.
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        135.0
InitialHealth    135.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors

; we detonated normally.
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by laser.
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by nonlaser.
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
IgnitionFX  FX_TomahawkIgnition
InitialVelocity  50                ; in dist/sec
DistanceToTravelBeforeTurning  80
DistanceToTargetBeforeDiving  100 ; When I hit this close to target, I ignore PreferredHeight.
; Note, if this is too small, the missile will turn too late to hit.  And, since we have a 2D
; heart, being over the target counts as "there", so we'll give up and just go straight.

DistanceToTargetForLock  10 ; Short lock on, as it looks better flying.  jba.
End
Locomotor  SET_NORMAL GradMissileLocomotor

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

ObjectReskin BM21GuidedMissilePlusOne BM21GuidedMissile

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVGradMssl_M
HideSubObject  WEAPONA01 WEAPONC01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

End

ObjectReskin BM21GuidedMissilePlusTwo BM21GuidedMissile

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVGradMssl_M
HideSubObject  WEAPONA01 WEAPONB01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

End

;------------------------------------------------------------------------------
Object SA3GoaMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVSa3_M
Animation  UVSa3_M.UVSa3_M
AnimationMode  ONCE
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
FX           WeaponFX_S300MissileDetonation
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_10
DeathTypes     ALL -LASERED
DeathWeapon    StingerTruckSa3MissileSecondaryDamageWeapon
StartsActive   Yes
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
InitialVelocity  50                ; in dist/sec
DistanceToTargetBeforeDiving  50
DistanceToTravelBeforeTurning  40
End
Locomotor  SET_NORMAL S300GrumbleMissileLocomotor

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  10.0
Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object GLAClusterBombMineRandom

BuildVariations  GLAClusterBombMineOne GLAClusterBombMineTwo GLAClusterBombMineThree GLAClusterBombMineFour GLAClusterBombMineFive

End

;------------------------------------------------------------------------------
Object GLAClusterBombMineOne

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED01
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  60.0
ShroudClearingRange  60.0

WeaponSet
Conditions           None
Weapon               PRIMARY   ClusterMineSuicideWeapon
PreferredAgainst     PRIMARY   INFANTRY
Weapon               SECONDARY ClusterMineSuicideWeapon
PreferredAgainst     SECONDARY VEHICLE
Weapon               TERTIARY  ClusterMineRemoveSelfWeapon
PreferredAgainst     TERTIARY  STRUCTURE
End

ArmorSet
Conditions       None
Armor            MineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  STICK_TO_TERRAIN_SLOPE DEMOTRAP IMMOBILE NO_HEAL_ICON CAN_ATTACK ;CLEARED_BY_BUILD

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  AIUpdateInterface ModuleTag_03232
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate       99999
TurretPitchRate      99999
End
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  StealthUpdate ModuleTag_0332
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           100.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   No
End

;This module doesn't actually do anything other than make sure the game recognizes me as a mine and not an enemy unit
Behavior  MinefieldBehavior ModuleTag_Mine01
DetonationWeapon             DummyWeapon
DetonatedBy                  ENEMIES NEUTRAL
ScootFromStartingPointTime   1000
RepeatDetonateMoveThresh     1.0
NumVirtualMines              1000
Regenerates                  No            ; Cluster mines do not regenerate.
End

;This ensures that stealthed units are detected so that the mines can properly detonate
Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              3   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             33   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       AIRCRAFT
End

;This ensures that stealthed units are detected so that the mines can properly detonate
Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              3   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             33   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

;This is triggered upon mine detonation
Behavior  InstantDeathBehavior ModuleTag_Death01
DeathTypes ALL -SUICIDED
Weapon  MinefieldMineExplosionWeaponRank3
End

;This is triggered upon colliding with an enemy structure to prevent mines from becoming unreachable within a structure collision box
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes NONE +SUICIDED
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
ObjectReskin GLAClusterBombMineTwo GLAClusterBombMineOne

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED02
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAClusterBombMineThree GLAClusterBombMineOne

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED03
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAClusterBombMineFour GLAClusterBombMineOne

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED04
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAClusterBombMineFive GLAClusterBombMineOne

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED05
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

End

;------------------------------------------------------------------------------
Object GLAClusterBombMineTypeOne

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXIED01
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE CLEARED_BY_BUILD
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   2.5
AerodynamicFriction    0.25   ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  CreateObjectDie ModuleTag_05
CreationList    OCL_ClusterBombIEDOne
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_09
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GLAClusterBombMineTypeTwo

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXIED02
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE CLEARED_BY_BUILD
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   2.5
AerodynamicFriction    0.25   ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  CreateObjectDie ModuleTag_05
CreationList    OCL_ClusterBombIEDTwo
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_09
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GLAClusterBombMineTypeThree

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXIED03
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE CLEARED_BY_BUILD
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   2.5
AerodynamicFriction    0.25   ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  CreateObjectDie ModuleTag_05
CreationList    OCL_ClusterBombIEDThree
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_09
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GLAClusterBombMineTypeFour

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXIED04
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE CLEARED_BY_BUILD
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   2.5
AerodynamicFriction    0.25   ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  CreateObjectDie ModuleTag_05
CreationList    OCL_ClusterBombIEDFour
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_09
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GLAClusterBombMineTypeFive

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXIED05
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE CLEARED_BY_BUILD
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   2.5
AerodynamicFriction    0.25   ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  CreateObjectDie ModuleTag_05
CreationList    OCL_ClusterBombIEDFive
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_09
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object RecyclerPenetratorShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXPenetrator
ParticleSysBone      None GunTurretPenetratorShellTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE SALVAGER
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  MissileAIUpdate ModuleTag_05
DetonateCallsKill  Yes
TryToFollowTarget  No
FuelLifetime  500
DetonateOnNoFuel  Yes
InitialVelocity  500                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL GunTurretPenetratorLocomotor

Behavior  PhysicsBehavior ModuleTag_054
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponUpdate ModuleTag_06
Weapon  RecyclerPenetratorShellExtraDamage
End

Behavior  FireWeaponUpdate ModuleTag_ShellCasing01
Weapon  JagdMammutPenetratorShellCasingDummyWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object StingerMissileHighSpeed

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE InfantryStingerPreIgnitionExhaust
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            300
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_StingerMissileIgnitionSound
DistanceToTargetForLock  100
End
Locomotor  SET_NORMAL StingerMissileHighSpeedLocomotor

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  300
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object HookAirToGroundRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model          UVGazelle_M
ParticleSysBone  EXHAUSTBONE EMissileLenzflare
ParticleSysBone  EXHAUSTBONE EMissileFlame
ParticleSysBone  EXHAUSTBONE EMissileExhaust
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -20
SecondHeight  -45
FirstPercentIndent  30%
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  WeaponBonusUpgrade Upgrade_01121
TriggeredBy  Upgrade_GLAAPRockets
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin HeroicHookAirToGroundRocket HookAirToGroundRocket
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model          UVGazelle_M
ParticleSysBone  EXHAUSTBONE EMissileLenzflare
ParticleSysBone  EXHAUSTBONE EMissileFlame
ParticleSysBone  EXHAUSTBONE HeriocEMissileExhaust
End
End
End

;------------------------------------------------------------------------------
Object VultureBombProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVVulture_M
End
End
; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  0
SecondHeight  0
FirstPercentIndent  30%
SecondPercentIndent  50%
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_DECAL

End


;------------------------------------------------------------------------------
Object StingerSoldierMissileProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE InfantryStingerPreIgnitionExhaust
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            300
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_StingerMissileIgnitionSound
DistanceToTargetForLock  100
End
Locomotor  SET_NORMAL StingerMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  300
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
ObjectReskin StingerSoldierMissileProjectileHeroic StingerSoldierMissileProjectile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE HeroicInfantryStingerPreIgnitionExhaust
End
End
End

;------------------------------------------------------------------------------
Object AnarchistGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  UIAnar_M
ParticleSysBone  None AnarchistGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_0332
TumbleRandomly                   Yes
DetonateCallsKill                Yes
FirstHeight                      30
SecondHeight                     30
FirstPercentIndent               50%
SecondPercentIndent              90%
FlightPathAdjustDistPerSecond    100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object GLAAnarchistImprovisedMineRandom

BuildVariations  GLAAnarchistImprovisedMineOne GLAAnarchistImprovisedMineTwo GLAAnarchistImprovisedMineThree GLAAnarchistImprovisedMineFour

End

;------------------------------------------------------------------------------
Object GLAAnarchistImprovisedMineOne

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED01
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:ClusterMine
EditorSorting      SYSTEM
KindOf             STICK_TO_TERRAIN_SLOPE IMMOBILE DEMOTRAP NO_HEAL_ICON

ArmorSet
Conditions       None
Armor            EuroMineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Behavior  StealthUpdate ModuleTag_03
StealthDelay        2000 ; msec
FriendlyOpacityMin  100.0%
FriendlyOpacityMax  100.0%
InnateStealth       Yes
OrderIdleEnemiesToAttackMeUponReveal  Yes
End

Behavior  MinefieldBehavior  ModuleTag_04
DetonationWeapon             AnarchistImprovisedMineExplosion
DetonatedBy                  ENEMIES NEUTRAL
ScootFromStartingPointTime   500
RepeatDetonateMoveThresh     5.0
NumVirtualMines              1
Regenerates                  No
End

Geometry             CYLINDER
GeometryMajorRadius  3.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
ObjectReskin GLAAnarchistImprovisedMineTwo GLAAnarchistImprovisedMineOne

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED05
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

End


;------------------------------------------------------------------------------
ObjectReskin GLAAnarchistImprovisedMineThree GLAAnarchistImprovisedMineOne

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED03
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin GLAAnarchistImprovisedMineFour GLAAnarchistImprovisedMineOne

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXIED04
ParticleSysBone  NONE GLAMineFX
End

ConditionState  RUBBLE
Model  None
End

End

End



;------------------------------------------------------------------------------
Object TunnelNetworkCannonShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  None GenericTankShellTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    ToxinShellWeapon
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAToxinShells
ConflictsWith  Upgrade_GLAAnthraxBeta
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    ToxinShellWeaponUpgraded
StartsActive   No                      ; turned on by upgrade
TriggeredBy    Upgrade_GLAAnthraxBeta Upgrade_GLAToxinShells
RequiresAllTriggers  Yes ;TriggeredBy is an AND, not an OR like it normally is
End

Behavior  DumbProjectileBehavior ModuleTag_06
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond  100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  0.01 ; can't be zero, but we want it tiny so that it travels nearly straight
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
;This is used mostly for tracer based weapons that need the additional benefits from projectile detonations to work properly
Object JarmenKellSupressiveFireProjectile

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE ALWAYS_VISIBLE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        999.0
InitialHealth    999.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  330  ; Height of Bezier control points above highest intervening terrain
SecondHeight  420
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Supression01
DeathWeapon    GLAJarmenKellSupresiveFireSubdualWeapon
StartsActive   Yes
End

End

Object GLAVehicleBRDM1DeadHull

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes

DefaultConditionState
Model = UVBRDM1_D1
End
End

; ***DESIGN parameters ***
EditorSorting   = DEBRIS
TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body = ActiveBody ModuleTag_02
MaxHealth       = 1.0
InitialHealth   = 1.0
End


Behavior = PhysicsBehavior ModuleTag_03
Mass = 50
AllowBouncing = Yes
End

Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 0   ; min lifetime in msec
MaxLifetime = 0   ; max lifetime in msec
End

Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay = 14000
SinkRate = 2     ; in Dist/Sec
DestructionDelay = 20000
End

Behavior = TransitionDamageFX ModuleTag_06
RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry = BOX
GeometryMajorRadius = 9.0
GeometryMinorRadius = 6.0
GeometryHeight = 7.5
GeometryIsSmall = Yes

End
