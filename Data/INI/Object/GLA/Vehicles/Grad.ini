;------------------------------------------------------------------------------
Object GLAVehicleGrad

; *** ART Parameters ***
SelectPortrait          SUBM21_L
ButtonImage             SUBM21

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  UVGradA
End
End

; set cost and time fields here or else they won't work
BuildCost        1500
BuildTime        14.0    ;in seconds

Prerequisites
Object  GLAPalace
End

Side  GLA
EditorSorting  VEHICLE
BuildVariations  GLAVehicleGrad_Var1 GLAVehicleGrad_Var2 GLAVehicleGrad_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

End

;------------------------------------------------------------------------------
Object GLAVehicleGrad_Var1

; *** ART Parameters ***
SelectPortrait          SUBM21_L
ButtonImage             SUBM21

UpgradeCameo1  Upgrade_GLAAPRockets
UpgradeCameo2  Upgrade_GLAJunkRepair

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVGradA
End

ConditionState  REALLYDAMAGED
Model  UVGradA_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Turrret01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVGradTrrt
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  RUBBLE

;Salvage 1

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradTrrt
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE

ConditionState  WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE RUBBLE

;Salvage 2

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO RUBBLE

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

;When upgraded with Guided Missile

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED


End

Draw                       W3DModelDraw ModuleTag_USATier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
TransitionKey  TRANS_UNUPGRADED
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  ATTACKING
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_TWO

;No Salvage
TransitionState  TRANS_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

;Salvage 2
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

;No Salvage Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

;Salvage 2 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:BM21Grad
Side                 GLA
EditorSorting        SYSTEM
TransportSlotCount   10

WeaponSet
Conditions  None
Weapon  PRIMARY GLABM21GradRocketLauncherWeapon
Weapon  SECONDARY GLABM21GradRocketLauncherWeaponSingleFire
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End
WeaponSet
Conditions  CRATEUPGRADE_ONE
Weapon  PRIMARY GLABM21GradRocketLauncherWeaponUpgrade1
Weapon  SECONDARY GLABM21GradRocketLauncherWeaponSingleFireUpgrade1
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End
WeaponSet
Conditions  CRATEUPGRADE_TWO
Weapon  PRIMARY GLABM21GradRocketLauncherWeaponUpgrade2
Weapon  SECONDARY GLABM21GradRocketLauncherWeaponSingleFireUpgrade2
AutoChooseSources  PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
AutoChooseSources  SECONDARY FROM_SCRIPT FROM_AI
PreferredAgainst  SECONDARY INFANTRY
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;With Missile Upgrade
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY GLABM21MissileLauncher
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_ONE
Weapon  PRIMARY GLABM21MissileLauncherPlusOne
End
WeaponSet
Conditions  PLAYER_UPGRADE CRATEUPGRADE_TWO
Weapon  PRIMARY GLABM21MissileLauncherPlusTwo
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

BuildCost        1500
BuildTime        14.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  GLAPalace
End

ExperienceValue     75 100 150 200   ;Experience point value at each level
ExperienceRequired  0 200 400 800   ;Experience points needed to gain each levell
IsTrainable            Yes             ;Can gain experience
CrusherLevel           2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel         2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet             GLABM21GradCommandSet

; *** AUDIO Parameters ***
VoiceSelect            BM21GradVoiceSelect
VoiceMove              BM21GradVoiceMove
VoiceGuard             BM21GradVoiceMove
VoiceAttack            BM21GradVoiceAttack
SoundMoveStart         BM21GradTruckMoveStart
SoundMoveStartDamaged  BM21GradTruckMoveStart

UnitSpecificSounds
VoiceCreate           BM21GradVoiceCreate
VoiceCrush            BM21GradVoiceAttack
VoiceEnter            BM21GradVoiceMove
VoicePrimaryWeaponMode    BM21GradVoiceBarrageMode
VoiceSecondaryWeaponMode  BM21GradVoiceSustainedMode
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER DONT_AUTO_CRUSH_INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        200
InitialHealth    200
SubdualDamageCap  400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  30
TurretPitchRate  30
AllowsPitch  Yes
FirePitch  30
NaturalTurretPitch  5
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End

Locomotor  SET_NORMAL Bm21Locomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_09
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_GLABM21GradDeathEffect
FX   FINAL    FX_ScudLauncherExplosionOneFinal
End

; A crushing defeat
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_Damage09
;ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_22
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_Repair06
HealingAmount  2
HealingDelay  1000 ; msec
TriggeredBy  Upgrade_GLAJunkRepair
End

Behavior  WeaponBonusUpgrade Upgrade_01
TriggeredBy  Upgrade_GLAAPRockets
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Start Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;USA Guided Missile Upgrade
Behavior  WeaponSetUpgrade ModuleTag_RecyclerUpgrade01
TriggeredBy  Upgrade_GLAWorkerFakeCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_RecyclerUpgrade02
CommandSet     GLABM21GradUpgradedCommandSet
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; End Special Recycler Upgrades ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CreateCrateDie ModuleTag_salvage25
CrateData  SalvageCrateDataGLATier2
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  19.0
GeometryMinorRadius  8.0
GeometryHeight  11.5
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------------------------------------------------
ObjectReskin GLAVehicleGrad_Var2 GLAVehicleGrad_Var1

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVGradB
End

ConditionState  REALLYDAMAGED
Model  UVGradB_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Turrret01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVGradTrrt
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  RUBBLE

;Salvage 1

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradTrrt
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE

ConditionState  WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE RUBBLE

;Salvage 2

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO RUBBLE

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

;When upgraded with Guided Missile

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED


End

Draw                       W3DModelDraw ModuleTag_USATier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
TransitionKey  TRANS_UNUPGRADED
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  ATTACKING
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_TWO

;No Salvage
TransitionState  TRANS_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

;Salvage 2
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

;No Salvage Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

;Salvage 2 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

End

End



;------------------------------------------------------------------------------
ObjectReskin GLAVehicleGrad_Var3 GLAVehicleGrad_Var1

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  UVGradC
End

ConditionState  REALLYDAMAGED
Model  UVGradC_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTireTrack.tga

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Turrret01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  UVGradTrrt
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret01
TurretPitch  TurretEL01
ShowSubObject  Turret01
HideSubObject  Turret02 Turret03
WeaponLaunchBone  PRIMARY FireBone
WeaponFireFXBone  PRIMARY FireMuzzle
WeaponLaunchBone  SECONDARY FireBone
WeaponFireFXBone  SECONDARY FireMuzzle
End
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  RUBBLE

;Salvage 1

ConditionState  WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradTrrt
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE

ConditionState  WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret02
TurretPitch  TurretEL02
ShowSubObject  Turret02
HideSubObject  Turret01 Turret03
WeaponLaunchBone  PRIMARY FireBone2UP
WeaponFireFXBone  PRIMARY FireMuzzle2UP
WeaponLaunchBone  SECONDARY FireBone2UP
WeaponFireFXBone  SECONDARY FireMuzzle2UP
End
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE RUBBLE

;Salvage 2

ConditionState  WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradTrrt
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

ConditionState  WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO RUBBLE

ConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
Model  UVGradTrrt_D
Turret  Turret03
TurretPitch  TurretEL03
ShowSubObject  Turret03
HideSubObject  Turret01 Turret02
WeaponLaunchBone  PRIMARY FireBone3UP
WeaponFireFXBone  PRIMARY FireMuzzle3UP
WeaponLaunchBone  SECONDARY FireBone3UP
WeaponFireFXBone  SECONDARY FireMuzzle3UP
ParticleSysBone  Exhaust01 FlameTowerBurnerFire
ParticleSysBone  Exhaust02 FlameTowerBurnerFire
ParticleSysBone  Exhaust03 FlameTowerBurnerFire
ParticleSysBone  Exhaust04 FlameTowerBurnerFire
ParticleSysBone  Exhaust05 FlameTowerBurnerFire
ParticleSysBone  Exhaust06 FlameTowerBurnerFire
End

;When upgraded with Guided Missile

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED


End

Draw                       W3DModelDraw ModuleTag_USATier2

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
TransitionKey  TRANS_UNUPGRADED
End
AliasConditionState  WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  ATTACKING
AliasConditionState  ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_ONE
AliasConditionState  REALLYDAMAGED ATTACKING WEAPONSET_CRATEUPGRADE_TWO

;No Salvage
TransitionState  TRANS_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_SALVAGE_ONE
End

;Salvage 2
TransitionState  TRANS_UNUPGRADED TRANS_SALVAGE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

ConditionState  WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl
Animation  UVGradMssl.UVGradMssl
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_SALVAGE_TWO
End

;No Salvage Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_NORMAL
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONB01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponA01
TransitionKey  TRANS_NORMAL
End

;Salvage 1 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONC01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponB01
TransitionKey  TRANS_DAMAGED_SALVAGE_ONE
End

;Salvage 2 Damaged
TransitionState  TRANS_DAMAGED_UNUPGRADED TRANS_DAMAGED_SALVAGE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO ATTACKING
Model  UVGradMssl_D
Animation  UVGradMssl_D.UVGradMssl_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRET
HideSubObject  WEAPONA01 WEAPONB01
WeaponLaunchBone  PRIMARY Muzzle
WeaponHideShowBone  PRIMARY WeaponC01
TransitionKey  TRANS_DAMAGED_SALVAGE_TWO
End

End

End